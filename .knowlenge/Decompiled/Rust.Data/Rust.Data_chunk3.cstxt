using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Entity : IDisposable, IPooled, IProto<Entity>, IProto
{
	[NonSerialized]
	public BaseNetworkable baseNetworkable;

	[NonSerialized]
	public BaseEntity baseEntity;

	[NonSerialized]
	public BasePlayer basePlayer;

	[NonSerialized]
	public WorldItem worldItem;

	[NonSerialized]
	public BaseResource resource;

	[NonSerialized]
	public BuildingBlock buildingBlock;

	[NonSerialized]
	public ProtoBuf.Environment environment;

	[NonSerialized]
	public Corpse corpse;

	[NonSerialized]
	public ParentInfo parent;

	[NonSerialized]
	public KeyLock keyLock;

	[NonSerialized]
	public CodeLock codeLock;

	[NonSerialized]
	public EntitySlots entitySlots;

	[NonSerialized]
	public BuildingPrivilege buildingPrivilege;

	[NonSerialized]
	public StorageBox storageBox;

	[NonSerialized]
	public HeldEntity heldEntity;

	[NonSerialized]
	public BaseProjectile baseProjectile;

	[NonSerialized]
	public BaseNPC baseNPC;

	[NonSerialized]
	public Loot loot;

	[NonSerialized]
	public GenericSpawner genericSpawner;

	[NonSerialized]
	public SleepingBag sleepingBag;

	[NonSerialized]
	public LootableCorpse lootableCorpse;

	[NonSerialized]
	public Sign sign;

	[NonSerialized]
	public BaseCombat baseCombat;

	[NonSerialized]
	public MapEntity mapEntity;

	[NonSerialized]
	public ResearchTable researchTable;

	[NonSerialized]
	public DudExplosive dudExplosive;

	[NonSerialized]
	public MiningQuarry miningQuarry;

	[NonSerialized]
	public BaseVehicle baseVehicle;

	[NonSerialized]
	public Helicopter helicopter;

	[NonSerialized]
	public Landmine landmine;

	[NonSerialized]
	public AutoTurret autoturret;

	[NonSerialized]
	public SphereEntity sphereEntity;

	[NonSerialized]
	public StabilityEntity stabilityEntity;

	[NonSerialized]
	public OwnerInfo ownerInfo;

	[NonSerialized]
	public DecayEntity decayEntity;

	[NonSerialized]
	public Spawnable spawnable;

	[NonSerialized]
	public ServerGib servergib;

	[NonSerialized]
	public VendingMachine vendingMachine;

	[NonSerialized]
	public SpinnerWheel spinnerWheel;

	[NonSerialized]
	public Lift lift;

	[NonSerialized]
	public BradleyAPC bradley;

	[NonSerialized]
	public WaterWell waterwell;

	[NonSerialized]
	public Motorboat motorBoat;

	[NonSerialized]
	public IOEntity ioEntity;

	[NonSerialized]
	public PuzzleReset puzzleReset;

	[NonSerialized]
	public RelationshipManager relationshipManager;

	[NonSerialized]
	public HotAirBalloon hotAirBalloon;

	[NonSerialized]
	public SAMSite samSite;

	[NonSerialized]
	public EggHunt eggHunt;

	[NonSerialized]
	public ArcadeMachine arcadeMachine;

	[NonSerialized]
	public Minicopter miniCopter;

	[NonSerialized]
	public Horse horse;

	[NonSerialized]
	public SmartAlarm smartAlarm;

	[NonSerialized]
	public LightString lightString;

	[NonSerialized]
	public LightDeployer lightDeployer;

	[NonSerialized]
	public RCEntity rcEntity;

	[NonSerialized]
	public ComputerStation computerStation;

	[NonSerialized]
	public GrowableEntity growableEntity;

	[NonSerialized]
	public Composter composter;

	[NonSerialized]
	public ModularVehicle modularVehicle;

	[NonSerialized]
	public ModularCar modularCar;

	[NonSerialized]
	public SimpleUID simpleUID;

	[NonSerialized]
	public VehicleLift vehicleLift;

	[NonSerialized]
	public EngineStorage engineStorage;

	[NonSerialized]
	public VehicleVendor vehicleVendor;

	[NonSerialized]
	public WaterPool WaterPool;

	[NonSerialized]
	public Photo photo;

	[NonSerialized]
	public PhotoFrame photoFrame;

	[NonSerialized]
	public VehicleModule vehicleModule;

	[NonSerialized]
	public MixingTable mixingTable;

	[NonSerialized]
	public ShopKeeper shopKeeper;

	[NonSerialized]
	public Elevator elevator;

	[NonSerialized]
	public SkullTrophy skullTrophy;

	[NonSerialized]
	public Cassette cassette;

	[NonSerialized]
	public Telephone telephone;

	[NonSerialized]
	public BoomBox boomBox;

	[NonSerialized]
	public NeonSign neonSign;

	[NonSerialized]
	public SubEntityList subEntityList;

	[NonSerialized]
	public MarketTerminal marketTerminal;

	[NonSerialized]
	public DeliveryDrone deliveryDrone;

	[NonSerialized]
	public ReclaimTerminal reclaimTerminal;

	[NonSerialized]
	public SlotMachine slotMachine;

	[NonSerialized]
	public TrainEngine trainEngine;

	[NonSerialized]
	public CardGame cardGame;

	[NonSerialized]
	public Crane crane;

	[NonSerialized]
	public ConnectedSpeaker connectedSpeaker;

	[NonSerialized]
	public AudioEntity audioEntity;

	[NonSerialized]
	public MicrophoneStand microphoneStand;

	[NonSerialized]
	public Submarine submarine;

	[NonSerialized]
	public SleepingBagCamper sleepingBagCamper;

	[NonSerialized]
	public CamperModule camperModule;

	[NonSerialized]
	public PaintableSign paintableSign;

	[NonSerialized]
	public Whitelist whitelist;

	[NonSerialized]
	public FrankensteinTable FrankensteinTable;

	[NonSerialized]
	public MLRS mlrs;

	[NonSerialized]
	public ReclaimManager reclaimManager;

	[NonSerialized]
	public GameMode gameMode;

	[NonSerialized]
	public Snowmobile snowmobile;

	[NonSerialized]
	public bool createdThisFrame;

	[NonSerialized]
	public PatternFirework patternFirework;

	[NonSerialized]
	public CargoPlane cargoPlane;

	[NonSerialized]
	public PaintedItem paintedItem;

	[NonSerialized]
	public ClanManager clanManager;

	[NonSerialized]
	public Spray spray;

	[NonSerialized]
	public BaseTrain baseTrain;

	[NonSerialized]
	public Zipline zipline;

	[NonSerialized]
	public ZiplineMountable ziplineMountable;

	[NonSerialized]
	public ZiplineArrivalPoint ZiplineArrival;

	[NonSerialized]
	public SprayLine sprayLine;

	[NonSerialized]
	public CoalingTower coalingTower;

	[NonSerialized]
	public SimpleInt simpleInt;

	[NonSerialized]
	public BaseOven baseOven;

	[NonSerialized]
	public BrainComponent brainComponent;

	[NonSerialized]
	public ProceduralDungeon proceduralDungeon;

	[NonSerialized]
	public IndustrialConveyor industrialConveyor;

	[NonSerialized]
	public IndustrialCrafter industrialCrafter;

	[NonSerialized]
	public Drone drone;

	[NonSerialized]
	public TimedExplosive explosive;

	[NonSerialized]
	public SimpleUInt simpleUint;

	[NonSerialized]
	public WeaponRack weaponRack;

	[NonSerialized]
	public AttackHeli attackHeli;

	[NonSerialized]
	public AttackHeliTurret attackHeliTurret;

	[NonSerialized]
	public AttackHeliRockets attackHeliRockets;

	[NonSerialized]
	public BaseBoat baseBoat;

	[NonSerialized]
	public Ragdoll ragdoll;

	[NonSerialized]
	public DieselEngine dieselEngine;

	[NonSerialized]
	public AssociatedFiles associatedFiles;

	[NonSerialized]
	public NexusFerry nexusFerry;

	[NonSerialized]
	public NexusIsland nexusIsland;

	[NonSerialized]
	public NexusDockTerminal nexusDockTerminal;

	[NonSerialized]
	public RockingChair rockingChair;

	[NonSerialized]
	public HeadData headData;

	[NonSerialized]
	public WantedPoster wantedPoster;

	[NonSerialized]
	public WaypointRace waypointRace;

	[NonSerialized]
	public LegacyShelter legacyShelter;

	[NonSerialized]
	public MetalDetectorSource metalDetectorSource;

	[NonSerialized]
	public TutorialIsland tutorialIsland;

	[NonSerialized]
	public CinematicEntity cinematicEntity;

	[NonSerialized]
	public BuildingPrivilegeRetro buildingPrivilegeRetro;

	[NonSerialized]
	public HarborCrane harborCrane;

	[NonSerialized]
	public CargoShip cargoShip;

	[NonSerialized]
	public CargoShipContainer cargoShipContainer;

	[NonSerialized]
	public MissionMapMarker missionMapMarker;

	[NonSerialized]
	public Bike bike;

	[NonSerialized]
	public DiverPropulsionVehicle diverPropulsionVehicle;

	[NonSerialized]
	public TravellingVendor travellingVendor;

	[NonSerialized]
	public VendingDynamicPricing vendingDynamicPricing;

	[NonSerialized]
	public TinCanAlarm tinCanAlarm;

	[NonSerialized]
	public DigitalClock digitalClock;

	[NonSerialized]
	public ElevatorLift elevatorLift;

	[NonSerialized]
	public NPCVendingMachine npcVendingMachine;

	[NonSerialized]
	public Mailbox mailbox;

	[NonSerialized]
	public GunWeaponMod projectileWeaponMod;

	[NonSerialized]
	public BaseSculpture baseSculpture;

	[NonSerialized]
	public VendingMachineStats vendingMachineStats;

	[NonSerialized]
	public Catapult catapult;

	[NonSerialized]
	public SiegeTower siegeTower;

	[NonSerialized]
	public Ballista ballista;

	[NonSerialized]
	public BallistaGun ballistaGun;

	[NonSerialized]
	public BatteringRam batteringRam;

	[NonSerialized]
	public TemporaryRagdoll temporaryRagdoll;

	[NonSerialized]
	public ConstructableEntity constructableEntity;

	[NonSerialized]
	public ChickenCoop chickenCoop;

	[NonSerialized]
	public FarmableAnimal farmableAnimal;

	[NonSerialized]
	public ItemOwnershipAmount ownership;

	[NonSerialized]
	public Beehive beehive;

	[NonSerialized]
	public BeeMasterSwarm beeMasterSwarm;

	[NonSerialized]
	public ContainerCorpseData containerCorpse;

	[NonSerialized]
	public NPCSensesState npcSensesState;

	[NonSerialized]
	public VineMountable vineMountable;

	[NonSerialized]
	public VineTree vineTree;

	[NonSerialized]
	public TreeRespawn treeRespawn;

	[NonSerialized]
	public WallpaperTool wallpaperTool;

	[NonSerialized]
	public CommandBlock commandBlock;

	[NonSerialized]
	public StaticRespawnAreaData staticRespawn;

	[NonSerialized]
	public BuriedItems buriedItemStorage;

	[NonSerialized]
	public Mannequin mannequin;

	[NonSerialized]
	public BaseMelee baseMelee;

	[NonSerialized]
	public Door door;

	[NonSerialized]
	public StorageAdaptor storageAdaptor;

	[NonSerialized]
	public HelicopterFlares helicopterFlares;

	[NonSerialized]
	public WipeLaptop wipeLaptop;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Entity instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.baseNetworkable != null)
			{
				instance.baseNetworkable.ResetToPool();
				instance.baseNetworkable = null;
			}
			if (instance.baseEntity != null)
			{
				instance.baseEntity.ResetToPool();
				instance.baseEntity = null;
			}
			if (instance.basePlayer != null)
			{
				instance.basePlayer.ResetToPool();
				instance.basePlayer = null;
			}
			if (instance.worldItem != null)
			{
				instance.worldItem.ResetToPool();
				instance.worldItem = null;
			}
			if (instance.resource != null)
			{
				instance.resource.ResetToPool();
				instance.resource = null;
			}
			if (instance.buildingBlock != null)
			{
				instance.buildingBlock.ResetToPool();
				instance.buildingBlock = null;
			}
			if (instance.environment != null)
			{
				instance.environment.ResetToPool();
				instance.environment = null;
			}
			if (instance.corpse != null)
			{
				instance.corpse.ResetToPool();
				instance.corpse = null;
			}
			if (instance.parent != null)
			{
				instance.parent.ResetToPool();
				instance.parent = null;
			}
			if (instance.keyLock != null)
			{
				instance.keyLock.ResetToPool();
				instance.keyLock = null;
			}
			if (instance.codeLock != null)
			{
				instance.codeLock.ResetToPool();
				instance.codeLock = null;
			}
			if (instance.entitySlots != null)
			{
				instance.entitySlots.ResetToPool();
				instance.entitySlots = null;
			}
			if (instance.buildingPrivilege != null)
			{
				instance.buildingPrivilege.ResetToPool();
				instance.buildingPrivilege = null;
			}
			if (instance.storageBox != null)
			{
				instance.storageBox.ResetToPool();
				instance.storageBox = null;
			}
			if (instance.heldEntity != null)
			{
				instance.heldEntity.ResetToPool();
				instance.heldEntity = null;
			}
			if (instance.baseProjectile != null)
			{
				instance.baseProjectile.ResetToPool();
				instance.baseProjectile = null;
			}
			if (instance.baseNPC != null)
			{
				instance.baseNPC.ResetToPool();
				instance.baseNPC = null;
			}
			if (instance.loot != null)
			{
				instance.loot.ResetToPool();
				instance.loot = null;
			}
			if (instance.genericSpawner != null)
			{
				instance.genericSpawner.ResetToPool();
				instance.genericSpawner = null;
			}
			if (instance.sleepingBag != null)
			{
				instance.sleepingBag.ResetToPool();
				instance.sleepingBag = null;
			}
			if (instance.lootableCorpse != null)
			{
				instance.lootableCorpse.ResetToPool();
				instance.lootableCorpse = null;
			}
			if (instance.sign != null)
			{
				instance.sign.ResetToPool();
				instance.sign = null;
			}
			if (instance.baseCombat != null)
			{
				instance.baseCombat.ResetToPool();
				instance.baseCombat = null;
			}
			if (instance.mapEntity != null)
			{
				instance.mapEntity.ResetToPool();
				instance.mapEntity = null;
			}
			if (instance.researchTable != null)
			{
				instance.researchTable.ResetToPool();
				instance.researchTable = null;
			}
			if (instance.dudExplosive != null)
			{
				instance.dudExplosive.ResetToPool();
				instance.dudExplosive = null;
			}
			if (instance.miningQuarry != null)
			{
				instance.miningQuarry.ResetToPool();
				instance.miningQuarry = null;
			}
			if (instance.baseVehicle != null)
			{
				instance.baseVehicle.ResetToPool();
				instance.baseVehicle = null;
			}
			if (instance.helicopter != null)
			{
				instance.helicopter.ResetToPool();
				instance.helicopter = null;
			}
			if (instance.landmine != null)
			{
				instance.landmine.ResetToPool();
				instance.landmine = null;
			}
			if (instance.autoturret != null)
			{
				instance.autoturret.ResetToPool();
				instance.autoturret = null;
			}
			if (instance.sphereEntity != null)
			{
				instance.sphereEntity.ResetToPool();
				instance.sphereEntity = null;
			}
			if (instance.stabilityEntity != null)
			{
				instance.stabilityEntity.ResetToPool();
				instance.stabilityEntity = null;
			}
			if (instance.ownerInfo != null)
			{
				instance.ownerInfo.ResetToPool();
				instance.ownerInfo = null;
			}
			if (instance.decayEntity != null)
			{
				instance.decayEntity.ResetToPool();
				instance.decayEntity = null;
			}
			if (instance.spawnable != null)
			{
				instance.spawnable.ResetToPool();
				instance.spawnable = null;
			}
			if (instance.servergib != null)
			{
				instance.servergib.ResetToPool();
				instance.servergib = null;
			}
			if (instance.vendingMachine != null)
			{
				instance.vendingMachine.ResetToPool();
				instance.vendingMachine = null;
			}
			if (instance.spinnerWheel != null)
			{
				instance.spinnerWheel.ResetToPool();
				instance.spinnerWheel = null;
			}
			if (instance.lift != null)
			{
				instance.lift.ResetToPool();
				instance.lift = null;
			}
			if (instance.bradley != null)
			{
				instance.bradley.ResetToPool();
				instance.bradley = null;
			}
			if (instance.waterwell != null)
			{
				instance.waterwell.ResetToPool();
				instance.waterwell = null;
			}
			if (instance.motorBoat != null)
			{
				instance.motorBoat.ResetToPool();
				instance.motorBoat = null;
			}
			if (instance.ioEntity != null)
			{
				instance.ioEntity.ResetToPool();
				instance.ioEntity = null;
			}
			if (instance.puzzleReset != null)
			{
				instance.puzzleReset.ResetToPool();
				instance.puzzleReset = null;
			}
			if (instance.relationshipManager != null)
			{
				instance.relationshipManager.ResetToPool();
				instance.relationshipManager = null;
			}
			if (instance.hotAirBalloon != null)
			{
				instance.hotAirBalloon.ResetToPool();
				instance.hotAirBalloon = null;
			}
			if (instance.samSite != null)
			{
				instance.samSite.ResetToPool();
				instance.samSite = null;
			}
			if (instance.eggHunt != null)
			{
				instance.eggHunt.ResetToPool();
				instance.eggHunt = null;
			}
			if (instance.arcadeMachine != null)
			{
				instance.arcadeMachine.ResetToPool();
				instance.arcadeMachine = null;
			}
			if (instance.miniCopter != null)
			{
				instance.miniCopter.ResetToPool();
				instance.miniCopter = null;
			}
			if (instance.horse != null)
			{
				instance.horse.ResetToPool();
				instance.horse = null;
			}
			if (instance.smartAlarm != null)
			{
				instance.smartAlarm.ResetToPool();
				instance.smartAlarm = null;
			}
			if (instance.lightString != null)
			{
				instance.lightString.ResetToPool();
				instance.lightString = null;
			}
			if (instance.lightDeployer != null)
			{
				instance.lightDeployer.ResetToPool();
				instance.lightDeployer = null;
			}
			if (instance.rcEntity != null)
			{
				instance.rcEntity.ResetToPool();
				instance.rcEntity = null;
			}
			if (instance.computerStation != null)
			{
				instance.computerStation.ResetToPool();
				instance.computerStation = null;
			}
			if (instance.growableEntity != null)
			{
				instance.growableEntity.ResetToPool();
				instance.growableEntity = null;
			}
			if (instance.composter != null)
			{
				instance.composter.ResetToPool();
				instance.composter = null;
			}
			if (instance.modularVehicle != null)
			{
				instance.modularVehicle.ResetToPool();
				instance.modularVehicle = null;
			}
			if (instance.modularCar != null)
			{
				instance.modularCar.ResetToPool();
				instance.modularCar = null;
			}
			if (instance.simpleUID != null)
			{
				instance.simpleUID.ResetToPool();
				instance.simpleUID = null;
			}
			if (instance.vehicleLift != null)
			{
				instance.vehicleLift.ResetToPool();
				instance.vehicleLift = null;
			}
			if (instance.engineStorage != null)
			{
				instance.engineStorage.ResetToPool();
				instance.engineStorage = null;
			}
			if (instance.vehicleVendor != null)
			{
				instance.vehicleVendor.ResetToPool();
				instance.vehicleVendor = null;
			}
			if (instance.WaterPool != null)
			{
				instance.WaterPool.ResetToPool();
				instance.WaterPool = null;
			}
			if (instance.photo != null)
			{
				instance.photo.ResetToPool();
				instance.photo = null;
			}
			if (instance.photoFrame != null)
			{
				instance.photoFrame.ResetToPool();
				instance.photoFrame = null;
			}
			if (instance.vehicleModule != null)
			{
				instance.vehicleModule.ResetToPool();
				instance.vehicleModule = null;
			}
			if (instance.mixingTable != null)
			{
				instance.mixingTable.ResetToPool();
				instance.mixingTable = null;
			}
			if (instance.shopKeeper != null)
			{
				instance.shopKeeper.ResetToPool();
				instance.shopKeeper = null;
			}
			if (instance.elevator != null)
			{
				instance.elevator.ResetToPool();
				instance.elevator = null;
			}
			if (instance.skullTrophy != null)
			{
				instance.skullTrophy.ResetToPool();
				instance.skullTrophy = null;
			}
			if (instance.cassette != null)
			{
				instance.cassette.ResetToPool();
				instance.cassette = null;
			}
			if (instance.telephone != null)
			{
				instance.telephone.ResetToPool();
				instance.telephone = null;
			}
			if (instance.boomBox != null)
			{
				instance.boomBox.ResetToPool();
				instance.boomBox = null;
			}
			if (instance.neonSign != null)
			{
				instance.neonSign.ResetToPool();
				instance.neonSign = null;
			}
			if (instance.subEntityList != null)
			{
				instance.subEntityList.ResetToPool();
				instance.subEntityList = null;
			}
			if (instance.marketTerminal != null)
			{
				instance.marketTerminal.ResetToPool();
				instance.marketTerminal = null;
			}
			if (instance.deliveryDrone != null)
			{
				instance.deliveryDrone.ResetToPool();
				instance.deliveryDrone = null;
			}
			if (instance.reclaimTerminal != null)
			{
				instance.reclaimTerminal.ResetToPool();
				instance.reclaimTerminal = null;
			}
			if (instance.slotMachine != null)
			{
				instance.slotMachine.ResetToPool();
				instance.slotMachine = null;
			}
			if (instance.trainEngine != null)
			{
				instance.trainEngine.ResetToPool();
				instance.trainEngine = null;
			}
			if (instance.cardGame != null)
			{
				instance.cardGame.ResetToPool();
				instance.cardGame = null;
			}
			if (instance.crane != null)
			{
				instance.crane.ResetToPool();
				instance.crane = null;
			}
			if (instance.connectedSpeaker != null)
			{
				instance.connectedSpeaker.ResetToPool();
				instance.connectedSpeaker = null;
			}
			if (instance.audioEntity != null)
			{
				instance.audioEntity.ResetToPool();
				instance.audioEntity = null;
			}
			if (instance.microphoneStand != null)
			{
				instance.microphoneStand.ResetToPool();
				instance.microphoneStand = null;
			}
			if (instance.submarine != null)
			{
				instance.submarine.ResetToPool();
				instance.submarine = null;
			}
			if (instance.sleepingBagCamper != null)
			{
				instance.sleepingBagCamper.ResetToPool();
				instance.sleepingBagCamper = null;
			}
			if (instance.camperModule != null)
			{
				instance.camperModule.ResetToPool();
				instance.camperModule = null;
			}
			if (instance.paintableSign != null)
			{
				instance.paintableSign.ResetToPool();
				instance.paintableSign = null;
			}
			if (instance.whitelist != null)
			{
				instance.whitelist.ResetToPool();
				instance.whitelist = null;
			}
			if (instance.FrankensteinTable != null)
			{
				instance.FrankensteinTable.ResetToPool();
				instance.FrankensteinTable = null;
			}
			if (instance.mlrs != null)
			{
				instance.mlrs.ResetToPool();
				instance.mlrs = null;
			}
			if (instance.reclaimManager != null)
			{
				instance.reclaimManager.ResetToPool();
				instance.reclaimManager = null;
			}
			if (instance.gameMode != null)
			{
				instance.gameMode.ResetToPool();
				instance.gameMode = null;
			}
			if (instance.snowmobile != null)
			{
				instance.snowmobile.ResetToPool();
				instance.snowmobile = null;
			}
			instance.createdThisFrame = false;
			if (instance.patternFirework != null)
			{
				instance.patternFirework.ResetToPool();
				instance.patternFirework = null;
			}
			if (instance.cargoPlane != null)
			{
				instance.cargoPlane.ResetToPool();
				instance.cargoPlane = null;
			}
			if (instance.paintedItem != null)
			{
				instance.paintedItem.ResetToPool();
				instance.paintedItem = null;
			}
			if (instance.clanManager != null)
			{
				instance.clanManager.ResetToPool();
				instance.clanManager = null;
			}
			if (instance.spray != null)
			{
				instance.spray.ResetToPool();
				instance.spray = null;
			}
			if (instance.baseTrain != null)
			{
				instance.baseTrain.ResetToPool();
				instance.baseTrain = null;
			}
			if (instance.zipline != null)
			{
				instance.zipline.ResetToPool();
				instance.zipline = null;
			}
			if (instance.ziplineMountable != null)
			{
				instance.ziplineMountable.ResetToPool();
				instance.ziplineMountable = null;
			}
			if (instance.ZiplineArrival != null)
			{
				instance.ZiplineArrival.ResetToPool();
				instance.ZiplineArrival = null;
			}
			if (instance.sprayLine != null)
			{
				instance.sprayLine.ResetToPool();
				instance.sprayLine = null;
			}
			if (instance.coalingTower != null)
			{
				instance.coalingTower.ResetToPool();
				instance.coalingTower = null;
			}
			if (instance.simpleInt != null)
			{
				instance.simpleInt.ResetToPool();
				instance.simpleInt = null;
			}
			if (instance.baseOven != null)
			{
				instance.baseOven.ResetToPool();
				instance.baseOven = null;
			}
			if (instance.brainComponent != null)
			{
				instance.brainComponent.ResetToPool();
				instance.brainComponent = null;
			}
			if (instance.proceduralDungeon != null)
			{
				instance.proceduralDungeon.ResetToPool();
				instance.proceduralDungeon = null;
			}
			if (instance.industrialConveyor != null)
			{
				instance.industrialConveyor.ResetToPool();
				instance.industrialConveyor = null;
			}
			if (instance.industrialCrafter != null)
			{
				instance.industrialCrafter.ResetToPool();
				instance.industrialCrafter = null;
			}
			if (instance.drone != null)
			{
				instance.drone.ResetToPool();
				instance.drone = null;
			}
			if (instance.explosive != null)
			{
				instance.explosive.ResetToPool();
				instance.explosive = null;
			}
			if (instance.simpleUint != null)
			{
				instance.simpleUint.ResetToPool();
				instance.simpleUint = null;
			}
			if (instance.weaponRack != null)
			{
				instance.weaponRack.ResetToPool();
				instance.weaponRack = null;
			}
			if (instance.attackHeli != null)
			{
				instance.attackHeli.ResetToPool();
				instance.attackHeli = null;
			}
			if (instance.attackHeliTurret != null)
			{
				instance.attackHeliTurret.ResetToPool();
				instance.attackHeliTurret = null;
			}
			if (instance.attackHeliRockets != null)
			{
				instance.attackHeliRockets.ResetToPool();
				instance.attackHeliRockets = null;
			}
			if (instance.baseBoat != null)
			{
				instance.baseBoat.ResetToPool();
				instance.baseBoat = null;
			}
			if (instance.ragdoll != null)
			{
				instance.ragdoll.ResetToPool();
				instance.ragdoll = null;
			}
			if (instance.dieselEngine != null)
			{
				instance.dieselEngine.ResetToPool();
				instance.dieselEngine = null;
			}
			if (instance.associatedFiles != null)
			{
				instance.associatedFiles.ResetToPool();
				instance.associatedFiles = null;
			}
			if (instance.nexusFerry != null)
			{
				instance.nexusFerry.ResetToPool();
				instance.nexusFerry = null;
			}
			if (instance.nexusIsland != null)
			{
				instance.nexusIsland.ResetToPool();
				instance.nexusIsland = null;
			}
			if (instance.nexusDockTerminal != null)
			{
				instance.nexusDockTerminal.ResetToPool();
				instance.nexusDockTerminal = null;
			}
			if (instance.rockingChair != null)
			{
				instance.rockingChair.ResetToPool();
				instance.rockingChair = null;
			}
			if (instance.headData != null)
			{
				instance.headData.ResetToPool();
				instance.headData = null;
			}
			if (instance.wantedPoster != null)
			{
				instance.wantedPoster.ResetToPool();
				instance.wantedPoster = null;
			}
			if (instance.waypointRace != null)
			{
				instance.waypointRace.ResetToPool();
				instance.waypointRace = null;
			}
			if (instance.legacyShelter != null)
			{
				instance.legacyShelter.ResetToPool();
				instance.legacyShelter = null;
			}
			if (instance.metalDetectorSource != null)
			{
				instance.metalDetectorSource.ResetToPool();
				instance.metalDetectorSource = null;
			}
			if (instance.tutorialIsland != null)
			{
				instance.tutorialIsland.ResetToPool();
				instance.tutorialIsland = null;
			}
			if (instance.cinematicEntity != null)
			{
				instance.cinematicEntity.ResetToPool();
				instance.cinematicEntity = null;
			}
			if (instance.buildingPrivilegeRetro != null)
			{
				instance.buildingPrivilegeRetro.ResetToPool();
				instance.buildingPrivilegeRetro = null;
			}
			if (instance.harborCrane != null)
			{
				instance.harborCrane.ResetToPool();
				instance.harborCrane = null;
			}
			if (instance.cargoShip != null)
			{
				instance.cargoShip.ResetToPool();
				instance.cargoShip = null;
			}
			if (instance.cargoShipContainer != null)
			{
				instance.cargoShipContainer.ResetToPool();
				instance.cargoShipContainer = null;
			}
			if (instance.missionMapMarker != null)
			{
				instance.missionMapMarker.ResetToPool();
				instance.missionMapMarker = null;
			}
			if (instance.bike != null)
			{
				instance.bike.ResetToPool();
				instance.bike = null;
			}
			if (instance.diverPropulsionVehicle != null)
			{
				instance.diverPropulsionVehicle.ResetToPool();
				instance.diverPropulsionVehicle = null;
			}
			if (instance.travellingVendor != null)
			{
				instance.travellingVendor.ResetToPool();
				instance.travellingVendor = null;
			}
			if (instance.vendingDynamicPricing != null)
			{
				instance.vendingDynamicPricing.ResetToPool();
				instance.vendingDynamicPricing = null;
			}
			if (instance.tinCanAlarm != null)
			{
				instance.tinCanAlarm.ResetToPool();
				instance.tinCanAlarm = null;
			}
			if (instance.digitalClock != null)
			{
				instance.digitalClock.ResetToPool();
				instance.digitalClock = null;
			}
			if (instance.elevatorLift != null)
			{
				instance.elevatorLift.ResetToPool();
				instance.elevatorLift = null;
			}
			if (instance.npcVendingMachine != null)
			{
				instance.npcVendingMachine.ResetToPool();
				instance.npcVendingMachine = null;
			}
			if (instance.mailbox != null)
			{
				instance.mailbox.ResetToPool();
				instance.mailbox = null;
			}
			if (instance.projectileWeaponMod != null)
			{
				instance.projectileWeaponMod.ResetToPool();
				instance.projectileWeaponMod = null;
			}
			if (instance.baseSculpture != null)
			{
				instance.baseSculpture.ResetToPool();
				instance.baseSculpture = null;
			}
			if (instance.vendingMachineStats != null)
			{
				instance.vendingMachineStats.ResetToPool();
				instance.vendingMachineStats = null;
			}
			if (instance.catapult != null)
			{
				instance.catapult.ResetToPool();
				instance.catapult = null;
			}
			if (instance.siegeTower != null)
			{
				instance.siegeTower.ResetToPool();
				instance.siegeTower = null;
			}
			if (instance.ballista != null)
			{
				instance.ballista.ResetToPool();
				instance.ballista = null;
			}
			if (instance.ballistaGun != null)
			{
				instance.ballistaGun.ResetToPool();
				instance.ballistaGun = null;
			}
			if (instance.batteringRam != null)
			{
				instance.batteringRam.ResetToPool();
				instance.batteringRam = null;
			}
			if (instance.temporaryRagdoll != null)
			{
				instance.temporaryRagdoll.ResetToPool();
				instance.temporaryRagdoll = null;
			}
			if (instance.constructableEntity != null)
			{
				instance.constructableEntity.ResetToPool();
				instance.constructableEntity = null;
			}
			if (instance.chickenCoop != null)
			{
				instance.chickenCoop.ResetToPool();
				instance.chickenCoop = null;
			}
			if (instance.farmableAnimal != null)
			{
				instance.farmableAnimal.ResetToPool();
				instance.farmableAnimal = null;
			}
			if (instance.ownership != null)
			{
				instance.ownership.ResetToPool();
				instance.ownership = null;
			}
			if (instance.beehive != null)
			{
				instance.beehive.ResetToPool();
				instance.beehive = null;
			}
			if (instance.beeMasterSwarm != null)
			{
				instance.beeMasterSwarm.ResetToPool();
				instance.beeMasterSwarm = null;
			}
			if (instance.containerCorpse != null)
			{
				instance.containerCorpse.ResetToPool();
				instance.containerCorpse = null;
			}
			if (instance.npcSensesState != null)
			{
				instance.npcSensesState.ResetToPool();
				instance.npcSensesState = null;
			}
			if (instance.vineMountable != null)
			{
				instance.vineMountable.ResetToPool();
				instance.vineMountable = null;
			}
			if (instance.vineTree != null)
			{
				instance.vineTree.ResetToPool();
				instance.vineTree = null;
			}
			if (instance.treeRespawn != null)
			{
				instance.treeRespawn.ResetToPool();
				instance.treeRespawn = null;
			}
			if (instance.wallpaperTool != null)
			{
				instance.wallpaperTool.ResetToPool();
				instance.wallpaperTool = null;
			}
			if (instance.commandBlock != null)
			{
				instance.commandBlock.ResetToPool();
				instance.commandBlock = null;
			}
			if (instance.staticRespawn != null)
			{
				instance.staticRespawn.ResetToPool();
				instance.staticRespawn = null;
			}
			if (instance.buriedItemStorage != null)
			{
				instance.buriedItemStorage.ResetToPool();
				instance.buriedItemStorage = null;
			}
			if (instance.mannequin != null)
			{
				instance.mannequin.ResetToPool();
				instance.mannequin = null;
			}
			if (instance.baseMelee != null)
			{
				instance.baseMelee.ResetToPool();
				instance.baseMelee = null;
			}
			if (instance.door != null)
			{
				instance.door.ResetToPool();
				instance.door = null;
			}
			if (instance.storageAdaptor != null)
			{
				instance.storageAdaptor.ResetToPool();
				instance.storageAdaptor = null;
			}
			if (instance.helicopterFlares != null)
			{
				instance.helicopterFlares.ResetToPool();
				instance.helicopterFlares = null;
			}
			if (instance.wipeLaptop != null)
			{
				instance.wipeLaptop.ResetToPool();
				instance.wipeLaptop = null;
			}
			Pool.Free<Entity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Entity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Entity instance)
	{
		if (baseNetworkable != null)
		{
			if (instance.baseNetworkable == null)
			{
				instance.baseNetworkable = baseNetworkable.Copy();
			}
			else
			{
				baseNetworkable.CopyTo(instance.baseNetworkable);
			}
		}
		else
		{
			instance.baseNetworkable = null;
		}
		if (baseEntity != null)
		{
			if (instance.baseEntity == null)
			{
				instance.baseEntity = baseEntity.Copy();
			}
			else
			{
				baseEntity.CopyTo(instance.baseEntity);
			}
		}
		else
		{
			instance.baseEntity = null;
		}
		if (basePlayer != null)
		{
			if (instance.basePlayer == null)
			{
				instance.basePlayer = basePlayer.Copy();
			}
			else
			{
				basePlayer.CopyTo(instance.basePlayer);
			}
		}
		else
		{
			instance.basePlayer = null;
		}
		if (worldItem != null)
		{
			if (instance.worldItem == null)
			{
				instance.worldItem = worldItem.Copy();
			}
			else
			{
				worldItem.CopyTo(instance.worldItem);
			}
		}
		else
		{
			instance.worldItem = null;
		}
		if (resource != null)
		{
			if (instance.resource == null)
			{
				instance.resource = resource.Copy();
			}
			else
			{
				resource.CopyTo(instance.resource);
			}
		}
		else
		{
			instance.resource = null;
		}
		if (buildingBlock != null)
		{
			if (instance.buildingBlock == null)
			{
				instance.buildingBlock = buildingBlock.Copy();
			}
			else
			{
				buildingBlock.CopyTo(instance.buildingBlock);
			}
		}
		else
		{
			instance.buildingBlock = null;
		}
		if (environment != null)
		{
			if (instance.environment == null)
			{
				instance.environment = environment.Copy();
			}
			else
			{
				environment.CopyTo(instance.environment);
			}
		}
		else
		{
			instance.environment = null;
		}
		if (corpse != null)
		{
			if (instance.corpse == null)
			{
				instance.corpse = corpse.Copy();
			}
			else
			{
				corpse.CopyTo(instance.corpse);
			}
		}
		else
		{
			instance.corpse = null;
		}
		if (parent != null)
		{
			if (instance.parent == null)
			{
				instance.parent = parent.Copy();
			}
			else
			{
				parent.CopyTo(instance.parent);
			}
		}
		else
		{
			instance.parent = null;
		}
		if (keyLock != null)
		{
			if (instance.keyLock == null)
			{
				instance.keyLock = keyLock.Copy();
			}
			else
			{
				keyLock.CopyTo(instance.keyLock);
			}
		}
		else
		{
			instance.keyLock = null;
		}
		if (codeLock != null)
		{
			if (instance.codeLock == null)
			{
				instance.codeLock = codeLock.Copy();
			}
			else
			{
				codeLock.CopyTo(instance.codeLock);
			}
		}
		else
		{
			instance.codeLock = null;
		}
		if (entitySlots != null)
		{
			if (instance.entitySlots == null)
			{
				instance.entitySlots = entitySlots.Copy();
			}
			else
			{
				entitySlots.CopyTo(instance.entitySlots);
			}
		}
		else
		{
			instance.entitySlots = null;
		}
		if (buildingPrivilege != null)
		{
			if (instance.buildingPrivilege == null)
			{
				instance.buildingPrivilege = buildingPrivilege.Copy();
			}
			else
			{
				buildingPrivilege.CopyTo(instance.buildingPrivilege);
			}
		}
		else
		{
			instance.buildingPrivilege = null;
		}
		if (storageBox != null)
		{
			if (instance.storageBox == null)
			{
				instance.storageBox = storageBox.Copy();
			}
			else
			{
				storageBox.CopyTo(instance.storageBox);
			}
		}
		else
		{
			instance.storageBox = null;
		}
		if (heldEntity != null)
		{
			if (instance.heldEntity == null)
			{
				instance.heldEntity = heldEntity.Copy();
			}
			else
			{
				heldEntity.CopyTo(instance.heldEntity);
			}
		}
		else
		{
			instance.heldEntity = null;
		}
		if (baseProjectile != null)
		{
			if (instance.baseProjectile == null)
			{
				instance.baseProjectile = baseProjectile.Copy();
			}
			else
			{
				baseProjectile.CopyTo(instance.baseProjectile);
			}
		}
		else
		{
			instance.baseProjectile = null;
		}
		if (baseNPC != null)
		{
			if (instance.baseNPC == null)
			{
				instance.baseNPC = baseNPC.Copy();
			}
			else
			{
				baseNPC.CopyTo(instance.baseNPC);
			}
		}
		else
		{
			instance.baseNPC = null;
		}
		if (loot != null)
		{
			if (instance.loot == null)
			{
				instance.loot = loot.Copy();
			}
			else
			{
				loot.CopyTo(instance.loot);
			}
		}
		else
		{
			instance.loot = null;
		}
		if (genericSpawner != null)
		{
			if (instance.genericSpawner == null)
			{
				instance.genericSpawner = genericSpawner.Copy();
			}
			else
			{
				genericSpawner.CopyTo(instance.genericSpawner);
			}
		}
		else
		{
			instance.genericSpawner = null;
		}
		if (sleepingBag != null)
		{
			if (instance.sleepingBag == null)
			{
				instance.sleepingBag = sleepingBag.Copy();
			}
			else
			{
				sleepingBag.CopyTo(instance.sleepingBag);
			}
		}
		else
		{
			instance.sleepingBag = null;
		}
		if (lootableCorpse != null)
		{
			if (instance.lootableCorpse == null)
			{
				instance.lootableCorpse = lootableCorpse.Copy();
			}
			else
			{
				lootableCorpse.CopyTo(instance.lootableCorpse);
			}
		}
		else
		{
			instance.lootableCorpse = null;
		}
		if (sign != null)
		{
			if (instance.sign == null)
			{
				instance.sign = sign.Copy();
			}
			else
			{
				sign.CopyTo(instance.sign);
			}
		}
		else
		{
			instance.sign = null;
		}
		if (baseCombat != null)
		{
			if (instance.baseCombat == null)
			{
				instance.baseCombat = baseCombat.Copy();
			}
			else
			{
				baseCombat.CopyTo(instance.baseCombat);
			}
		}
		else
		{
			instance.baseCombat = null;
		}
		if (mapEntity != null)
		{
			if (instance.mapEntity == null)
			{
				instance.mapEntity = mapEntity.Copy();
			}
			else
			{
				mapEntity.CopyTo(instance.mapEntity);
			}
		}
		else
		{
			instance.mapEntity = null;
		}
		if (researchTable != null)
		{
			if (instance.researchTable == null)
			{
				instance.researchTable = researchTable.Copy();
			}
			else
			{
				researchTable.CopyTo(instance.researchTable);
			}
		}
		else
		{
			instance.researchTable = null;
		}
		if (dudExplosive != null)
		{
			if (instance.dudExplosive == null)
			{
				instance.dudExplosive = dudExplosive.Copy();
			}
			else
			{
				dudExplosive.CopyTo(instance.dudExplosive);
			}
		}
		else
		{
			instance.dudExplosive = null;
		}
		if (miningQuarry != null)
		{
			if (instance.miningQuarry == null)
			{
				instance.miningQuarry = miningQuarry.Copy();
			}
			else
			{
				miningQuarry.CopyTo(instance.miningQuarry);
			}
		}
		else
		{
			instance.miningQuarry = null;
		}
		if (baseVehicle != null)
		{
			if (instance.baseVehicle == null)
			{
				instance.baseVehicle = baseVehicle.Copy();
			}
			else
			{
				baseVehicle.CopyTo(instance.baseVehicle);
			}
		}
		else
		{
			instance.baseVehicle = null;
		}
		if (helicopter != null)
		{
			if (instance.helicopter == null)
			{
				instance.helicopter = helicopter.Copy();
			}
			else
			{
				helicopter.CopyTo(instance.helicopter);
			}
		}
		else
		{
			instance.helicopter = null;
		}
		if (landmine != null)
		{
			if (instance.landmine == null)
			{
				instance.landmine = landmine.Copy();
			}
			else
			{
				landmine.CopyTo(instance.landmine);
			}
		}
		else
		{
			instance.landmine = null;
		}
		if (autoturret != null)
		{
			if (instance.autoturret == null)
			{
				instance.autoturret = autoturret.Copy();
			}
			else
			{
				autoturret.CopyTo(instance.autoturret);
			}
		}
		else
		{
			instance.autoturret = null;
		}
		if (sphereEntity != null)
		{
			if (instance.sphereEntity == null)
			{
				instance.sphereEntity = sphereEntity.Copy();
			}
			else
			{
				sphereEntity.CopyTo(instance.sphereEntity);
			}
		}
		else
		{
			instance.sphereEntity = null;
		}
		if (stabilityEntity != null)
		{
			if (instance.stabilityEntity == null)
			{
				instance.stabilityEntity = stabilityEntity.Copy();
			}
			else
			{
				stabilityEntity.CopyTo(instance.stabilityEntity);
			}
		}
		else
		{
			instance.stabilityEntity = null;
		}
		if (ownerInfo != null)
		{
			if (instance.ownerInfo == null)
			{
				instance.ownerInfo = ownerInfo.Copy();
			}
			else
			{
				ownerInfo.CopyTo(instance.ownerInfo);
			}
		}
		else
		{
			instance.ownerInfo = null;
		}
		if (decayEntity != null)
		{
			if (instance.decayEntity == null)
			{
				instance.decayEntity = decayEntity.Copy();
			}
			else
			{
				decayEntity.CopyTo(instance.decayEntity);
			}
		}
		else
		{
			instance.decayEntity = null;
		}
		if (spawnable != null)
		{
			if (instance.spawnable == null)
			{
				instance.spawnable = spawnable.Copy();
			}
			else
			{
				spawnable.CopyTo(instance.spawnable);
			}
		}
		else
		{
			instance.spawnable = null;
		}
		if (servergib != null)
		{
			if (instance.servergib == null)
			{
				instance.servergib = servergib.Copy();
			}
			else
			{
				servergib.CopyTo(instance.servergib);
			}
		}
		else
		{
			instance.servergib = null;
		}
		if (vendingMachine != null)
		{
			if (instance.vendingMachine == null)
			{
				instance.vendingMachine = vendingMachine.Copy();
			}
			else
			{
				vendingMachine.CopyTo(instance.vendingMachine);
			}
		}
		else
		{
			instance.vendingMachine = null;
		}
		if (spinnerWheel != null)
		{
			if (instance.spinnerWheel == null)
			{
				instance.spinnerWheel = spinnerWheel.Copy();
			}
			else
			{
				spinnerWheel.CopyTo(instance.spinnerWheel);
			}
		}
		else
		{
			instance.spinnerWheel = null;
		}
		if (lift != null)
		{
			if (instance.lift == null)
			{
				instance.lift = lift.Copy();
			}
			else
			{
				lift.CopyTo(instance.lift);
			}
		}
		else
		{
			instance.lift = null;
		}
		if (bradley != null)
		{
			if (instance.bradley == null)
			{
				instance.bradley = bradley.Copy();
			}
			else
			{
				bradley.CopyTo(instance.bradley);
			}
		}
		else
		{
			instance.bradley = null;
		}
		if (waterwell != null)
		{
			if (instance.waterwell == null)
			{
				instance.waterwell = waterwell.Copy();
			}
			else
			{
				waterwell.CopyTo(instance.waterwell);
			}
		}
		else
		{
			instance.waterwell = null;
		}
		if (motorBoat != null)
		{
			if (instance.motorBoat == null)
			{
				instance.motorBoat = motorBoat.Copy();
			}
			else
			{
				motorBoat.CopyTo(instance.motorBoat);
			}
		}
		else
		{
			instance.motorBoat = null;
		}
		if (ioEntity != null)
		{
			if (instance.ioEntity == null)
			{
				instance.ioEntity = ioEntity.Copy();
			}
			else
			{
				ioEntity.CopyTo(instance.ioEntity);
			}
		}
		else
		{
			instance.ioEntity = null;
		}
		if (puzzleReset != null)
		{
			if (instance.puzzleReset == null)
			{
				instance.puzzleReset = puzzleReset.Copy();
			}
			else
			{
				puzzleReset.CopyTo(instance.puzzleReset);
			}
		}
		else
		{
			instance.puzzleReset = null;
		}
		if (relationshipManager != null)
		{
			if (instance.relationshipManager == null)
			{
				instance.relationshipManager = relationshipManager.Copy();
			}
			else
			{
				relationshipManager.CopyTo(instance.relationshipManager);
			}
		}
		else
		{
			instance.relationshipManager = null;
		}
		if (hotAirBalloon != null)
		{
			if (instance.hotAirBalloon == null)
			{
				instance.hotAirBalloon = hotAirBalloon.Copy();
			}
			else
			{
				hotAirBalloon.CopyTo(instance.hotAirBalloon);
			}
		}
		else
		{
			instance.hotAirBalloon = null;
		}
		if (samSite != null)
		{
			if (instance.samSite == null)
			{
				instance.samSite = samSite.Copy();
			}
			else
			{
				samSite.CopyTo(instance.samSite);
			}
		}
		else
		{
			instance.samSite = null;
		}
		if (eggHunt != null)
		{
			if (instance.eggHunt == null)
			{
				instance.eggHunt = eggHunt.Copy();
			}
			else
			{
				eggHunt.CopyTo(instance.eggHunt);
			}
		}
		else
		{
			instance.eggHunt = null;
		}
		if (arcadeMachine != null)
		{
			if (instance.arcadeMachine == null)
			{
				instance.arcadeMachine = arcadeMachine.Copy();
			}
			else
			{
				arcadeMachine.CopyTo(instance.arcadeMachine);
			}
		}
		else
		{
			instance.arcadeMachine = null;
		}
		if (miniCopter != null)
		{
			if (instance.miniCopter == null)
			{
				instance.miniCopter = miniCopter.Copy();
			}
			else
			{
				miniCopter.CopyTo(instance.miniCopter);
			}
		}
		else
		{
			instance.miniCopter = null;
		}
		if (horse != null)
		{
			if (instance.horse == null)
			{
				instance.horse = horse.Copy();
			}
			else
			{
				horse.CopyTo(instance.horse);
			}
		}
		else
		{
			instance.horse = null;
		}
		if (smartAlarm != null)
		{
			if (instance.smartAlarm == null)
			{
				instance.smartAlarm = smartAlarm.Copy();
			}
			else
			{
				smartAlarm.CopyTo(instance.smartAlarm);
			}
		}
		else
		{
			instance.smartAlarm = null;
		}
		if (lightString != null)
		{
			if (instance.lightString == null)
			{
				instance.lightString = lightString.Copy();
			}
			else
			{
				lightString.CopyTo(instance.lightString);
			}
		}
		else
		{
			instance.lightString = null;
		}
		if (lightDeployer != null)
		{
			if (instance.lightDeployer == null)
			{
				instance.lightDeployer = lightDeployer.Copy();
			}
			else
			{
				lightDeployer.CopyTo(instance.lightDeployer);
			}
		}
		else
		{
			instance.lightDeployer = null;
		}
		if (rcEntity != null)
		{
			if (instance.rcEntity == null)
			{
				instance.rcEntity = rcEntity.Copy();
			}
			else
			{
				rcEntity.CopyTo(instance.rcEntity);
			}
		}
		else
		{
			instance.rcEntity = null;
		}
		if (computerStation != null)
		{
			if (instance.computerStation == null)
			{
				instance.computerStation = computerStation.Copy();
			}
			else
			{
				computerStation.CopyTo(instance.computerStation);
			}
		}
		else
		{
			instance.computerStation = null;
		}
		if (growableEntity != null)
		{
			if (instance.growableEntity == null)
			{
				instance.growableEntity = growableEntity.Copy();
			}
			else
			{
				growableEntity.CopyTo(instance.growableEntity);
			}
		}
		else
		{
			instance.growableEntity = null;
		}
		if (composter != null)
		{
			if (instance.composter == null)
			{
				instance.composter = composter.Copy();
			}
			else
			{
				composter.CopyTo(instance.composter);
			}
		}
		else
		{
			instance.composter = null;
		}
		if (modularVehicle != null)
		{
			if (instance.modularVehicle == null)
			{
				instance.modularVehicle = modularVehicle.Copy();
			}
			else
			{
				modularVehicle.CopyTo(instance.modularVehicle);
			}
		}
		else
		{
			instance.modularVehicle = null;
		}
		if (modularCar != null)
		{
			if (instance.modularCar == null)
			{
				instance.modularCar = modularCar.Copy();
			}
			else
			{
				modularCar.CopyTo(instance.modularCar);
			}
		}
		else
		{
			instance.modularCar = null;
		}
		if (simpleUID != null)
		{
			if (instance.simpleUID == null)
			{
				instance.simpleUID = simpleUID.Copy();
			}
			else
			{
				simpleUID.CopyTo(instance.simpleUID);
			}
		}
		else
		{
			instance.simpleUID = null;
		}
		if (vehicleLift != null)
		{
			if (instance.vehicleLift == null)
			{
				instance.vehicleLift = vehicleLift.Copy();
			}
			else
			{
				vehicleLift.CopyTo(instance.vehicleLift);
			}
		}
		else
		{
			instance.vehicleLift = null;
		}
		if (engineStorage != null)
		{
			if (instance.engineStorage == null)
			{
				instance.engineStorage = engineStorage.Copy();
			}
			else
			{
				engineStorage.CopyTo(instance.engineStorage);
			}
		}
		else
		{
			instance.engineStorage = null;
		}
		if (vehicleVendor != null)
		{
			if (instance.vehicleVendor == null)
			{
				instance.vehicleVendor = vehicleVendor.Copy();
			}
			else
			{
				vehicleVendor.CopyTo(instance.vehicleVendor);
			}
		}
		else
		{
			instance.vehicleVendor = null;
		}
		if (WaterPool != null)
		{
			if (instance.WaterPool == null)
			{
				instance.WaterPool = WaterPool.Copy();
			}
			else
			{
				WaterPool.CopyTo(instance.WaterPool);
			}
		}
		else
		{
			instance.WaterPool = null;
		}
		if (photo != null)
		{
			if (instance.photo == null)
			{
				instance.photo = photo.Copy();
			}
			else
			{
				photo.CopyTo(instance.photo);
			}
		}
		else
		{
			instance.photo = null;
		}
		if (photoFrame != null)
		{
			if (instance.photoFrame == null)
			{
				instance.photoFrame = photoFrame.Copy();
			}
			else
			{
				photoFrame.CopyTo(instance.photoFrame);
			}
		}
		else
		{
			instance.photoFrame = null;
		}
		if (vehicleModule != null)
		{
			if (instance.vehicleModule == null)
			{
				instance.vehicleModule = vehicleModule.Copy();
			}
			else
			{
				vehicleModule.CopyTo(instance.vehicleModule);
			}
		}
		else
		{
			instance.vehicleModule = null;
		}
		if (mixingTable != null)
		{
			if (instance.mixingTable == null)
			{
				instance.mixingTable = mixingTable.Copy();
			}
			else
			{
				mixingTable.CopyTo(instance.mixingTable);
			}
		}
		else
		{
			instance.mixingTable = null;
		}
		if (shopKeeper != null)
		{
			if (instance.shopKeeper == null)
			{
				instance.shopKeeper = shopKeeper.Copy();
			}
			else
			{
				shopKeeper.CopyTo(instance.shopKeeper);
			}
		}
		else
		{
			instance.shopKeeper = null;
		}
		if (elevator != null)
		{
			if (instance.elevator == null)
			{
				instance.elevator = elevator.Copy();
			}
			else
			{
				elevator.CopyTo(instance.elevator);
			}
		}
		else
		{
			instance.elevator = null;
		}
		if (skullTrophy != null)
		{
			if (instance.skullTrophy == null)
			{
				instance.skullTrophy = skullTrophy.Copy();
			}
			else
			{
				skullTrophy.CopyTo(instance.skullTrophy);
			}
		}
		else
		{
			instance.skullTrophy = null;
		}
		if (cassette != null)
		{
			if (instance.cassette == null)
			{
				instance.cassette = cassette.Copy();
			}
			else
			{
				cassette.CopyTo(instance.cassette);
			}
		}
		else
		{
			instance.cassette = null;
		}
		if (telephone != null)
		{
			if (instance.telephone == null)
			{
				instance.telephone = telephone.Copy();
			}
			else
			{
				telephone.CopyTo(instance.telephone);
			}
		}
		else
		{
			instance.telephone = null;
		}
		if (boomBox != null)
		{
			if (instance.boomBox == null)
			{
				instance.boomBox = boomBox.Copy();
			}
			else
			{
				boomBox.CopyTo(instance.boomBox);
			}
		}
		else
		{
			instance.boomBox = null;
		}
		if (neonSign != null)
		{
			if (instance.neonSign == null)
			{
				instance.neonSign = neonSign.Copy();
			}
			else
			{
				neonSign.CopyTo(instance.neonSign);
			}
		}
		else
		{
			instance.neonSign = null;
		}
		if (subEntityList != null)
		{
			if (instance.subEntityList == null)
			{
				instance.subEntityList = subEntityList.Copy();
			}
			else
			{
				subEntityList.CopyTo(instance.subEntityList);
			}
		}
		else
		{
			instance.subEntityList = null;
		}
		if (marketTerminal != null)
		{
			if (instance.marketTerminal == null)
			{
				instance.marketTerminal = marketTerminal.Copy();
			}
			else
			{
				marketTerminal.CopyTo(instance.marketTerminal);
			}
		}
		else
		{
			instance.marketTerminal = null;
		}
		if (deliveryDrone != null)
		{
			if (instance.deliveryDrone == null)
			{
				instance.deliveryDrone = deliveryDrone.Copy();
			}
			else
			{
				deliveryDrone.CopyTo(instance.deliveryDrone);
			}
		}
		else
		{
			instance.deliveryDrone = null;
		}
		if (reclaimTerminal != null)
		{
			if (instance.reclaimTerminal == null)
			{
				instance.reclaimTerminal = reclaimTerminal.Copy();
			}
			else
			{
				reclaimTerminal.CopyTo(instance.reclaimTerminal);
			}
		}
		else
		{
			instance.reclaimTerminal = null;
		}
		if (slotMachine != null)
		{
			if (instance.slotMachine == null)
			{
				instance.slotMachine = slotMachine.Copy();
			}
			else
			{
				slotMachine.CopyTo(instance.slotMachine);
			}
		}
		else
		{
			instance.slotMachine = null;
		}
		if (trainEngine != null)
		{
			if (instance.trainEngine == null)
			{
				instance.trainEngine = trainEngine.Copy();
			}
			else
			{
				trainEngine.CopyTo(instance.trainEngine);
			}
		}
		else
		{
			instance.trainEngine = null;
		}
		if (cardGame != null)
		{
			if (instance.cardGame == null)
			{
				instance.cardGame = cardGame.Copy();
			}
			else
			{
				cardGame.CopyTo(instance.cardGame);
			}
		}
		else
		{
			instance.cardGame = null;
		}
		if (crane != null)
		{
			if (instance.crane == null)
			{
				instance.crane = crane.Copy();
			}
			else
			{
				crane.CopyTo(instance.crane);
			}
		}
		else
		{
			instance.crane = null;
		}
		if (connectedSpeaker != null)
		{
			if (instance.connectedSpeaker == null)
			{
				instance.connectedSpeaker = connectedSpeaker.Copy();
			}
			else
			{
				connectedSpeaker.CopyTo(instance.connectedSpeaker);
			}
		}
		else
		{
			instance.connectedSpeaker = null;
		}
		if (audioEntity != null)
		{
			if (instance.audioEntity == null)
			{
				instance.audioEntity = audioEntity.Copy();
			}
			else
			{
				audioEntity.CopyTo(instance.audioEntity);
			}
		}
		else
		{
			instance.audioEntity = null;
		}
		if (microphoneStand != null)
		{
			if (instance.microphoneStand == null)
			{
				instance.microphoneStand = microphoneStand.Copy();
			}
			else
			{
				microphoneStand.CopyTo(instance.microphoneStand);
			}
		}
		else
		{
			instance.microphoneStand = null;
		}
		if (submarine != null)
		{
			if (instance.submarine == null)
			{
				instance.submarine = submarine.Copy();
			}
			else
			{
				submarine.CopyTo(instance.submarine);
			}
		}
		else
		{
			instance.submarine = null;
		}
		if (sleepingBagCamper != null)
		{
			if (instance.sleepingBagCamper == null)
			{
				instance.sleepingBagCamper = sleepingBagCamper.Copy();
			}
			else
			{
				sleepingBagCamper.CopyTo(instance.sleepingBagCamper);
			}
		}
		else
		{
			instance.sleepingBagCamper = null;
		}
		if (camperModule != null)
		{
			if (instance.camperModule == null)
			{
				instance.camperModule = camperModule.Copy();
			}
			else
			{
				camperModule.CopyTo(instance.camperModule);
			}
		}
		else
		{
			instance.camperModule = null;
		}
		if (paintableSign != null)
		{
			if (instance.paintableSign == null)
			{
				instance.paintableSign = paintableSign.Copy();
			}
			else
			{
				paintableSign.CopyTo(instance.paintableSign);
			}
		}
		else
		{
			instance.paintableSign = null;
		}
		if (whitelist != null)
		{
			if (instance.whitelist == null)
			{
				instance.whitelist = whitelist.Copy();
			}
			else
			{
				whitelist.CopyTo(instance.whitelist);
			}
		}
		else
		{
			instance.whitelist = null;
		}
		if (FrankensteinTable != null)
		{
			if (instance.FrankensteinTable == null)
			{
				instance.FrankensteinTable = FrankensteinTable.Copy();
			}
			else
			{
				FrankensteinTable.CopyTo(instance.FrankensteinTable);
			}
		}
		else
		{
			instance.FrankensteinTable = null;
		}
		if (mlrs != null)
		{
			if (instance.mlrs == null)
			{
				instance.mlrs = mlrs.Copy();
			}
			else
			{
				mlrs.CopyTo(instance.mlrs);
			}
		}
		else
		{
			instance.mlrs = null;
		}
		if (reclaimManager != null)
		{
			if (instance.reclaimManager == null)
			{
				instance.reclaimManager = reclaimManager.Copy();
			}
			else
			{
				reclaimManager.CopyTo(instance.reclaimManager);
			}
		}
		else
		{
			instance.reclaimManager = null;
		}
		if (gameMode != null)
		{
			if (instance.gameMode == null)
			{
				instance.gameMode = gameMode.Copy();
			}
			else
			{
				gameMode.CopyTo(instance.gameMode);
			}
		}
		else
		{
			instance.gameMode = null;
		}
		if (snowmobile != null)
		{
			if (instance.snowmobile == null)
			{
				instance.snowmobile = snowmobile.Copy();
			}
			else
			{
				snowmobile.CopyTo(instance.snowmobile);
			}
		}
		else
		{
			instance.snowmobile = null;
		}
		instance.createdThisFrame = createdThisFrame;
		if (patternFirework != null)
		{
			if (instance.patternFirework == null)
			{
				instance.patternFirework = patternFirework.Copy();
			}
			else
			{
				patternFirework.CopyTo(instance.patternFirework);
			}
		}
		else
		{
			instance.patternFirework = null;
		}
		if (cargoPlane != null)
		{
			if (instance.cargoPlane == null)
			{
				instance.cargoPlane = cargoPlane.Copy();
			}
			else
			{
				cargoPlane.CopyTo(instance.cargoPlane);
			}
		}
		else
		{
			instance.cargoPlane = null;
		}
		if (paintedItem != null)
		{
			if (instance.paintedItem == null)
			{
				instance.paintedItem = paintedItem.Copy();
			}
			else
			{
				paintedItem.CopyTo(instance.paintedItem);
			}
		}
		else
		{
			instance.paintedItem = null;
		}
		if (clanManager != null)
		{
			if (instance.clanManager == null)
			{
				instance.clanManager = clanManager.Copy();
			}
			else
			{
				clanManager.CopyTo(instance.clanManager);
			}
		}
		else
		{
			instance.clanManager = null;
		}
		if (spray != null)
		{
			if (instance.spray == null)
			{
				instance.spray = spray.Copy();
			}
			else
			{
				spray.CopyTo(instance.spray);
			}
		}
		else
		{
			instance.spray = null;
		}
		if (baseTrain != null)
		{
			if (instance.baseTrain == null)
			{
				instance.baseTrain = baseTrain.Copy();
			}
			else
			{
				baseTrain.CopyTo(instance.baseTrain);
			}
		}
		else
		{
			instance.baseTrain = null;
		}
		if (zipline != null)
		{
			if (instance.zipline == null)
			{
				instance.zipline = zipline.Copy();
			}
			else
			{
				zipline.CopyTo(instance.zipline);
			}
		}
		else
		{
			instance.zipline = null;
		}
		if (ziplineMountable != null)
		{
			if (instance.ziplineMountable == null)
			{
				instance.ziplineMountable = ziplineMountable.Copy();
			}
			else
			{
				ziplineMountable.CopyTo(instance.ziplineMountable);
			}
		}
		else
		{
			instance.ziplineMountable = null;
		}
		if (ZiplineArrival != null)
		{
			if (instance.ZiplineArrival == null)
			{
				instance.ZiplineArrival = ZiplineArrival.Copy();
			}
			else
			{
				ZiplineArrival.CopyTo(instance.ZiplineArrival);
			}
		}
		else
		{
			instance.ZiplineArrival = null;
		}
		if (sprayLine != null)
		{
			if (instance.sprayLine == null)
			{
				instance.sprayLine = sprayLine.Copy();
			}
			else
			{
				sprayLine.CopyTo(instance.sprayLine);
			}
		}
		else
		{
			instance.sprayLine = null;
		}
		if (coalingTower != null)
		{
			if (instance.coalingTower == null)
			{
				instance.coalingTower = coalingTower.Copy();
			}
			else
			{
				coalingTower.CopyTo(instance.coalingTower);
			}
		}
		else
		{
			instance.coalingTower = null;
		}
		if (simpleInt != null)
		{
			if (instance.simpleInt == null)
			{
				instance.simpleInt = simpleInt.Copy();
			}
			else
			{
				simpleInt.CopyTo(instance.simpleInt);
			}
		}
		else
		{
			instance.simpleInt = null;
		}
		if (baseOven != null)
		{
			if (instance.baseOven == null)
			{
				instance.baseOven = baseOven.Copy();
			}
			else
			{
				baseOven.CopyTo(instance.baseOven);
			}
		}
		else
		{
			instance.baseOven = null;
		}
		if (brainComponent != null)
		{
			if (instance.brainComponent == null)
			{
				instance.brainComponent = brainComponent.Copy();
			}
			else
			{
				brainComponent.CopyTo(instance.brainComponent);
			}
		}
		else
		{
			instance.brainComponent = null;
		}
		if (proceduralDungeon != null)
		{
			if (instance.proceduralDungeon == null)
			{
				instance.proceduralDungeon = proceduralDungeon.Copy();
			}
			else
			{
				proceduralDungeon.CopyTo(instance.proceduralDungeon);
			}
		}
		else
		{
			instance.proceduralDungeon = null;
		}
		if (industrialConveyor != null)
		{
			if (instance.industrialConveyor == null)
			{
				instance.industrialConveyor = industrialConveyor.Copy();
			}
			else
			{
				industrialConveyor.CopyTo(instance.industrialConveyor);
			}
		}
		else
		{
			instance.industrialConveyor = null;
		}
		if (industrialCrafter != null)
		{
			if (instance.industrialCrafter == null)
			{
				instance.industrialCrafter = industrialCrafter.Copy();
			}
			else
			{
				industrialCrafter.CopyTo(instance.industrialCrafter);
			}
		}
		else
		{
			instance.industrialCrafter = null;
		}
		if (drone != null)
		{
			if (instance.drone == null)
			{
				instance.drone = drone.Copy();
			}
			else
			{
				drone.CopyTo(instance.drone);
			}
		}
		else
		{
			instance.drone = null;
		}
		if (explosive != null)
		{
			if (instance.explosive == null)
			{
				instance.explosive = explosive.Copy();
			}
			else
			{
				explosive.CopyTo(instance.explosive);
			}
		}
		else
		{
			instance.explosive = null;
		}
		if (simpleUint != null)
		{
			if (instance.simpleUint == null)
			{
				instance.simpleUint = simpleUint.Copy();
			}
			else
			{
				simpleUint.CopyTo(instance.simpleUint);
			}
		}
		else
		{
			instance.simpleUint = null;
		}
		if (weaponRack != null)
		{
			if (instance.weaponRack == null)
			{
				instance.weaponRack = weaponRack.Copy();
			}
			else
			{
				weaponRack.CopyTo(instance.weaponRack);
			}
		}
		else
		{
			instance.weaponRack = null;
		}
		if (attackHeli != null)
		{
			if (instance.attackHeli == null)
			{
				instance.attackHeli = attackHeli.Copy();
			}
			else
			{
				attackHeli.CopyTo(instance.attackHeli);
			}
		}
		else
		{
			instance.attackHeli = null;
		}
		if (attackHeliTurret != null)
		{
			if (instance.attackHeliTurret == null)
			{
				instance.attackHeliTurret = attackHeliTurret.Copy();
			}
			else
			{
				attackHeliTurret.CopyTo(instance.attackHeliTurret);
			}
		}
		else
		{
			instance.attackHeliTurret = null;
		}
		if (attackHeliRockets != null)
		{
			if (instance.attackHeliRockets == null)
			{
				instance.attackHeliRockets = attackHeliRockets.Copy();
			}
			else
			{
				attackHeliRockets.CopyTo(instance.attackHeliRockets);
			}
		}
		else
		{
			instance.attackHeliRockets = null;
		}
		if (baseBoat != null)
		{
			if (instance.baseBoat == null)
			{
				instance.baseBoat = baseBoat.Copy();
			}
			else
			{
				baseBoat.CopyTo(instance.baseBoat);
			}
		}
		else
		{
			instance.baseBoat = null;
		}
		if (ragdoll != null)
		{
			if (instance.ragdoll == null)
			{
				instance.ragdoll = ragdoll.Copy();
			}
			else
			{
				ragdoll.CopyTo(instance.ragdoll);
			}
		}
		else
		{
			instance.ragdoll = null;
		}
		if (dieselEngine != null)
		{
			if (instance.dieselEngine == null)
			{
				instance.dieselEngine = dieselEngine.Copy();
			}
			else
			{
				dieselEngine.CopyTo(instance.dieselEngine);
			}
		}
		else
		{
			instance.dieselEngine = null;
		}
		if (associatedFiles != null)
		{
			if (instance.associatedFiles == null)
			{
				instance.associatedFiles = associatedFiles.Copy();
			}
			else
			{
				associatedFiles.CopyTo(instance.associatedFiles);
			}
		}
		else
		{
			instance.associatedFiles = null;
		}
		if (nexusFerry != null)
		{
			if (instance.nexusFerry == null)
			{
				instance.nexusFerry = nexusFerry.Copy();
			}
			else
			{
				nexusFerry.CopyTo(instance.nexusFerry);
			}
		}
		else
		{
			instance.nexusFerry = null;
		}
		if (nexusIsland != null)
		{
			if (instance.nexusIsland == null)
			{
				instance.nexusIsland = nexusIsland.Copy();
			}
			else
			{
				nexusIsland.CopyTo(instance.nexusIsland);
			}
		}
		else
		{
			instance.nexusIsland = null;
		}
		if (nexusDockTerminal != null)
		{
			if (instance.nexusDockTerminal == null)
			{
				instance.nexusDockTerminal = nexusDockTerminal.Copy();
			}
			else
			{
				nexusDockTerminal.CopyTo(instance.nexusDockTerminal);
			}
		}
		else
		{
			instance.nexusDockTerminal = null;
		}
		if (rockingChair != null)
		{
			if (instance.rockingChair == null)
			{
				instance.rockingChair = rockingChair.Copy();
			}
			else
			{
				rockingChair.CopyTo(instance.rockingChair);
			}
		}
		else
		{
			instance.rockingChair = null;
		}
		if (headData != null)
		{
			if (instance.headData == null)
			{
				instance.headData = headData.Copy();
			}
			else
			{
				headData.CopyTo(instance.headData);
			}
		}
		else
		{
			instance.headData = null;
		}
		if (wantedPoster != null)
		{
			if (instance.wantedPoster == null)
			{
				instance.wantedPoster = wantedPoster.Copy();
			}
			else
			{
				wantedPoster.CopyTo(instance.wantedPoster);
			}
		}
		else
		{
			instance.wantedPoster = null;
		}
		if (waypointRace != null)
		{
			if (instance.waypointRace == null)
			{
				instance.waypointRace = waypointRace.Copy();
			}
			else
			{
				waypointRace.CopyTo(instance.waypointRace);
			}
		}
		else
		{
			instance.waypointRace = null;
		}
		if (legacyShelter != null)
		{
			if (instance.legacyShelter == null)
			{
				instance.legacyShelter = legacyShelter.Copy();
			}
			else
			{
				legacyShelter.CopyTo(instance.legacyShelter);
			}
		}
		else
		{
			instance.legacyShelter = null;
		}
		if (metalDetectorSource != null)
		{
			if (instance.metalDetectorSource == null)
			{
				instance.metalDetectorSource = metalDetectorSource.Copy();
			}
			else
			{
				metalDetectorSource.CopyTo(instance.metalDetectorSource);
			}
		}
		else
		{
			instance.metalDetectorSource = null;
		}
		if (tutorialIsland != null)
		{
			if (instance.tutorialIsland == null)
			{
				instance.tutorialIsland = tutorialIsland.Copy();
			}
			else
			{
				tutorialIsland.CopyTo(instance.tutorialIsland);
			}
		}
		else
		{
			instance.tutorialIsland = null;
		}
		if (cinematicEntity != null)
		{
			if (instance.cinematicEntity == null)
			{
				instance.cinematicEntity = cinematicEntity.Copy();
			}
			else
			{
				cinematicEntity.CopyTo(instance.cinematicEntity);
			}
		}
		else
		{
			instance.cinematicEntity = null;
		}
		if (buildingPrivilegeRetro != null)
		{
			if (instance.buildingPrivilegeRetro == null)
			{
				instance.buildingPrivilegeRetro = buildingPrivilegeRetro.Copy();
			}
			else
			{
				buildingPrivilegeRetro.CopyTo(instance.buildingPrivilegeRetro);
			}
		}
		else
		{
			instance.buildingPrivilegeRetro = null;
		}
		if (harborCrane != null)
		{
			if (instance.harborCrane == null)
			{
				instance.harborCrane = harborCrane.Copy();
			}
			else
			{
				harborCrane.CopyTo(instance.harborCrane);
			}
		}
		else
		{
			instance.harborCrane = null;
		}
		if (cargoShip != null)
		{
			if (instance.cargoShip == null)
			{
				instance.cargoShip = cargoShip.Copy();
			}
			else
			{
				cargoShip.CopyTo(instance.cargoShip);
			}
		}
		else
		{
			instance.cargoShip = null;
		}
		if (cargoShipContainer != null)
		{
			if (instance.cargoShipContainer == null)
			{
				instance.cargoShipContainer = cargoShipContainer.Copy();
			}
			else
			{
				cargoShipContainer.CopyTo(instance.cargoShipContainer);
			}
		}
		else
		{
			instance.cargoShipContainer = null;
		}
		if (missionMapMarker != null)
		{
			if (instance.missionMapMarker == null)
			{
				instance.missionMapMarker = missionMapMarker.Copy();
			}
			else
			{
				missionMapMarker.CopyTo(instance.missionMapMarker);
			}
		}
		else
		{
			instance.missionMapMarker = null;
		}
		if (bike != null)
		{
			if (instance.bike == null)
			{
				instance.bike = bike.Copy();
			}
			else
			{
				bike.CopyTo(instance.bike);
			}
		}
		else
		{
			instance.bike = null;
		}
		if (diverPropulsionVehicle != null)
		{
			if (instance.diverPropulsionVehicle == null)
			{
				instance.diverPropulsionVehicle = diverPropulsionVehicle.Copy();
			}
			else
			{
				diverPropulsionVehicle.CopyTo(instance.diverPropulsionVehicle);
			}
		}
		else
		{
			instance.diverPropulsionVehicle = null;
		}
		if (travellingVendor != null)
		{
			if (instance.travellingVendor == null)
			{
				instance.travellingVendor = travellingVendor.Copy();
			}
			else
			{
				travellingVendor.CopyTo(instance.travellingVendor);
			}
		}
		else
		{
			instance.travellingVendor = null;
		}
		if (vendingDynamicPricing != null)
		{
			if (instance.vendingDynamicPricing == null)
			{
				instance.vendingDynamicPricing = vendingDynamicPricing.Copy();
			}
			else
			{
				vendingDynamicPricing.CopyTo(instance.vendingDynamicPricing);
			}
		}
		else
		{
			instance.vendingDynamicPricing = null;
		}
		if (tinCanAlarm != null)
		{
			if (instance.tinCanAlarm == null)
			{
				instance.tinCanAlarm = tinCanAlarm.Copy();
			}
			else
			{
				tinCanAlarm.CopyTo(instance.tinCanAlarm);
			}
		}
		else
		{
			instance.tinCanAlarm = null;
		}
		if (digitalClock != null)
		{
			if (instance.digitalClock == null)
			{
				instance.digitalClock = digitalClock.Copy();
			}
			else
			{
				digitalClock.CopyTo(instance.digitalClock);
			}
		}
		else
		{
			instance.digitalClock = null;
		}
		if (elevatorLift != null)
		{
			if (instance.elevatorLift == null)
			{
				instance.elevatorLift = elevatorLift.Copy();
			}
			else
			{
				elevatorLift.CopyTo(instance.elevatorLift);
			}
		}
		else
		{
			instance.elevatorLift = null;
		}
		if (npcVendingMachine != null)
		{
			if (instance.npcVendingMachine == null)
			{
				instance.npcVendingMachine = npcVendingMachine.Copy();
			}
			else
			{
				npcVendingMachine.CopyTo(instance.npcVendingMachine);
			}
		}
		else
		{
			instance.npcVendingMachine = null;
		}
		if (mailbox != null)
		{
			if (instance.mailbox == null)
			{
				instance.mailbox = mailbox.Copy();
			}
			else
			{
				mailbox.CopyTo(instance.mailbox);
			}
		}
		else
		{
			instance.mailbox = null;
		}
		if (projectileWeaponMod != null)
		{
			if (instance.projectileWeaponMod == null)
			{
				instance.projectileWeaponMod = projectileWeaponMod.Copy();
			}
			else
			{
				projectileWeaponMod.CopyTo(instance.projectileWeaponMod);
			}
		}
		else
		{
			instance.projectileWeaponMod = null;
		}
		if (baseSculpture != null)
		{
			if (instance.baseSculpture == null)
			{
				instance.baseSculpture = baseSculpture.Copy();
			}
			else
			{
				baseSculpture.CopyTo(instance.baseSculpture);
			}
		}
		else
		{
			instance.baseSculpture = null;
		}
		if (vendingMachineStats != null)
		{
			if (instance.vendingMachineStats == null)
			{
				instance.vendingMachineStats = vendingMachineStats.Copy();
			}
			else
			{
				vendingMachineStats.CopyTo(instance.vendingMachineStats);
			}
		}
		else
		{
			instance.vendingMachineStats = null;
		}
		if (catapult != null)
		{
			if (instance.catapult == null)
			{
				instance.catapult = catapult.Copy();
			}
			else
			{
				catapult.CopyTo(instance.catapult);
			}
		}
		else
		{
			instance.catapult = null;
		}
		if (siegeTower != null)
		{
			if (instance.siegeTower == null)
			{
				instance.siegeTower = siegeTower.Copy();
			}
			else
			{
				siegeTower.CopyTo(instance.siegeTower);
			}
		}
		else
		{
			instance.siegeTower = null;
		}
		if (ballista != null)
		{
			if (instance.ballista == null)
			{
				instance.ballista = ballista.Copy();
			}
			else
			{
				ballista.CopyTo(instance.ballista);
			}
		}
		else
		{
			instance.ballista = null;
		}
		if (ballistaGun != null)
		{
			if (instance.ballistaGun == null)
			{
				instance.ballistaGun = ballistaGun.Copy();
			}
			else
			{
				ballistaGun.CopyTo(instance.ballistaGun);
			}
		}
		else
		{
			instance.ballistaGun = null;
		}
		if (batteringRam != null)
		{
			if (instance.batteringRam == null)
			{
				instance.batteringRam = batteringRam.Copy();
			}
			else
			{
				batteringRam.CopyTo(instance.batteringRam);
			}
		}
		else
		{
			instance.batteringRam = null;
		}
		if (temporaryRagdoll != null)
		{
			if (instance.temporaryRagdoll == null)
			{
				instance.temporaryRagdoll = temporaryRagdoll.Copy();
			}
			else
			{
				temporaryRagdoll.CopyTo(instance.temporaryRagdoll);
			}
		}
		else
		{
			instance.temporaryRagdoll = null;
		}
		if (constructableEntity != null)
		{
			if (instance.constructableEntity == null)
			{
				instance.constructableEntity = constructableEntity.Copy();
			}
			else
			{
				constructableEntity.CopyTo(instance.constructableEntity);
			}
		}
		else
		{
			instance.constructableEntity = null;
		}
		if (chickenCoop != null)
		{
			if (instance.chickenCoop == null)
			{
				instance.chickenCoop = chickenCoop.Copy();
			}
			else
			{
				chickenCoop.CopyTo(instance.chickenCoop);
			}
		}
		else
		{
			instance.chickenCoop = null;
		}
		if (farmableAnimal != null)
		{
			if (instance.farmableAnimal == null)
			{
				instance.farmableAnimal = farmableAnimal.Copy();
			}
			else
			{
				farmableAnimal.CopyTo(instance.farmableAnimal);
			}
		}
		else
		{
			instance.farmableAnimal = null;
		}
		if (ownership != null)
		{
			if (instance.ownership == null)
			{
				instance.ownership = ownership.Copy();
			}
			else
			{
				ownership.CopyTo(instance.ownership);
			}
		}
		else
		{
			instance.ownership = null;
		}
		if (beehive != null)
		{
			if (instance.beehive == null)
			{
				instance.beehive = beehive.Copy();
			}
			else
			{
				beehive.CopyTo(instance.beehive);
			}
		}
		else
		{
			instance.beehive = null;
		}
		if (beeMasterSwarm != null)
		{
			if (instance.beeMasterSwarm == null)
			{
				instance.beeMasterSwarm = beeMasterSwarm.Copy();
			}
			else
			{
				beeMasterSwarm.CopyTo(instance.beeMasterSwarm);
			}
		}
		else
		{
			instance.beeMasterSwarm = null;
		}
		if (containerCorpse != null)
		{
			if (instance.containerCorpse == null)
			{
				instance.containerCorpse = containerCorpse.Copy();
			}
			else
			{
				containerCorpse.CopyTo(instance.containerCorpse);
			}
		}
		else
		{
			instance.containerCorpse = null;
		}
		if (npcSensesState != null)
		{
			if (instance.npcSensesState == null)
			{
				instance.npcSensesState = npcSensesState.Copy();
			}
			else
			{
				npcSensesState.CopyTo(instance.npcSensesState);
			}
		}
		else
		{
			instance.npcSensesState = null;
		}
		if (vineMountable != null)
		{
			if (instance.vineMountable == null)
			{
				instance.vineMountable = vineMountable.Copy();
			}
			else
			{
				vineMountable.CopyTo(instance.vineMountable);
			}
		}
		else
		{
			instance.vineMountable = null;
		}
		if (vineTree != null)
		{
			if (instance.vineTree == null)
			{
				instance.vineTree = vineTree.Copy();
			}
			else
			{
				vineTree.CopyTo(instance.vineTree);
			}
		}
		else
		{
			instance.vineTree = null;
		}
		if (treeRespawn != null)
		{
			if (instance.treeRespawn == null)
			{
				instance.treeRespawn = treeRespawn.Copy();
			}
			else
			{
				treeRespawn.CopyTo(instance.treeRespawn);
			}
		}
		else
		{
			instance.treeRespawn = null;
		}
		if (wallpaperTool != null)
		{
			if (instance.wallpaperTool == null)
			{
				instance.wallpaperTool = wallpaperTool.Copy();
			}
			else
			{
				wallpaperTool.CopyTo(instance.wallpaperTool);
			}
		}
		else
		{
			instance.wallpaperTool = null;
		}
		if (commandBlock != null)
		{
			if (instance.commandBlock == null)
			{
				instance.commandBlock = commandBlock.Copy();
			}
			else
			{
				commandBlock.CopyTo(instance.commandBlock);
			}
		}
		else
		{
			instance.commandBlock = null;
		}
		if (staticRespawn != null)
		{
			if (instance.staticRespawn == null)
			{
				instance.staticRespawn = staticRespawn.Copy();
			}
			else
			{
				staticRespawn.CopyTo(instance.staticRespawn);
			}
		}
		else
		{
			instance.staticRespawn = null;
		}
		if (buriedItemStorage != null)
		{
			if (instance.buriedItemStorage == null)
			{
				instance.buriedItemStorage = buriedItemStorage.Copy();
			}
			else
			{
				buriedItemStorage.CopyTo(instance.buriedItemStorage);
			}
		}
		else
		{
			instance.buriedItemStorage = null;
		}
		if (mannequin != null)
		{
			if (instance.mannequin == null)
			{
				instance.mannequin = mannequin.Copy();
			}
			else
			{
				mannequin.CopyTo(instance.mannequin);
			}
		}
		else
		{
			instance.mannequin = null;
		}
		if (baseMelee != null)
		{
			if (instance.baseMelee == null)
			{
				instance.baseMelee = baseMelee.Copy();
			}
			else
			{
				baseMelee.CopyTo(instance.baseMelee);
			}
		}
		else
		{
			instance.baseMelee = null;
		}
		if (door != null)
		{
			if (instance.door == null)
			{
				instance.door = door.Copy();
			}
			else
			{
				door.CopyTo(instance.door);
			}
		}
		else
		{
			instance.door = null;
		}
		if (storageAdaptor != null)
		{
			if (instance.storageAdaptor == null)
			{
				instance.storageAdaptor = storageAdaptor.Copy();
			}
			else
			{
				storageAdaptor.CopyTo(instance.storageAdaptor);
			}
		}
		else
		{
			instance.storageAdaptor = null;
		}
		if (helicopterFlares != null)
		{
			if (instance.helicopterFlares == null)
			{
				instance.helicopterFlares = helicopterFlares.Copy();
			}
			else
			{
				helicopterFlares.CopyTo(instance.helicopterFlares);
			}
		}
		else
		{
			instance.helicopterFlares = null;
		}
		if (wipeLaptop != null)
		{
			if (instance.wipeLaptop == null)
			{
				instance.wipeLaptop = wipeLaptop.Copy();
			}
			else
			{
				wipeLaptop.CopyTo(instance.wipeLaptop);
			}
		}
		else
		{
			instance.wipeLaptop = null;
		}
	}

	public Entity Copy()
	{
		Entity entity = Pool.Get<Entity>();
		CopyTo(entity);
		return entity;
	}

	public static Entity Deserialize(BufferStream stream)
	{
		Entity entity = Pool.Get<Entity>();
		Deserialize(stream, entity, isDelta: false);
		return entity;
	}

	public static Entity DeserializeLengthDelimited(BufferStream stream)
	{
		Entity entity = Pool.Get<Entity>();
		DeserializeLengthDelimited(stream, entity, isDelta: false);
		return entity;
	}

	public static Entity DeserializeLength(BufferStream stream, int length)
	{
		Entity entity = Pool.Get<Entity>();
		DeserializeLength(stream, length, entity, isDelta: false);
		return entity;
	}

	public static Entity Deserialize(byte[] buffer)
	{
		Entity entity = Pool.Get<Entity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, entity, isDelta: false);
		return entity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Entity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Entity Deserialize(BufferStream stream, Entity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.baseNetworkable == null)
				{
					instance.baseNetworkable = BaseNetworkable.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseNetworkable.DeserializeLengthDelimited(stream, instance.baseNetworkable, isDelta);
				}
				continue;
			case 18:
				if (instance.baseEntity == null)
				{
					instance.baseEntity = BaseEntity.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseEntity.DeserializeLengthDelimited(stream, instance.baseEntity, isDelta);
				}
				continue;
			case 26:
				if (instance.basePlayer == null)
				{
					instance.basePlayer = BasePlayer.DeserializeLengthDelimited(stream);
				}
				else
				{
					BasePlayer.DeserializeLengthDelimited(stream, instance.basePlayer, isDelta);
				}
				continue;
			case 34:
				if (instance.worldItem == null)
				{
					instance.worldItem = WorldItem.DeserializeLengthDelimited(stream);
				}
				else
				{
					WorldItem.DeserializeLengthDelimited(stream, instance.worldItem, isDelta);
				}
				continue;
			case 42:
				if (instance.resource == null)
				{
					instance.resource = BaseResource.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseResource.DeserializeLengthDelimited(stream, instance.resource, isDelta);
				}
				continue;
			case 50:
				if (instance.buildingBlock == null)
				{
					instance.buildingBlock = BuildingBlock.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingBlock.DeserializeLengthDelimited(stream, instance.buildingBlock, isDelta);
				}
				continue;
			case 58:
				if (instance.environment == null)
				{
					instance.environment = ProtoBuf.Environment.DeserializeLengthDelimited(stream);
				}
				else
				{
					ProtoBuf.Environment.DeserializeLengthDelimited(stream, instance.environment, isDelta);
				}
				continue;
			case 66:
				if (instance.corpse == null)
				{
					instance.corpse = Corpse.DeserializeLengthDelimited(stream);
				}
				else
				{
					Corpse.DeserializeLengthDelimited(stream, instance.corpse, isDelta);
				}
				continue;
			case 82:
				if (instance.parent == null)
				{
					instance.parent = ParentInfo.DeserializeLengthDelimited(stream);
				}
				else
				{
					ParentInfo.DeserializeLengthDelimited(stream, instance.parent, isDelta);
				}
				continue;
			case 90:
				if (instance.keyLock == null)
				{
					instance.keyLock = KeyLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					KeyLock.DeserializeLengthDelimited(stream, instance.keyLock, isDelta);
				}
				continue;
			case 98:
				if (instance.codeLock == null)
				{
					instance.codeLock = CodeLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					CodeLock.DeserializeLengthDelimited(stream, instance.codeLock, isDelta);
				}
				continue;
			case 106:
				if (instance.entitySlots == null)
				{
					instance.entitySlots = EntitySlots.DeserializeLengthDelimited(stream);
				}
				else
				{
					EntitySlots.DeserializeLengthDelimited(stream, instance.entitySlots, isDelta);
				}
				continue;
			case 114:
				if (instance.buildingPrivilege == null)
				{
					instance.buildingPrivilege = BuildingPrivilege.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingPrivilege.DeserializeLengthDelimited(stream, instance.buildingPrivilege, isDelta);
				}
				continue;
			case 122:
				if (instance.storageBox == null)
				{
					instance.storageBox = StorageBox.DeserializeLengthDelimited(stream);
				}
				else
				{
					StorageBox.DeserializeLengthDelimited(stream, instance.storageBox, isDelta);
				}
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.heldEntity == null)
					{
						instance.heldEntity = HeldEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeldEntity.DeserializeLengthDelimited(stream, instance.heldEntity, isDelta);
					}
				}
				break;
			case 17u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseProjectile == null)
					{
						instance.baseProjectile = BaseProjectile.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseProjectile.DeserializeLengthDelimited(stream, instance.baseProjectile, isDelta);
					}
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseNPC == null)
					{
						instance.baseNPC = BaseNPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseNPC.DeserializeLengthDelimited(stream, instance.baseNPC, isDelta);
					}
				}
				break;
			case 19u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.loot == null)
					{
						instance.loot = Loot.DeserializeLengthDelimited(stream);
					}
					else
					{
						Loot.DeserializeLengthDelimited(stream, instance.loot, isDelta);
					}
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.genericSpawner == null)
					{
						instance.genericSpawner = GenericSpawner.DeserializeLengthDelimited(stream);
					}
					else
					{
						GenericSpawner.DeserializeLengthDelimited(stream, instance.genericSpawner, isDelta);
					}
				}
				break;
			case 21u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBag == null)
					{
						instance.sleepingBag = SleepingBag.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBag.DeserializeLengthDelimited(stream, instance.sleepingBag, isDelta);
					}
				}
				break;
			case 22u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lootableCorpse == null)
					{
						instance.lootableCorpse = LootableCorpse.DeserializeLengthDelimited(stream);
					}
					else
					{
						LootableCorpse.DeserializeLengthDelimited(stream, instance.lootableCorpse, isDelta);
					}
				}
				break;
			case 23u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sign == null)
					{
						instance.sign = Sign.DeserializeLengthDelimited(stream);
					}
					else
					{
						Sign.DeserializeLengthDelimited(stream, instance.sign, isDelta);
					}
				}
				break;
			case 24u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseCombat == null)
					{
						instance.baseCombat = BaseCombat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseCombat.DeserializeLengthDelimited(stream, instance.baseCombat, isDelta);
					}
				}
				break;
			case 25u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mapEntity == null)
					{
						instance.mapEntity = MapEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						MapEntity.DeserializeLengthDelimited(stream, instance.mapEntity, isDelta);
					}
				}
				break;
			case 26u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.researchTable == null)
					{
						instance.researchTable = ResearchTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ResearchTable.DeserializeLengthDelimited(stream, instance.researchTable, isDelta);
					}
				}
				break;
			case 27u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dudExplosive == null)
					{
						instance.dudExplosive = DudExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						DudExplosive.DeserializeLengthDelimited(stream, instance.dudExplosive, isDelta);
					}
				}
				break;
			case 28u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miningQuarry == null)
					{
						instance.miningQuarry = MiningQuarry.DeserializeLengthDelimited(stream);
					}
					else
					{
						MiningQuarry.DeserializeLengthDelimited(stream, instance.miningQuarry, isDelta);
					}
				}
				break;
			case 29u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseVehicle == null)
					{
						instance.baseVehicle = BaseVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseVehicle.DeserializeLengthDelimited(stream, instance.baseVehicle, isDelta);
					}
				}
				break;
			case 30u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopter == null)
					{
						instance.helicopter = Helicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Helicopter.DeserializeLengthDelimited(stream, instance.helicopter, isDelta);
					}
				}
				break;
			case 31u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.landmine == null)
					{
						instance.landmine = Landmine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Landmine.DeserializeLengthDelimited(stream, instance.landmine, isDelta);
					}
				}
				break;
			case 32u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.autoturret == null)
					{
						instance.autoturret = AutoTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AutoTurret.DeserializeLengthDelimited(stream, instance.autoturret, isDelta);
					}
				}
				break;
			case 33u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sphereEntity == null)
					{
						instance.sphereEntity = SphereEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						SphereEntity.DeserializeLengthDelimited(stream, instance.sphereEntity, isDelta);
					}
				}
				break;
			case 34u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.stabilityEntity == null)
					{
						instance.stabilityEntity = StabilityEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						StabilityEntity.DeserializeLengthDelimited(stream, instance.stabilityEntity, isDelta);
					}
				}
				break;
			case 35u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownerInfo == null)
					{
						instance.ownerInfo = OwnerInfo.DeserializeLengthDelimited(stream);
					}
					else
					{
						OwnerInfo.DeserializeLengthDelimited(stream, instance.ownerInfo, isDelta);
					}
				}
				break;
			case 36u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.decayEntity == null)
					{
						instance.decayEntity = DecayEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						DecayEntity.DeserializeLengthDelimited(stream, instance.decayEntity, isDelta);
					}
				}
				break;
			case 37u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spawnable == null)
					{
						instance.spawnable = Spawnable.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spawnable.DeserializeLengthDelimited(stream, instance.spawnable, isDelta);
					}
				}
				break;
			case 38u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.servergib == null)
					{
						instance.servergib = ServerGib.DeserializeLengthDelimited(stream);
					}
					else
					{
						ServerGib.DeserializeLengthDelimited(stream, instance.servergib, isDelta);
					}
				}
				break;
			case 39u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachine == null)
					{
						instance.vendingMachine = VendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachine.DeserializeLengthDelimited(stream, instance.vendingMachine, isDelta);
					}
				}
				break;
			case 40u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spinnerWheel == null)
					{
						instance.spinnerWheel = SpinnerWheel.DeserializeLengthDelimited(stream);
					}
					else
					{
						SpinnerWheel.DeserializeLengthDelimited(stream, instance.spinnerWheel, isDelta);
					}
				}
				break;
			case 41u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lift == null)
					{
						instance.lift = Lift.DeserializeLengthDelimited(stream);
					}
					else
					{
						Lift.DeserializeLengthDelimited(stream, instance.lift, isDelta);
					}
				}
				break;
			case 42u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bradley == null)
					{
						instance.bradley = BradleyAPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BradleyAPC.DeserializeLengthDelimited(stream, instance.bradley, isDelta);
					}
				}
				break;
			case 43u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waterwell == null)
					{
						instance.waterwell = WaterWell.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterWell.DeserializeLengthDelimited(stream, instance.waterwell, isDelta);
					}
				}
				break;
			case 44u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.motorBoat == null)
					{
						instance.motorBoat = Motorboat.DeserializeLengthDelimited(stream);
					}
					else
					{
						Motorboat.DeserializeLengthDelimited(stream, instance.motorBoat, isDelta);
					}
				}
				break;
			case 45u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ioEntity == null)
					{
						instance.ioEntity = IOEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						IOEntity.DeserializeLengthDelimited(stream, instance.ioEntity, isDelta);
					}
				}
				break;
			case 46u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.puzzleReset == null)
					{
						instance.puzzleReset = PuzzleReset.DeserializeLengthDelimited(stream);
					}
					else
					{
						PuzzleReset.DeserializeLengthDelimited(stream, instance.puzzleReset, isDelta);
					}
				}
				break;
			case 47u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.relationshipManager == null)
					{
						instance.relationshipManager = RelationshipManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						RelationshipManager.DeserializeLengthDelimited(stream, instance.relationshipManager, isDelta);
					}
				}
				break;
			case 48u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.hotAirBalloon == null)
					{
						instance.hotAirBalloon = HotAirBalloon.DeserializeLengthDelimited(stream);
					}
					else
					{
						HotAirBalloon.DeserializeLengthDelimited(stream, instance.hotAirBalloon, isDelta);
					}
				}
				break;
			case 49u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.samSite == null)
					{
						instance.samSite = SAMSite.DeserializeLengthDelimited(stream);
					}
					else
					{
						SAMSite.DeserializeLengthDelimited(stream, instance.samSite, isDelta);
					}
				}
				break;
			case 50u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.eggHunt == null)
					{
						instance.eggHunt = EggHunt.DeserializeLengthDelimited(stream);
					}
					else
					{
						EggHunt.DeserializeLengthDelimited(stream, instance.eggHunt, isDelta);
					}
				}
				break;
			case 51u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.arcadeMachine == null)
					{
						instance.arcadeMachine = ArcadeMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						ArcadeMachine.DeserializeLengthDelimited(stream, instance.arcadeMachine, isDelta);
					}
				}
				break;
			case 52u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miniCopter == null)
					{
						instance.miniCopter = Minicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Minicopter.DeserializeLengthDelimited(stream, instance.miniCopter, isDelta);
					}
				}
				break;
			case 53u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.horse == null)
					{
						instance.horse = Horse.DeserializeLengthDelimited(stream);
					}
					else
					{
						Horse.DeserializeLengthDelimited(stream, instance.horse, isDelta);
					}
				}
				break;
			case 54u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.smartAlarm == null)
					{
						instance.smartAlarm = SmartAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						SmartAlarm.DeserializeLengthDelimited(stream, instance.smartAlarm, isDelta);
					}
				}
				break;
			case 55u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightString == null)
					{
						instance.lightString = LightString.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightString.DeserializeLengthDelimited(stream, instance.lightString, isDelta);
					}
				}
				break;
			case 56u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightDeployer == null)
					{
						instance.lightDeployer = LightDeployer.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightDeployer.DeserializeLengthDelimited(stream, instance.lightDeployer, isDelta);
					}
				}
				break;
			case 57u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rcEntity == null)
					{
						instance.rcEntity = RCEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						RCEntity.DeserializeLengthDelimited(stream, instance.rcEntity, isDelta);
					}
				}
				break;
			case 58u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.computerStation == null)
					{
						instance.computerStation = ComputerStation.DeserializeLengthDelimited(stream);
					}
					else
					{
						ComputerStation.DeserializeLengthDelimited(stream, instance.computerStation, isDelta);
					}
				}
				break;
			case 59u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.growableEntity == null)
					{
						instance.growableEntity = GrowableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						GrowableEntity.DeserializeLengthDelimited(stream, instance.growableEntity, isDelta);
					}
				}
				break;
			case 60u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.composter == null)
					{
						instance.composter = Composter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Composter.DeserializeLengthDelimited(stream, instance.composter, isDelta);
					}
				}
				break;
			case 61u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularVehicle == null)
					{
						instance.modularVehicle = ModularVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularVehicle.DeserializeLengthDelimited(stream, instance.modularVehicle, isDelta);
					}
				}
				break;
			case 62u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularCar == null)
					{
						instance.modularCar = ModularCar.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularCar.DeserializeLengthDelimited(stream, instance.modularCar, isDelta);
					}
				}
				break;
			case 63u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUID == null)
					{
						instance.simpleUID = SimpleUID.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUID.DeserializeLengthDelimited(stream, instance.simpleUID, isDelta);
					}
				}
				break;
			case 64u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleLift == null)
					{
						instance.vehicleLift = VehicleLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleLift.DeserializeLengthDelimited(stream, instance.vehicleLift, isDelta);
					}
				}
				break;
			case 65u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.engineStorage == null)
					{
						instance.engineStorage = EngineStorage.DeserializeLengthDelimited(stream);
					}
					else
					{
						EngineStorage.DeserializeLengthDelimited(stream, instance.engineStorage, isDelta);
					}
				}
				break;
			case 66u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleVendor == null)
					{
						instance.vehicleVendor = VehicleVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleVendor.DeserializeLengthDelimited(stream, instance.vehicleVendor, isDelta);
					}
				}
				break;
			case 67u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.WaterPool == null)
					{
						instance.WaterPool = WaterPool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterPool.DeserializeLengthDelimited(stream, instance.WaterPool, isDelta);
					}
				}
				break;
			case 68u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photo == null)
					{
						instance.photo = Photo.DeserializeLengthDelimited(stream);
					}
					else
					{
						Photo.DeserializeLengthDelimited(stream, instance.photo, isDelta);
					}
				}
				break;
			case 69u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photoFrame == null)
					{
						instance.photoFrame = PhotoFrame.DeserializeLengthDelimited(stream);
					}
					else
					{
						PhotoFrame.DeserializeLengthDelimited(stream, instance.photoFrame, isDelta);
					}
				}
				break;
			case 70u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleModule == null)
					{
						instance.vehicleModule = VehicleModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleModule.DeserializeLengthDelimited(stream, instance.vehicleModule, isDelta);
					}
				}
				break;
			case 71u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mixingTable == null)
					{
						instance.mixingTable = MixingTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						MixingTable.DeserializeLengthDelimited(stream, instance.mixingTable, isDelta);
					}
				}
				break;
			case 72u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.shopKeeper == null)
					{
						instance.shopKeeper = ShopKeeper.DeserializeLengthDelimited(stream);
					}
					else
					{
						ShopKeeper.DeserializeLengthDelimited(stream, instance.shopKeeper, isDelta);
					}
				}
				break;
			case 73u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevator == null)
					{
						instance.elevator = Elevator.DeserializeLengthDelimited(stream);
					}
					else
					{
						Elevator.DeserializeLengthDelimited(stream, instance.elevator, isDelta);
					}
				}
				break;
			case 74u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.skullTrophy == null)
					{
						instance.skullTrophy = SkullTrophy.DeserializeLengthDelimited(stream);
					}
					else
					{
						SkullTrophy.DeserializeLengthDelimited(stream, instance.skullTrophy, isDelta);
					}
				}
				break;
			case 75u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cassette == null)
					{
						instance.cassette = Cassette.DeserializeLengthDelimited(stream);
					}
					else
					{
						Cassette.DeserializeLengthDelimited(stream, instance.cassette, isDelta);
					}
				}
				break;
			case 76u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.telephone == null)
					{
						instance.telephone = Telephone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Telephone.DeserializeLengthDelimited(stream, instance.telephone, isDelta);
					}
				}
				break;
			case 77u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.boomBox == null)
					{
						instance.boomBox = BoomBox.DeserializeLengthDelimited(stream);
					}
					else
					{
						BoomBox.DeserializeLengthDelimited(stream, instance.boomBox, isDelta);
					}
				}
				break;
			case 78u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.neonSign == null)
					{
						instance.neonSign = NeonSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						NeonSign.DeserializeLengthDelimited(stream, instance.neonSign, isDelta);
					}
				}
				break;
			case 79u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.subEntityList == null)
					{
						instance.subEntityList = SubEntityList.DeserializeLengthDelimited(stream);
					}
					else
					{
						SubEntityList.DeserializeLengthDelimited(stream, instance.subEntityList, isDelta);
					}
				}
				break;
			case 80u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.marketTerminal == null)
					{
						instance.marketTerminal = MarketTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						MarketTerminal.DeserializeLengthDelimited(stream, instance.marketTerminal, isDelta);
					}
				}
				break;
			case 81u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.deliveryDrone == null)
					{
						instance.deliveryDrone = DeliveryDrone.DeserializeLengthDelimited(stream);
					}
					else
					{
						DeliveryDrone.DeserializeLengthDelimited(stream, instance.deliveryDrone, isDelta);
					}
				}
				break;
			case 82u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimTerminal == null)
					{
						instance.reclaimTerminal = ReclaimTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimTerminal.DeserializeLengthDelimited(stream, instance.reclaimTerminal, isDelta);
					}
				}
				break;
			case 83u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.slotMachine == null)
					{
						instance.slotMachine = SlotMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SlotMachine.DeserializeLengthDelimited(stream, instance.slotMachine, isDelta);
					}
				}
				break;
			case 84u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.trainEngine == null)
					{
						instance.trainEngine = TrainEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						TrainEngine.DeserializeLengthDelimited(stream, instance.trainEngine, isDelta);
					}
				}
				break;
			case 85u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cardGame == null)
					{
						instance.cardGame = CardGame.DeserializeLengthDelimited(stream);
					}
					else
					{
						CardGame.DeserializeLengthDelimited(stream, instance.cardGame, isDelta);
					}
				}
				break;
			case 86u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.crane == null)
					{
						instance.crane = Crane.DeserializeLengthDelimited(stream);
					}
					else
					{
						Crane.DeserializeLengthDelimited(stream, instance.crane, isDelta);
					}
				}
				break;
			case 87u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.connectedSpeaker == null)
					{
						instance.connectedSpeaker = ConnectedSpeaker.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConnectedSpeaker.DeserializeLengthDelimited(stream, instance.connectedSpeaker, isDelta);
					}
				}
				break;
			case 88u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.audioEntity == null)
					{
						instance.audioEntity = AudioEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						AudioEntity.DeserializeLengthDelimited(stream, instance.audioEntity, isDelta);
					}
				}
				break;
			case 89u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.microphoneStand == null)
					{
						instance.microphoneStand = MicrophoneStand.DeserializeLengthDelimited(stream);
					}
					else
					{
						MicrophoneStand.DeserializeLengthDelimited(stream, instance.microphoneStand, isDelta);
					}
				}
				break;
			case 90u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.submarine == null)
					{
						instance.submarine = Submarine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Submarine.DeserializeLengthDelimited(stream, instance.submarine, isDelta);
					}
				}
				break;
			case 91u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBagCamper == null)
					{
						instance.sleepingBagCamper = SleepingBagCamper.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBagCamper.DeserializeLengthDelimited(stream, instance.sleepingBagCamper, isDelta);
					}
				}
				break;
			case 92u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.camperModule == null)
					{
						instance.camperModule = CamperModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						CamperModule.DeserializeLengthDelimited(stream, instance.camperModule, isDelta);
					}
				}
				break;
			case 93u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintableSign == null)
					{
						instance.paintableSign = PaintableSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintableSign.DeserializeLengthDelimited(stream, instance.paintableSign, isDelta);
					}
				}
				break;
			case 94u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.whitelist == null)
					{
						instance.whitelist = Whitelist.DeserializeLengthDelimited(stream);
					}
					else
					{
						Whitelist.DeserializeLengthDelimited(stream, instance.whitelist, isDelta);
					}
				}
				break;
			case 95u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.FrankensteinTable == null)
					{
						instance.FrankensteinTable = FrankensteinTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						FrankensteinTable.DeserializeLengthDelimited(stream, instance.FrankensteinTable, isDelta);
					}
				}
				break;
			case 96u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mlrs == null)
					{
						instance.mlrs = MLRS.DeserializeLengthDelimited(stream);
					}
					else
					{
						MLRS.DeserializeLengthDelimited(stream, instance.mlrs, isDelta);
					}
				}
				break;
			case 97u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimManager == null)
					{
						instance.reclaimManager = ReclaimManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimManager.DeserializeLengthDelimited(stream, instance.reclaimManager, isDelta);
					}
				}
				break;
			case 98u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.gameMode == null)
					{
						instance.gameMode = GameMode.DeserializeLengthDelimited(stream);
					}
					else
					{
						GameMode.DeserializeLengthDelimited(stream, instance.gameMode, isDelta);
					}
				}
				break;
			case 99u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.snowmobile == null)
					{
						instance.snowmobile = Snowmobile.DeserializeLengthDelimited(stream);
					}
					else
					{
						Snowmobile.DeserializeLengthDelimited(stream, instance.snowmobile, isDelta);
					}
				}
				break;
			case 100u:
				if (key.WireType == Wire.Varint)
				{
					instance.createdThisFrame = ProtocolParser.ReadBool(stream);
				}
				break;
			case 101u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.patternFirework == null)
					{
						instance.patternFirework = PatternFirework.DeserializeLengthDelimited(stream);
					}
					else
					{
						PatternFirework.DeserializeLengthDelimited(stream, instance.patternFirework, isDelta);
					}
				}
				break;
			case 102u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoPlane == null)
					{
						instance.cargoPlane = CargoPlane.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoPlane.DeserializeLengthDelimited(stream, instance.cargoPlane, isDelta);
					}
				}
				break;
			case 103u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintedItem == null)
					{
						instance.paintedItem = PaintedItem.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintedItem.DeserializeLengthDelimited(stream, instance.paintedItem, isDelta);
					}
				}
				break;
			case 104u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.clanManager == null)
					{
						instance.clanManager = ClanManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ClanManager.DeserializeLengthDelimited(stream, instance.clanManager, isDelta);
					}
				}
				break;
			case 105u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spray == null)
					{
						instance.spray = Spray.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spray.DeserializeLengthDelimited(stream, instance.spray, isDelta);
					}
				}
				break;
			case 106u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseTrain == null)
					{
						instance.baseTrain = BaseTrain.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseTrain.DeserializeLengthDelimited(stream, instance.baseTrain, isDelta);
					}
				}
				break;
			case 107u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.zipline == null)
					{
						instance.zipline = Zipline.DeserializeLengthDelimited(stream);
					}
					else
					{
						Zipline.DeserializeLengthDelimited(stream, instance.zipline, isDelta);
					}
				}
				break;
			case 108u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ziplineMountable == null)
					{
						instance.ziplineMountable = ZiplineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineMountable.DeserializeLengthDelimited(stream, instance.ziplineMountable, isDelta);
					}
				}
				break;
			case 109u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ZiplineArrival == null)
					{
						instance.ZiplineArrival = ZiplineArrivalPoint.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineArrivalPoint.DeserializeLengthDelimited(stream, instance.ZiplineArrival, isDelta);
					}
				}
				break;
			case 110u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sprayLine == null)
					{
						instance.sprayLine = SprayLine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SprayLine.DeserializeLengthDelimited(stream, instance.sprayLine, isDelta);
					}
				}
				break;
			case 111u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.coalingTower == null)
					{
						instance.coalingTower = CoalingTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						CoalingTower.DeserializeLengthDelimited(stream, instance.coalingTower, isDelta);
					}
				}
				break;
			case 112u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleInt == null)
					{
						instance.simpleInt = SimpleInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleInt.DeserializeLengthDelimited(stream, instance.simpleInt, isDelta);
					}
				}
				break;
			case 113u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseOven == null)
					{
						instance.baseOven = BaseOven.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseOven.DeserializeLengthDelimited(stream, instance.baseOven, isDelta);
					}
				}
				break;
			case 114u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.brainComponent == null)
					{
						instance.brainComponent = BrainComponent.DeserializeLengthDelimited(stream);
					}
					else
					{
						BrainComponent.DeserializeLengthDelimited(stream, instance.brainComponent, isDelta);
					}
				}
				break;
			case 115u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.proceduralDungeon == null)
					{
						instance.proceduralDungeon = ProceduralDungeon.DeserializeLengthDelimited(stream);
					}
					else
					{
						ProceduralDungeon.DeserializeLengthDelimited(stream, instance.proceduralDungeon, isDelta);
					}
				}
				break;
			case 116u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialConveyor == null)
					{
						instance.industrialConveyor = IndustrialConveyor.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialConveyor.DeserializeLengthDelimited(stream, instance.industrialConveyor, isDelta);
					}
				}
				break;
			case 117u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialCrafter == null)
					{
						instance.industrialCrafter = IndustrialCrafter.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialCrafter.DeserializeLengthDelimited(stream, instance.industrialCrafter, isDelta);
					}
				}
				break;
			case 118u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.drone == null)
					{
						instance.drone = Drone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Drone.DeserializeLengthDelimited(stream, instance.drone, isDelta);
					}
				}
				break;
			case 119u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.explosive == null)
					{
						instance.explosive = TimedExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						TimedExplosive.DeserializeLengthDelimited(stream, instance.explosive, isDelta);
					}
				}
				break;
			case 120u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUint == null)
					{
						instance.simpleUint = SimpleUInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUInt.DeserializeLengthDelimited(stream, instance.simpleUint, isDelta);
					}
				}
				break;
			case 121u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.weaponRack == null)
					{
						instance.weaponRack = WeaponRack.DeserializeLengthDelimited(stream);
					}
					else
					{
						WeaponRack.DeserializeLengthDelimited(stream, instance.weaponRack, isDelta);
					}
				}
				break;
			case 122u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeli == null)
					{
						instance.attackHeli = AttackHeli.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeli.DeserializeLengthDelimited(stream, instance.attackHeli, isDelta);
					}
				}
				break;
			case 123u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliTurret == null)
					{
						instance.attackHeliTurret = AttackHeliTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliTurret.DeserializeLengthDelimited(stream, instance.attackHeliTurret, isDelta);
					}
				}
				break;
			case 124u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliRockets == null)
					{
						instance.attackHeliRockets = AttackHeliRockets.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliRockets.DeserializeLengthDelimited(stream, instance.attackHeliRockets, isDelta);
					}
				}
				break;
			case 125u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseBoat == null)
					{
						instance.baseBoat = BaseBoat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseBoat.DeserializeLengthDelimited(stream, instance.baseBoat, isDelta);
					}
				}
				break;
			case 126u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ragdoll == null)
					{
						instance.ragdoll = Ragdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ragdoll.DeserializeLengthDelimited(stream, instance.ragdoll, isDelta);
					}
				}
				break;
			case 127u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dieselEngine == null)
					{
						instance.dieselEngine = DieselEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						DieselEngine.DeserializeLengthDelimited(stream, instance.dieselEngine, isDelta);
					}
				}
				break;
			case 150u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.associatedFiles == null)
					{
						instance.associatedFiles = AssociatedFiles.DeserializeLengthDelimited(stream);
					}
					else
					{
						AssociatedFiles.DeserializeLengthDelimited(stream, instance.associatedFiles, isDelta);
					}
				}
				break;
			case 151u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusFerry == null)
					{
						instance.nexusFerry = NexusFerry.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusFerry.DeserializeLengthDelimited(stream, instance.nexusFerry, isDelta);
					}
				}
				break;
			case 152u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusIsland == null)
					{
						instance.nexusIsland = NexusIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusIsland.DeserializeLengthDelimited(stream, instance.nexusIsland, isDelta);
					}
				}
				break;
			case 153u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusDockTerminal == null)
					{
						instance.nexusDockTerminal = NexusDockTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusDockTerminal.DeserializeLengthDelimited(stream, instance.nexusDockTerminal, isDelta);
					}
				}
				break;
			case 154u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rockingChair == null)
					{
						instance.rockingChair = RockingChair.DeserializeLengthDelimited(stream);
					}
					else
					{
						RockingChair.DeserializeLengthDelimited(stream, instance.rockingChair, isDelta);
					}
				}
				break;
			case 155u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.headData == null)
					{
						instance.headData = HeadData.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeadData.DeserializeLengthDelimited(stream, instance.headData, isDelta);
					}
				}
				break;
			case 156u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wantedPoster == null)
					{
						instance.wantedPoster = WantedPoster.DeserializeLengthDelimited(stream);
					}
					else
					{
						WantedPoster.DeserializeLengthDelimited(stream, instance.wantedPoster, isDelta);
					}
				}
				break;
			case 158u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waypointRace == null)
					{
						instance.waypointRace = WaypointRace.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaypointRace.DeserializeLengthDelimited(stream, instance.waypointRace, isDelta);
					}
				}
				break;
			case 159u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.legacyShelter == null)
					{
						instance.legacyShelter = LegacyShelter.DeserializeLengthDelimited(stream);
					}
					else
					{
						LegacyShelter.DeserializeLengthDelimited(stream, instance.legacyShelter, isDelta);
					}
				}
				break;
			case 160u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.metalDetectorSource == null)
					{
						instance.metalDetectorSource = MetalDetectorSource.DeserializeLengthDelimited(stream);
					}
					else
					{
						MetalDetectorSource.DeserializeLengthDelimited(stream, instance.metalDetectorSource, isDelta);
					}
				}
				break;
			case 161u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tutorialIsland == null)
					{
						instance.tutorialIsland = TutorialIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						TutorialIsland.DeserializeLengthDelimited(stream, instance.tutorialIsland, isDelta);
					}
				}
				break;
			case 162u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cinematicEntity == null)
					{
						instance.cinematicEntity = CinematicEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						CinematicEntity.DeserializeLengthDelimited(stream, instance.cinematicEntity, isDelta);
					}
				}
				break;
			case 163u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buildingPrivilegeRetro == null)
					{
						instance.buildingPrivilegeRetro = BuildingPrivilegeRetro.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuildingPrivilegeRetro.DeserializeLengthDelimited(stream, instance.buildingPrivilegeRetro, isDelta);
					}
				}
				break;
			case 164u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.harborCrane == null)
					{
						instance.harborCrane = HarborCrane.DeserializeLengthDelimited(stream);
					}
					else
					{
						HarborCrane.DeserializeLengthDelimited(stream, instance.harborCrane, isDelta);
					}
				}
				break;
			case 165u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShip == null)
					{
						instance.cargoShip = CargoShip.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShip.DeserializeLengthDelimited(stream, instance.cargoShip, isDelta);
					}
				}
				break;
			case 166u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShipContainer == null)
					{
						instance.cargoShipContainer = CargoShipContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShipContainer.DeserializeLengthDelimited(stream, instance.cargoShipContainer, isDelta);
					}
				}
				break;
			case 167u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.missionMapMarker == null)
					{
						instance.missionMapMarker = MissionMapMarker.DeserializeLengthDelimited(stream);
					}
					else
					{
						MissionMapMarker.DeserializeLengthDelimited(stream, instance.missionMapMarker, isDelta);
					}
				}
				break;
			case 168u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bike == null)
					{
						instance.bike = Bike.DeserializeLengthDelimited(stream);
					}
					else
					{
						Bike.DeserializeLengthDelimited(stream, instance.bike, isDelta);
					}
				}
				break;
			case 169u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.diverPropulsionVehicle == null)
					{
						instance.diverPropulsionVehicle = DiverPropulsionVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						DiverPropulsionVehicle.DeserializeLengthDelimited(stream, instance.diverPropulsionVehicle, isDelta);
					}
				}
				break;
			case 174u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.travellingVendor == null)
					{
						instance.travellingVendor = TravellingVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						TravellingVendor.DeserializeLengthDelimited(stream, instance.travellingVendor, isDelta);
					}
				}
				break;
			case 175u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingDynamicPricing == null)
					{
						instance.vendingDynamicPricing = VendingDynamicPricing.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingDynamicPricing.DeserializeLengthDelimited(stream, instance.vendingDynamicPricing, isDelta);
					}
				}
				break;
			case 176u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tinCanAlarm == null)
					{
						instance.tinCanAlarm = TinCanAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						TinCanAlarm.DeserializeLengthDelimited(stream, instance.tinCanAlarm, isDelta);
					}
				}
				break;
			case 177u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.digitalClock == null)
					{
						instance.digitalClock = DigitalClock.DeserializeLengthDelimited(stream);
					}
					else
					{
						DigitalClock.DeserializeLengthDelimited(stream, instance.digitalClock, isDelta);
					}
				}
				break;
			case 178u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevatorLift == null)
					{
						instance.elevatorLift = ElevatorLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						ElevatorLift.DeserializeLengthDelimited(stream, instance.elevatorLift, isDelta);
					}
				}
				break;
			case 179u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcVendingMachine == null)
					{
						instance.npcVendingMachine = NPCVendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCVendingMachine.DeserializeLengthDelimited(stream, instance.npcVendingMachine, isDelta);
					}
				}
				break;
			case 180u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mailbox == null)
					{
						instance.mailbox = Mailbox.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mailbox.DeserializeLengthDelimited(stream, instance.mailbox, isDelta);
					}
				}
				break;
			case 181u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.projectileWeaponMod == null)
					{
						instance.projectileWeaponMod = GunWeaponMod.DeserializeLengthDelimited(stream);
					}
					else
					{
						GunWeaponMod.DeserializeLengthDelimited(stream, instance.projectileWeaponMod, isDelta);
					}
				}
				break;
			case 182u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseSculpture == null)
					{
						instance.baseSculpture = BaseSculpture.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseSculpture.DeserializeLengthDelimited(stream, instance.baseSculpture, isDelta);
					}
				}
				break;
			case 183u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachineStats == null)
					{
						instance.vendingMachineStats = VendingMachineStats.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachineStats.DeserializeLengthDelimited(stream, instance.vendingMachineStats, isDelta);
					}
				}
				break;
			case 184u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.catapult == null)
					{
						instance.catapult = Catapult.DeserializeLengthDelimited(stream);
					}
					else
					{
						Catapult.DeserializeLengthDelimited(stream, instance.catapult, isDelta);
					}
				}
				break;
			case 185u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.siegeTower == null)
					{
						instance.siegeTower = SiegeTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						SiegeTower.DeserializeLengthDelimited(stream, instance.siegeTower, isDelta);
					}
				}
				break;
			case 186u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballista == null)
					{
						instance.ballista = Ballista.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ballista.DeserializeLengthDelimited(stream, instance.ballista, isDelta);
					}
				}
				break;
			case 187u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballistaGun == null)
					{
						instance.ballistaGun = BallistaGun.DeserializeLengthDelimited(stream);
					}
					else
					{
						BallistaGun.DeserializeLengthDelimited(stream, instance.ballistaGun, isDelta);
					}
				}
				break;
			case 188u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.batteringRam == null)
					{
						instance.batteringRam = BatteringRam.DeserializeLengthDelimited(stream);
					}
					else
					{
						BatteringRam.DeserializeLengthDelimited(stream, instance.batteringRam, isDelta);
					}
				}
				break;
			case 189u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.temporaryRagdoll == null)
					{
						instance.temporaryRagdoll = TemporaryRagdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						TemporaryRagdoll.DeserializeLengthDelimited(stream, instance.temporaryRagdoll, isDelta);
					}
				}
				break;
			case 191u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.constructableEntity == null)
					{
						instance.constructableEntity = ConstructableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConstructableEntity.DeserializeLengthDelimited(stream, instance.constructableEntity, isDelta);
					}
				}
				break;
			case 192u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.chickenCoop == null)
					{
						instance.chickenCoop = ChickenCoop.DeserializeLengthDelimited(stream);
					}
					else
					{
						ChickenCoop.DeserializeLengthDelimited(stream, instance.chickenCoop, isDelta);
					}
				}
				break;
			case 193u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.farmableAnimal == null)
					{
						instance.farmableAnimal = FarmableAnimal.DeserializeLengthDelimited(stream);
					}
					else
					{
						FarmableAnimal.DeserializeLengthDelimited(stream, instance.farmableAnimal, isDelta);
					}
				}
				break;
			case 194u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
				}
				break;
			case 195u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beehive == null)
					{
						instance.beehive = Beehive.DeserializeLengthDelimited(stream);
					}
					else
					{
						Beehive.DeserializeLengthDelimited(stream, instance.beehive, isDelta);
					}
				}
				break;
			case 196u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beeMasterSwarm == null)
					{
						instance.beeMasterSwarm = BeeMasterSwarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						BeeMasterSwarm.DeserializeLengthDelimited(stream, instance.beeMasterSwarm, isDelta);
					}
				}
				break;
			case 197u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.containerCorpse == null)
					{
						instance.containerCorpse = ContainerCorpseData.DeserializeLengthDelimited(stream);
					}
					else
					{
						ContainerCorpseData.DeserializeLengthDelimited(stream, instance.containerCorpse, isDelta);
					}
				}
				break;
			case 198u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcSensesState == null)
					{
						instance.npcSensesState = NPCSensesState.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCSensesState.DeserializeLengthDelimited(stream, instance.npcSensesState, isDelta);
					}
				}
				break;
			case 199u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineMountable == null)
					{
						instance.vineMountable = VineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineMountable.DeserializeLengthDelimited(stream, instance.vineMountable, isDelta);
					}
				}
				break;
			case 200u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineTree == null)
					{
						instance.vineTree = VineTree.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineTree.DeserializeLengthDelimited(stream, instance.vineTree, isDelta);
					}
				}
				break;
			case 201u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.treeRespawn == null)
					{
						instance.treeRespawn = TreeRespawn.DeserializeLengthDelimited(stream);
					}
					else
					{
						TreeRespawn.DeserializeLengthDelimited(stream, instance.treeRespawn, isDelta);
					}
				}
				break;
			case 202u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wallpaperTool == null)
					{
						instance.wallpaperTool = WallpaperTool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WallpaperTool.DeserializeLengthDelimited(stream, instance.wallpaperTool, isDelta);
					}
				}
				break;
			case 203u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.commandBlock == null)
					{
						instance.commandBlock = CommandBlock.DeserializeLengthDelimited(stream);
					}
					else
					{
						CommandBlock.DeserializeLengthDelimited(stream, instance.commandBlock, isDelta);
					}
				}
				break;
			case 204u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.staticRespawn == null)
					{
						instance.staticRespawn = StaticRespawnAreaData.DeserializeLengthDelimited(stream);
					}
					else
					{
						StaticRespawnAreaData.DeserializeLengthDelimited(stream, instance.staticRespawn, isDelta);
					}
				}
				break;
			case 205u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buriedItemStorage == null)
					{
						instance.buriedItemStorage = BuriedItems.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuriedItems.DeserializeLengthDelimited(stream, instance.buriedItemStorage, isDelta);
					}
				}
				break;
			case 206u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mannequin == null)
					{
						instance.mannequin = Mannequin.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mannequin.DeserializeLengthDelimited(stream, instance.mannequin, isDelta);
					}
				}
				break;
			case 207u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseMelee == null)
					{
						instance.baseMelee = BaseMelee.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseMelee.DeserializeLengthDelimited(stream, instance.baseMelee, isDelta);
					}
				}
				break;
			case 208u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.door == null)
					{
						instance.door = Door.DeserializeLengthDelimited(stream);
					}
					else
					{
						Door.DeserializeLengthDelimited(stream, instance.door, isDelta);
					}
				}
				break;
			case 217u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.storageAdaptor == null)
					{
						instance.storageAdaptor = StorageAdaptor.DeserializeLengthDelimited(stream);
					}
					else
					{
						StorageAdaptor.DeserializeLengthDelimited(stream, instance.storageAdaptor, isDelta);
					}
				}
				break;
			case 218u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopterFlares == null)
					{
						instance.helicopterFlares = HelicopterFlares.DeserializeLengthDelimited(stream);
					}
					else
					{
						HelicopterFlares.DeserializeLengthDelimited(stream, instance.helicopterFlares, isDelta);
					}
				}
				break;
			case 219u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wipeLaptop == null)
					{
						instance.wipeLaptop = WipeLaptop.DeserializeLengthDelimited(stream);
					}
					else
					{
						WipeLaptop.DeserializeLengthDelimited(stream, instance.wipeLaptop, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
	}

	public static Entity DeserializeLengthDelimited(BufferStream stream, Entity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.baseNetworkable == null)
				{
					instance.baseNetworkable = BaseNetworkable.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseNetworkable.DeserializeLengthDelimited(stream, instance.baseNetworkable, isDelta);
				}
				continue;
			case 18:
				if (instance.baseEntity == null)
				{
					instance.baseEntity = BaseEntity.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseEntity.DeserializeLengthDelimited(stream, instance.baseEntity, isDelta);
				}
				continue;
			case 26:
				if (instance.basePlayer == null)
				{
					instance.basePlayer = BasePlayer.DeserializeLengthDelimited(stream);
				}
				else
				{
					BasePlayer.DeserializeLengthDelimited(stream, instance.basePlayer, isDelta);
				}
				continue;
			case 34:
				if (instance.worldItem == null)
				{
					instance.worldItem = WorldItem.DeserializeLengthDelimited(stream);
				}
				else
				{
					WorldItem.DeserializeLengthDelimited(stream, instance.worldItem, isDelta);
				}
				continue;
			case 42:
				if (instance.resource == null)
				{
					instance.resource = BaseResource.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseResource.DeserializeLengthDelimited(stream, instance.resource, isDelta);
				}
				continue;
			case 50:
				if (instance.buildingBlock == null)
				{
					instance.buildingBlock = BuildingBlock.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingBlock.DeserializeLengthDelimited(stream, instance.buildingBlock, isDelta);
				}
				continue;
			case 58:
				if (instance.environment == null)
				{
					instance.environment = ProtoBuf.Environment.DeserializeLengthDelimited(stream);
				}
				else
				{
					ProtoBuf.Environment.DeserializeLengthDelimited(stream, instance.environment, isDelta);
				}
				continue;
			case 66:
				if (instance.corpse == null)
				{
					instance.corpse = Corpse.DeserializeLengthDelimited(stream);
				}
				else
				{
					Corpse.DeserializeLengthDelimited(stream, instance.corpse, isDelta);
				}
				continue;
			case 82:
				if (instance.parent == null)
				{
					instance.parent = ParentInfo.DeserializeLengthDelimited(stream);
				}
				else
				{
					ParentInfo.DeserializeLengthDelimited(stream, instance.parent, isDelta);
				}
				continue;
			case 90:
				if (instance.keyLock == null)
				{
					instance.keyLock = KeyLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					KeyLock.DeserializeLengthDelimited(stream, instance.keyLock, isDelta);
				}
				continue;
			case 98:
				if (instance.codeLock == null)
				{
					instance.codeLock = CodeLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					CodeLock.DeserializeLengthDelimited(stream, instance.codeLock, isDelta);
				}
				continue;
			case 106:
				if (instance.entitySlots == null)
				{
					instance.entitySlots = EntitySlots.DeserializeLengthDelimited(stream);
				}
				else
				{
					EntitySlots.DeserializeLengthDelimited(stream, instance.entitySlots, isDelta);
				}
				continue;
			case 114:
				if (instance.buildingPrivilege == null)
				{
					instance.buildingPrivilege = BuildingPrivilege.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingPrivilege.DeserializeLengthDelimited(stream, instance.buildingPrivilege, isDelta);
				}
				continue;
			case 122:
				if (instance.storageBox == null)
				{
					instance.storageBox = StorageBox.DeserializeLengthDelimited(stream);
				}
				else
				{
					StorageBox.DeserializeLengthDelimited(stream, instance.storageBox, isDelta);
				}
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.heldEntity == null)
					{
						instance.heldEntity = HeldEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeldEntity.DeserializeLengthDelimited(stream, instance.heldEntity, isDelta);
					}
				}
				break;
			case 17u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseProjectile == null)
					{
						instance.baseProjectile = BaseProjectile.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseProjectile.DeserializeLengthDelimited(stream, instance.baseProjectile, isDelta);
					}
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseNPC == null)
					{
						instance.baseNPC = BaseNPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseNPC.DeserializeLengthDelimited(stream, instance.baseNPC, isDelta);
					}
				}
				break;
			case 19u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.loot == null)
					{
						instance.loot = Loot.DeserializeLengthDelimited(stream);
					}
					else
					{
						Loot.DeserializeLengthDelimited(stream, instance.loot, isDelta);
					}
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.genericSpawner == null)
					{
						instance.genericSpawner = GenericSpawner.DeserializeLengthDelimited(stream);
					}
					else
					{
						GenericSpawner.DeserializeLengthDelimited(stream, instance.genericSpawner, isDelta);
					}
				}
				break;
			case 21u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBag == null)
					{
						instance.sleepingBag = SleepingBag.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBag.DeserializeLengthDelimited(stream, instance.sleepingBag, isDelta);
					}
				}
				break;
			case 22u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lootableCorpse == null)
					{
						instance.lootableCorpse = LootableCorpse.DeserializeLengthDelimited(stream);
					}
					else
					{
						LootableCorpse.DeserializeLengthDelimited(stream, instance.lootableCorpse, isDelta);
					}
				}
				break;
			case 23u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sign == null)
					{
						instance.sign = Sign.DeserializeLengthDelimited(stream);
					}
					else
					{
						Sign.DeserializeLengthDelimited(stream, instance.sign, isDelta);
					}
				}
				break;
			case 24u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseCombat == null)
					{
						instance.baseCombat = BaseCombat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseCombat.DeserializeLengthDelimited(stream, instance.baseCombat, isDelta);
					}
				}
				break;
			case 25u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mapEntity == null)
					{
						instance.mapEntity = MapEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						MapEntity.DeserializeLengthDelimited(stream, instance.mapEntity, isDelta);
					}
				}
				break;
			case 26u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.researchTable == null)
					{
						instance.researchTable = ResearchTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ResearchTable.DeserializeLengthDelimited(stream, instance.researchTable, isDelta);
					}
				}
				break;
			case 27u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dudExplosive == null)
					{
						instance.dudExplosive = DudExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						DudExplosive.DeserializeLengthDelimited(stream, instance.dudExplosive, isDelta);
					}
				}
				break;
			case 28u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miningQuarry == null)
					{
						instance.miningQuarry = MiningQuarry.DeserializeLengthDelimited(stream);
					}
					else
					{
						MiningQuarry.DeserializeLengthDelimited(stream, instance.miningQuarry, isDelta);
					}
				}
				break;
			case 29u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseVehicle == null)
					{
						instance.baseVehicle = BaseVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseVehicle.DeserializeLengthDelimited(stream, instance.baseVehicle, isDelta);
					}
				}
				break;
			case 30u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopter == null)
					{
						instance.helicopter = Helicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Helicopter.DeserializeLengthDelimited(stream, instance.helicopter, isDelta);
					}
				}
				break;
			case 31u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.landmine == null)
					{
						instance.landmine = Landmine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Landmine.DeserializeLengthDelimited(stream, instance.landmine, isDelta);
					}
				}
				break;
			case 32u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.autoturret == null)
					{
						instance.autoturret = AutoTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AutoTurret.DeserializeLengthDelimited(stream, instance.autoturret, isDelta);
					}
				}
				break;
			case 33u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sphereEntity == null)
					{
						instance.sphereEntity = SphereEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						SphereEntity.DeserializeLengthDelimited(stream, instance.sphereEntity, isDelta);
					}
				}
				break;
			case 34u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.stabilityEntity == null)
					{
						instance.stabilityEntity = StabilityEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						StabilityEntity.DeserializeLengthDelimited(stream, instance.stabilityEntity, isDelta);
					}
				}
				break;
			case 35u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownerInfo == null)
					{
						instance.ownerInfo = OwnerInfo.DeserializeLengthDelimited(stream);
					}
					else
					{
						OwnerInfo.DeserializeLengthDelimited(stream, instance.ownerInfo, isDelta);
					}
				}
				break;
			case 36u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.decayEntity == null)
					{
						instance.decayEntity = DecayEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						DecayEntity.DeserializeLengthDelimited(stream, instance.decayEntity, isDelta);
					}
				}
				break;
			case 37u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spawnable == null)
					{
						instance.spawnable = Spawnable.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spawnable.DeserializeLengthDelimited(stream, instance.spawnable, isDelta);
					}
				}
				break;
			case 38u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.servergib == null)
					{
						instance.servergib = ServerGib.DeserializeLengthDelimited(stream);
					}
					else
					{
						ServerGib.DeserializeLengthDelimited(stream, instance.servergib, isDelta);
					}
				}
				break;
			case 39u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachine == null)
					{
						instance.vendingMachine = VendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachine.DeserializeLengthDelimited(stream, instance.vendingMachine, isDelta);
					}
				}
				break;
			case 40u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spinnerWheel == null)
					{
						instance.spinnerWheel = SpinnerWheel.DeserializeLengthDelimited(stream);
					}
					else
					{
						SpinnerWheel.DeserializeLengthDelimited(stream, instance.spinnerWheel, isDelta);
					}
				}
				break;
			case 41u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lift == null)
					{
						instance.lift = Lift.DeserializeLengthDelimited(stream);
					}
					else
					{
						Lift.DeserializeLengthDelimited(stream, instance.lift, isDelta);
					}
				}
				break;
			case 42u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bradley == null)
					{
						instance.bradley = BradleyAPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BradleyAPC.DeserializeLengthDelimited(stream, instance.bradley, isDelta);
					}
				}
				break;
			case 43u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waterwell == null)
					{
						instance.waterwell = WaterWell.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterWell.DeserializeLengthDelimited(stream, instance.waterwell, isDelta);
					}
				}
				break;
			case 44u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.motorBoat == null)
					{
						instance.motorBoat = Motorboat.DeserializeLengthDelimited(stream);
					}
					else
					{
						Motorboat.DeserializeLengthDelimited(stream, instance.motorBoat, isDelta);
					}
				}
				break;
			case 45u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ioEntity == null)
					{
						instance.ioEntity = IOEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						IOEntity.DeserializeLengthDelimited(stream, instance.ioEntity, isDelta);
					}
				}
				break;
			case 46u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.puzzleReset == null)
					{
						instance.puzzleReset = PuzzleReset.DeserializeLengthDelimited(stream);
					}
					else
					{
						PuzzleReset.DeserializeLengthDelimited(stream, instance.puzzleReset, isDelta);
					}
				}
				break;
			case 47u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.relationshipManager == null)
					{
						instance.relationshipManager = RelationshipManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						RelationshipManager.DeserializeLengthDelimited(stream, instance.relationshipManager, isDelta);
					}
				}
				break;
			case 48u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.hotAirBalloon == null)
					{
						instance.hotAirBalloon = HotAirBalloon.DeserializeLengthDelimited(stream);
					}
					else
					{
						HotAirBalloon.DeserializeLengthDelimited(stream, instance.hotAirBalloon, isDelta);
					}
				}
				break;
			case 49u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.samSite == null)
					{
						instance.samSite = SAMSite.DeserializeLengthDelimited(stream);
					}
					else
					{
						SAMSite.DeserializeLengthDelimited(stream, instance.samSite, isDelta);
					}
				}
				break;
			case 50u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.eggHunt == null)
					{
						instance.eggHunt = EggHunt.DeserializeLengthDelimited(stream);
					}
					else
					{
						EggHunt.DeserializeLengthDelimited(stream, instance.eggHunt, isDelta);
					}
				}
				break;
			case 51u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.arcadeMachine == null)
					{
						instance.arcadeMachine = ArcadeMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						ArcadeMachine.DeserializeLengthDelimited(stream, instance.arcadeMachine, isDelta);
					}
				}
				break;
			case 52u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miniCopter == null)
					{
						instance.miniCopter = Minicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Minicopter.DeserializeLengthDelimited(stream, instance.miniCopter, isDelta);
					}
				}
				break;
			case 53u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.horse == null)
					{
						instance.horse = Horse.DeserializeLengthDelimited(stream);
					}
					else
					{
						Horse.DeserializeLengthDelimited(stream, instance.horse, isDelta);
					}
				}
				break;
			case 54u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.smartAlarm == null)
					{
						instance.smartAlarm = SmartAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						SmartAlarm.DeserializeLengthDelimited(stream, instance.smartAlarm, isDelta);
					}
				}
				break;
			case 55u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightString == null)
					{
						instance.lightString = LightString.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightString.DeserializeLengthDelimited(stream, instance.lightString, isDelta);
					}
				}
				break;
			case 56u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightDeployer == null)
					{
						instance.lightDeployer = LightDeployer.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightDeployer.DeserializeLengthDelimited(stream, instance.lightDeployer, isDelta);
					}
				}
				break;
			case 57u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rcEntity == null)
					{
						instance.rcEntity = RCEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						RCEntity.DeserializeLengthDelimited(stream, instance.rcEntity, isDelta);
					}
				}
				break;
			case 58u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.computerStation == null)
					{
						instance.computerStation = ComputerStation.DeserializeLengthDelimited(stream);
					}
					else
					{
						ComputerStation.DeserializeLengthDelimited(stream, instance.computerStation, isDelta);
					}
				}
				break;
			case 59u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.growableEntity == null)
					{
						instance.growableEntity = GrowableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						GrowableEntity.DeserializeLengthDelimited(stream, instance.growableEntity, isDelta);
					}
				}
				break;
			case 60u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.composter == null)
					{
						instance.composter = Composter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Composter.DeserializeLengthDelimited(stream, instance.composter, isDelta);
					}
				}
				break;
			case 61u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularVehicle == null)
					{
						instance.modularVehicle = ModularVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularVehicle.DeserializeLengthDelimited(stream, instance.modularVehicle, isDelta);
					}
				}
				break;
			case 62u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularCar == null)
					{
						instance.modularCar = ModularCar.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularCar.DeserializeLengthDelimited(stream, instance.modularCar, isDelta);
					}
				}
				break;
			case 63u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUID == null)
					{
						instance.simpleUID = SimpleUID.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUID.DeserializeLengthDelimited(stream, instance.simpleUID, isDelta);
					}
				}
				break;
			case 64u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleLift == null)
					{
						instance.vehicleLift = VehicleLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleLift.DeserializeLengthDelimited(stream, instance.vehicleLift, isDelta);
					}
				}
				break;
			case 65u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.engineStorage == null)
					{
						instance.engineStorage = EngineStorage.DeserializeLengthDelimited(stream);
					}
					else
					{
						EngineStorage.DeserializeLengthDelimited(stream, instance.engineStorage, isDelta);
					}
				}
				break;
			case 66u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleVendor == null)
					{
						instance.vehicleVendor = VehicleVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleVendor.DeserializeLengthDelimited(stream, instance.vehicleVendor, isDelta);
					}
				}
				break;
			case 67u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.WaterPool == null)
					{
						instance.WaterPool = WaterPool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterPool.DeserializeLengthDelimited(stream, instance.WaterPool, isDelta);
					}
				}
				break;
			case 68u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photo == null)
					{
						instance.photo = Photo.DeserializeLengthDelimited(stream);
					}
					else
					{
						Photo.DeserializeLengthDelimited(stream, instance.photo, isDelta);
					}
				}
				break;
			case 69u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photoFrame == null)
					{
						instance.photoFrame = PhotoFrame.DeserializeLengthDelimited(stream);
					}
					else
					{
						PhotoFrame.DeserializeLengthDelimited(stream, instance.photoFrame, isDelta);
					}
				}
				break;
			case 70u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleModule == null)
					{
						instance.vehicleModule = VehicleModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleModule.DeserializeLengthDelimited(stream, instance.vehicleModule, isDelta);
					}
				}
				break;
			case 71u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mixingTable == null)
					{
						instance.mixingTable = MixingTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						MixingTable.DeserializeLengthDelimited(stream, instance.mixingTable, isDelta);
					}
				}
				break;
			case 72u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.shopKeeper == null)
					{
						instance.shopKeeper = ShopKeeper.DeserializeLengthDelimited(stream);
					}
					else
					{
						ShopKeeper.DeserializeLengthDelimited(stream, instance.shopKeeper, isDelta);
					}
				}
				break;
			case 73u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevator == null)
					{
						instance.elevator = Elevator.DeserializeLengthDelimited(stream);
					}
					else
					{
						Elevator.DeserializeLengthDelimited(stream, instance.elevator, isDelta);
					}
				}
				break;
			case 74u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.skullTrophy == null)
					{
						instance.skullTrophy = SkullTrophy.DeserializeLengthDelimited(stream);
					}
					else
					{
						SkullTrophy.DeserializeLengthDelimited(stream, instance.skullTrophy, isDelta);
					}
				}
				break;
			case 75u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cassette == null)
					{
						instance.cassette = Cassette.DeserializeLengthDelimited(stream);
					}
					else
					{
						Cassette.DeserializeLengthDelimited(stream, instance.cassette, isDelta);
					}
				}
				break;
			case 76u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.telephone == null)
					{
						instance.telephone = Telephone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Telephone.DeserializeLengthDelimited(stream, instance.telephone, isDelta);
					}
				}
				break;
			case 77u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.boomBox == null)
					{
						instance.boomBox = BoomBox.DeserializeLengthDelimited(stream);
					}
					else
					{
						BoomBox.DeserializeLengthDelimited(stream, instance.boomBox, isDelta);
					}
				}
				break;
			case 78u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.neonSign == null)
					{
						instance.neonSign = NeonSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						NeonSign.DeserializeLengthDelimited(stream, instance.neonSign, isDelta);
					}
				}
				break;
			case 79u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.subEntityList == null)
					{
						instance.subEntityList = SubEntityList.DeserializeLengthDelimited(stream);
					}
					else
					{
						SubEntityList.DeserializeLengthDelimited(stream, instance.subEntityList, isDelta);
					}
				}
				break;
			case 80u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.marketTerminal == null)
					{
						instance.marketTerminal = MarketTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						MarketTerminal.DeserializeLengthDelimited(stream, instance.marketTerminal, isDelta);
					}
				}
				break;
			case 81u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.deliveryDrone == null)
					{
						instance.deliveryDrone = DeliveryDrone.DeserializeLengthDelimited(stream);
					}
					else
					{
						DeliveryDrone.DeserializeLengthDelimited(stream, instance.deliveryDrone, isDelta);
					}
				}
				break;
			case 82u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimTerminal == null)
					{
						instance.reclaimTerminal = ReclaimTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimTerminal.DeserializeLengthDelimited(stream, instance.reclaimTerminal, isDelta);
					}
				}
				break;
			case 83u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.slotMachine == null)
					{
						instance.slotMachine = SlotMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SlotMachine.DeserializeLengthDelimited(stream, instance.slotMachine, isDelta);
					}
				}
				break;
			case 84u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.trainEngine == null)
					{
						instance.trainEngine = TrainEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						TrainEngine.DeserializeLengthDelimited(stream, instance.trainEngine, isDelta);
					}
				}
				break;
			case 85u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cardGame == null)
					{
						instance.cardGame = CardGame.DeserializeLengthDelimited(stream);
					}
					else
					{
						CardGame.DeserializeLengthDelimited(stream, instance.cardGame, isDelta);
					}
				}
				break;
			case 86u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.crane == null)
					{
						instance.crane = Crane.DeserializeLengthDelimited(stream);
					}
					else
					{
						Crane.DeserializeLengthDelimited(stream, instance.crane, isDelta);
					}
				}
				break;
			case 87u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.connectedSpeaker == null)
					{
						instance.connectedSpeaker = ConnectedSpeaker.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConnectedSpeaker.DeserializeLengthDelimited(stream, instance.connectedSpeaker, isDelta);
					}
				}
				break;
			case 88u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.audioEntity == null)
					{
						instance.audioEntity = AudioEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						AudioEntity.DeserializeLengthDelimited(stream, instance.audioEntity, isDelta);
					}
				}
				break;
			case 89u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.microphoneStand == null)
					{
						instance.microphoneStand = MicrophoneStand.DeserializeLengthDelimited(stream);
					}
					else
					{
						MicrophoneStand.DeserializeLengthDelimited(stream, instance.microphoneStand, isDelta);
					}
				}
				break;
			case 90u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.submarine == null)
					{
						instance.submarine = Submarine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Submarine.DeserializeLengthDelimited(stream, instance.submarine, isDelta);
					}
				}
				break;
			case 91u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBagCamper == null)
					{
						instance.sleepingBagCamper = SleepingBagCamper.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBagCamper.DeserializeLengthDelimited(stream, instance.sleepingBagCamper, isDelta);
					}
				}
				break;
			case 92u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.camperModule == null)
					{
						instance.camperModule = CamperModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						CamperModule.DeserializeLengthDelimited(stream, instance.camperModule, isDelta);
					}
				}
				break;
			case 93u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintableSign == null)
					{
						instance.paintableSign = PaintableSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintableSign.DeserializeLengthDelimited(stream, instance.paintableSign, isDelta);
					}
				}
				break;
			case 94u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.whitelist == null)
					{
						instance.whitelist = Whitelist.DeserializeLengthDelimited(stream);
					}
					else
					{
						Whitelist.DeserializeLengthDelimited(stream, instance.whitelist, isDelta);
					}
				}
				break;
			case 95u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.FrankensteinTable == null)
					{
						instance.FrankensteinTable = FrankensteinTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						FrankensteinTable.DeserializeLengthDelimited(stream, instance.FrankensteinTable, isDelta);
					}
				}
				break;
			case 96u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mlrs == null)
					{
						instance.mlrs = MLRS.DeserializeLengthDelimited(stream);
					}
					else
					{
						MLRS.DeserializeLengthDelimited(stream, instance.mlrs, isDelta);
					}
				}
				break;
			case 97u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimManager == null)
					{
						instance.reclaimManager = ReclaimManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimManager.DeserializeLengthDelimited(stream, instance.reclaimManager, isDelta);
					}
				}
				break;
			case 98u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.gameMode == null)
					{
						instance.gameMode = GameMode.DeserializeLengthDelimited(stream);
					}
					else
					{
						GameMode.DeserializeLengthDelimited(stream, instance.gameMode, isDelta);
					}
				}
				break;
			case 99u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.snowmobile == null)
					{
						instance.snowmobile = Snowmobile.DeserializeLengthDelimited(stream);
					}
					else
					{
						Snowmobile.DeserializeLengthDelimited(stream, instance.snowmobile, isDelta);
					}
				}
				break;
			case 100u:
				if (key.WireType == Wire.Varint)
				{
					instance.createdThisFrame = ProtocolParser.ReadBool(stream);
				}
				break;
			case 101u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.patternFirework == null)
					{
						instance.patternFirework = PatternFirework.DeserializeLengthDelimited(stream);
					}
					else
					{
						PatternFirework.DeserializeLengthDelimited(stream, instance.patternFirework, isDelta);
					}
				}
				break;
			case 102u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoPlane == null)
					{
						instance.cargoPlane = CargoPlane.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoPlane.DeserializeLengthDelimited(stream, instance.cargoPlane, isDelta);
					}
				}
				break;
			case 103u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintedItem == null)
					{
						instance.paintedItem = PaintedItem.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintedItem.DeserializeLengthDelimited(stream, instance.paintedItem, isDelta);
					}
				}
				break;
			case 104u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.clanManager == null)
					{
						instance.clanManager = ClanManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ClanManager.DeserializeLengthDelimited(stream, instance.clanManager, isDelta);
					}
				}
				break;
			case 105u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spray == null)
					{
						instance.spray = Spray.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spray.DeserializeLengthDelimited(stream, instance.spray, isDelta);
					}
				}
				break;
			case 106u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseTrain == null)
					{
						instance.baseTrain = BaseTrain.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseTrain.DeserializeLengthDelimited(stream, instance.baseTrain, isDelta);
					}
				}
				break;
			case 107u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.zipline == null)
					{
						instance.zipline = Zipline.DeserializeLengthDelimited(stream);
					}
					else
					{
						Zipline.DeserializeLengthDelimited(stream, instance.zipline, isDelta);
					}
				}
				break;
			case 108u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ziplineMountable == null)
					{
						instance.ziplineMountable = ZiplineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineMountable.DeserializeLengthDelimited(stream, instance.ziplineMountable, isDelta);
					}
				}
				break;
			case 109u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ZiplineArrival == null)
					{
						instance.ZiplineArrival = ZiplineArrivalPoint.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineArrivalPoint.DeserializeLengthDelimited(stream, instance.ZiplineArrival, isDelta);
					}
				}
				break;
			case 110u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sprayLine == null)
					{
						instance.sprayLine = SprayLine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SprayLine.DeserializeLengthDelimited(stream, instance.sprayLine, isDelta);
					}
				}
				break;
			case 111u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.coalingTower == null)
					{
						instance.coalingTower = CoalingTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						CoalingTower.DeserializeLengthDelimited(stream, instance.coalingTower, isDelta);
					}
				}
				break;
			case 112u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleInt == null)
					{
						instance.simpleInt = SimpleInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleInt.DeserializeLengthDelimited(stream, instance.simpleInt, isDelta);
					}
				}
				break;
			case 113u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseOven == null)
					{
						instance.baseOven = BaseOven.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseOven.DeserializeLengthDelimited(stream, instance.baseOven, isDelta);
					}
				}
				break;
			case 114u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.brainComponent == null)
					{
						instance.brainComponent = BrainComponent.DeserializeLengthDelimited(stream);
					}
					else
					{
						BrainComponent.DeserializeLengthDelimited(stream, instance.brainComponent, isDelta);
					}
				}
				break;
			case 115u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.proceduralDungeon == null)
					{
						instance.proceduralDungeon = ProceduralDungeon.DeserializeLengthDelimited(stream);
					}
					else
					{
						ProceduralDungeon.DeserializeLengthDelimited(stream, instance.proceduralDungeon, isDelta);
					}
				}
				break;
			case 116u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialConveyor == null)
					{
						instance.industrialConveyor = IndustrialConveyor.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialConveyor.DeserializeLengthDelimited(stream, instance.industrialConveyor, isDelta);
					}
				}
				break;
			case 117u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialCrafter == null)
					{
						instance.industrialCrafter = IndustrialCrafter.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialCrafter.DeserializeLengthDelimited(stream, instance.industrialCrafter, isDelta);
					}
				}
				break;
			case 118u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.drone == null)
					{
						instance.drone = Drone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Drone.DeserializeLengthDelimited(stream, instance.drone, isDelta);
					}
				}
				break;
			case 119u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.explosive == null)
					{
						instance.explosive = TimedExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						TimedExplosive.DeserializeLengthDelimited(stream, instance.explosive, isDelta);
					}
				}
				break;
			case 120u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUint == null)
					{
						instance.simpleUint = SimpleUInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUInt.DeserializeLengthDelimited(stream, instance.simpleUint, isDelta);
					}
				}
				break;
			case 121u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.weaponRack == null)
					{
						instance.weaponRack = WeaponRack.DeserializeLengthDelimited(stream);
					}
					else
					{
						WeaponRack.DeserializeLengthDelimited(stream, instance.weaponRack, isDelta);
					}
				}
				break;
			case 122u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeli == null)
					{
						instance.attackHeli = AttackHeli.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeli.DeserializeLengthDelimited(stream, instance.attackHeli, isDelta);
					}
				}
				break;
			case 123u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliTurret == null)
					{
						instance.attackHeliTurret = AttackHeliTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliTurret.DeserializeLengthDelimited(stream, instance.attackHeliTurret, isDelta);
					}
				}
				break;
			case 124u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliRockets == null)
					{
						instance.attackHeliRockets = AttackHeliRockets.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliRockets.DeserializeLengthDelimited(stream, instance.attackHeliRockets, isDelta);
					}
				}
				break;
			case 125u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseBoat == null)
					{
						instance.baseBoat = BaseBoat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseBoat.DeserializeLengthDelimited(stream, instance.baseBoat, isDelta);
					}
				}
				break;
			case 126u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ragdoll == null)
					{
						instance.ragdoll = Ragdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ragdoll.DeserializeLengthDelimited(stream, instance.ragdoll, isDelta);
					}
				}
				break;
			case 127u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dieselEngine == null)
					{
						instance.dieselEngine = DieselEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						DieselEngine.DeserializeLengthDelimited(stream, instance.dieselEngine, isDelta);
					}
				}
				break;
			case 150u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.associatedFiles == null)
					{
						instance.associatedFiles = AssociatedFiles.DeserializeLengthDelimited(stream);
					}
					else
					{
						AssociatedFiles.DeserializeLengthDelimited(stream, instance.associatedFiles, isDelta);
					}
				}
				break;
			case 151u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusFerry == null)
					{
						instance.nexusFerry = NexusFerry.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusFerry.DeserializeLengthDelimited(stream, instance.nexusFerry, isDelta);
					}
				}
				break;
			case 152u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusIsland == null)
					{
						instance.nexusIsland = NexusIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusIsland.DeserializeLengthDelimited(stream, instance.nexusIsland, isDelta);
					}
				}
				break;
			case 153u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusDockTerminal == null)
					{
						instance.nexusDockTerminal = NexusDockTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusDockTerminal.DeserializeLengthDelimited(stream, instance.nexusDockTerminal, isDelta);
					}
				}
				break;
			case 154u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rockingChair == null)
					{
						instance.rockingChair = RockingChair.DeserializeLengthDelimited(stream);
					}
					else
					{
						RockingChair.DeserializeLengthDelimited(stream, instance.rockingChair, isDelta);
					}
				}
				break;
			case 155u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.headData == null)
					{
						instance.headData = HeadData.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeadData.DeserializeLengthDelimited(stream, instance.headData, isDelta);
					}
				}
				break;
			case 156u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wantedPoster == null)
					{
						instance.wantedPoster = WantedPoster.DeserializeLengthDelimited(stream);
					}
					else
					{
						WantedPoster.DeserializeLengthDelimited(stream, instance.wantedPoster, isDelta);
					}
				}
				break;
			case 158u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waypointRace == null)
					{
						instance.waypointRace = WaypointRace.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaypointRace.DeserializeLengthDelimited(stream, instance.waypointRace, isDelta);
					}
				}
				break;
			case 159u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.legacyShelter == null)
					{
						instance.legacyShelter = LegacyShelter.DeserializeLengthDelimited(stream);
					}
					else
					{
						LegacyShelter.DeserializeLengthDelimited(stream, instance.legacyShelter, isDelta);
					}
				}
				break;
			case 160u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.metalDetectorSource == null)
					{
						instance.metalDetectorSource = MetalDetectorSource.DeserializeLengthDelimited(stream);
					}
					else
					{
						MetalDetectorSource.DeserializeLengthDelimited(stream, instance.metalDetectorSource, isDelta);
					}
				}
				break;
			case 161u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tutorialIsland == null)
					{
						instance.tutorialIsland = TutorialIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						TutorialIsland.DeserializeLengthDelimited(stream, instance.tutorialIsland, isDelta);
					}
				}
				break;
			case 162u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cinematicEntity == null)
					{
						instance.cinematicEntity = CinematicEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						CinematicEntity.DeserializeLengthDelimited(stream, instance.cinematicEntity, isDelta);
					}
				}
				break;
			case 163u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buildingPrivilegeRetro == null)
					{
						instance.buildingPrivilegeRetro = BuildingPrivilegeRetro.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuildingPrivilegeRetro.DeserializeLengthDelimited(stream, instance.buildingPrivilegeRetro, isDelta);
					}
				}
				break;
			case 164u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.harborCrane == null)
					{
						instance.harborCrane = HarborCrane.DeserializeLengthDelimited(stream);
					}
					else
					{
						HarborCrane.DeserializeLengthDelimited(stream, instance.harborCrane, isDelta);
					}
				}
				break;
			case 165u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShip == null)
					{
						instance.cargoShip = CargoShip.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShip.DeserializeLengthDelimited(stream, instance.cargoShip, isDelta);
					}
				}
				break;
			case 166u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShipContainer == null)
					{
						instance.cargoShipContainer = CargoShipContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShipContainer.DeserializeLengthDelimited(stream, instance.cargoShipContainer, isDelta);
					}
				}
				break;
			case 167u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.missionMapMarker == null)
					{
						instance.missionMapMarker = MissionMapMarker.DeserializeLengthDelimited(stream);
					}
					else
					{
						MissionMapMarker.DeserializeLengthDelimited(stream, instance.missionMapMarker, isDelta);
					}
				}
				break;
			case 168u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bike == null)
					{
						instance.bike = Bike.DeserializeLengthDelimited(stream);
					}
					else
					{
						Bike.DeserializeLengthDelimited(stream, instance.bike, isDelta);
					}
				}
				break;
			case 169u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.diverPropulsionVehicle == null)
					{
						instance.diverPropulsionVehicle = DiverPropulsionVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						DiverPropulsionVehicle.DeserializeLengthDelimited(stream, instance.diverPropulsionVehicle, isDelta);
					}
				}
				break;
			case 174u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.travellingVendor == null)
					{
						instance.travellingVendor = TravellingVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						TravellingVendor.DeserializeLengthDelimited(stream, instance.travellingVendor, isDelta);
					}
				}
				break;
			case 175u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingDynamicPricing == null)
					{
						instance.vendingDynamicPricing = VendingDynamicPricing.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingDynamicPricing.DeserializeLengthDelimited(stream, instance.vendingDynamicPricing, isDelta);
					}
				}
				break;
			case 176u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tinCanAlarm == null)
					{
						instance.tinCanAlarm = TinCanAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						TinCanAlarm.DeserializeLengthDelimited(stream, instance.tinCanAlarm, isDelta);
					}
				}
				break;
			case 177u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.digitalClock == null)
					{
						instance.digitalClock = DigitalClock.DeserializeLengthDelimited(stream);
					}
					else
					{
						DigitalClock.DeserializeLengthDelimited(stream, instance.digitalClock, isDelta);
					}
				}
				break;
			case 178u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevatorLift == null)
					{
						instance.elevatorLift = ElevatorLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						ElevatorLift.DeserializeLengthDelimited(stream, instance.elevatorLift, isDelta);
					}
				}
				break;
			case 179u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcVendingMachine == null)
					{
						instance.npcVendingMachine = NPCVendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCVendingMachine.DeserializeLengthDelimited(stream, instance.npcVendingMachine, isDelta);
					}
				}
				break;
			case 180u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mailbox == null)
					{
						instance.mailbox = Mailbox.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mailbox.DeserializeLengthDelimited(stream, instance.mailbox, isDelta);
					}
				}
				break;
			case 181u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.projectileWeaponMod == null)
					{
						instance.projectileWeaponMod = GunWeaponMod.DeserializeLengthDelimited(stream);
					}
					else
					{
						GunWeaponMod.DeserializeLengthDelimited(stream, instance.projectileWeaponMod, isDelta);
					}
				}
				break;
			case 182u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseSculpture == null)
					{
						instance.baseSculpture = BaseSculpture.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseSculpture.DeserializeLengthDelimited(stream, instance.baseSculpture, isDelta);
					}
				}
				break;
			case 183u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachineStats == null)
					{
						instance.vendingMachineStats = VendingMachineStats.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachineStats.DeserializeLengthDelimited(stream, instance.vendingMachineStats, isDelta);
					}
				}
				break;
			case 184u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.catapult == null)
					{
						instance.catapult = Catapult.DeserializeLengthDelimited(stream);
					}
					else
					{
						Catapult.DeserializeLengthDelimited(stream, instance.catapult, isDelta);
					}
				}
				break;
			case 185u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.siegeTower == null)
					{
						instance.siegeTower = SiegeTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						SiegeTower.DeserializeLengthDelimited(stream, instance.siegeTower, isDelta);
					}
				}
				break;
			case 186u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballista == null)
					{
						instance.ballista = Ballista.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ballista.DeserializeLengthDelimited(stream, instance.ballista, isDelta);
					}
				}
				break;
			case 187u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballistaGun == null)
					{
						instance.ballistaGun = BallistaGun.DeserializeLengthDelimited(stream);
					}
					else
					{
						BallistaGun.DeserializeLengthDelimited(stream, instance.ballistaGun, isDelta);
					}
				}
				break;
			case 188u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.batteringRam == null)
					{
						instance.batteringRam = BatteringRam.DeserializeLengthDelimited(stream);
					}
					else
					{
						BatteringRam.DeserializeLengthDelimited(stream, instance.batteringRam, isDelta);
					}
				}
				break;
			case 189u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.temporaryRagdoll == null)
					{
						instance.temporaryRagdoll = TemporaryRagdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						TemporaryRagdoll.DeserializeLengthDelimited(stream, instance.temporaryRagdoll, isDelta);
					}
				}
				break;
			case 191u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.constructableEntity == null)
					{
						instance.constructableEntity = ConstructableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConstructableEntity.DeserializeLengthDelimited(stream, instance.constructableEntity, isDelta);
					}
				}
				break;
			case 192u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.chickenCoop == null)
					{
						instance.chickenCoop = ChickenCoop.DeserializeLengthDelimited(stream);
					}
					else
					{
						ChickenCoop.DeserializeLengthDelimited(stream, instance.chickenCoop, isDelta);
					}
				}
				break;
			case 193u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.farmableAnimal == null)
					{
						instance.farmableAnimal = FarmableAnimal.DeserializeLengthDelimited(stream);
					}
					else
					{
						FarmableAnimal.DeserializeLengthDelimited(stream, instance.farmableAnimal, isDelta);
					}
				}
				break;
			case 194u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
				}
				break;
			case 195u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beehive == null)
					{
						instance.beehive = Beehive.DeserializeLengthDelimited(stream);
					}
					else
					{
						Beehive.DeserializeLengthDelimited(stream, instance.beehive, isDelta);
					}
				}
				break;
			case 196u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beeMasterSwarm == null)
					{
						instance.beeMasterSwarm = BeeMasterSwarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						BeeMasterSwarm.DeserializeLengthDelimited(stream, instance.beeMasterSwarm, isDelta);
					}
				}
				break;
			case 197u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.containerCorpse == null)
					{
						instance.containerCorpse = ContainerCorpseData.DeserializeLengthDelimited(stream);
					}
					else
					{
						ContainerCorpseData.DeserializeLengthDelimited(stream, instance.containerCorpse, isDelta);
					}
				}
				break;
			case 198u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcSensesState == null)
					{
						instance.npcSensesState = NPCSensesState.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCSensesState.DeserializeLengthDelimited(stream, instance.npcSensesState, isDelta);
					}
				}
				break;
			case 199u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineMountable == null)
					{
						instance.vineMountable = VineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineMountable.DeserializeLengthDelimited(stream, instance.vineMountable, isDelta);
					}
				}
				break;
			case 200u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineTree == null)
					{
						instance.vineTree = VineTree.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineTree.DeserializeLengthDelimited(stream, instance.vineTree, isDelta);
					}
				}
				break;
			case 201u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.treeRespawn == null)
					{
						instance.treeRespawn = TreeRespawn.DeserializeLengthDelimited(stream);
					}
					else
					{
						TreeRespawn.DeserializeLengthDelimited(stream, instance.treeRespawn, isDelta);
					}
				}
				break;
			case 202u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wallpaperTool == null)
					{
						instance.wallpaperTool = WallpaperTool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WallpaperTool.DeserializeLengthDelimited(stream, instance.wallpaperTool, isDelta);
					}
				}
				break;
			case 203u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.commandBlock == null)
					{
						instance.commandBlock = CommandBlock.DeserializeLengthDelimited(stream);
					}
					else
					{
						CommandBlock.DeserializeLengthDelimited(stream, instance.commandBlock, isDelta);
					}
				}
				break;
			case 204u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.staticRespawn == null)
					{
						instance.staticRespawn = StaticRespawnAreaData.DeserializeLengthDelimited(stream);
					}
					else
					{
						StaticRespawnAreaData.DeserializeLengthDelimited(stream, instance.staticRespawn, isDelta);
					}
				}
				break;
			case 205u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buriedItemStorage == null)
					{
						instance.buriedItemStorage = BuriedItems.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuriedItems.DeserializeLengthDelimited(stream, instance.buriedItemStorage, isDelta);
					}
				}
				break;
			case 206u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mannequin == null)
					{
						instance.mannequin = Mannequin.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mannequin.DeserializeLengthDelimited(stream, instance.mannequin, isDelta);
					}
				}
				break;
			case 207u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseMelee == null)
					{
						instance.baseMelee = BaseMelee.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseMelee.DeserializeLengthDelimited(stream, instance.baseMelee, isDelta);
					}
				}
				break;
			case 208u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.door == null)
					{
						instance.door = Door.DeserializeLengthDelimited(stream);
					}
					else
					{
						Door.DeserializeLengthDelimited(stream, instance.door, isDelta);
					}
				}
				break;
			case 217u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.storageAdaptor == null)
					{
						instance.storageAdaptor = StorageAdaptor.DeserializeLengthDelimited(stream);
					}
					else
					{
						StorageAdaptor.DeserializeLengthDelimited(stream, instance.storageAdaptor, isDelta);
					}
				}
				break;
			case 218u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopterFlares == null)
					{
						instance.helicopterFlares = HelicopterFlares.DeserializeLengthDelimited(stream);
					}
					else
					{
						HelicopterFlares.DeserializeLengthDelimited(stream, instance.helicopterFlares, isDelta);
					}
				}
				break;
			case 219u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wipeLaptop == null)
					{
						instance.wipeLaptop = WipeLaptop.DeserializeLengthDelimited(stream);
					}
					else
					{
						WipeLaptop.DeserializeLengthDelimited(stream, instance.wipeLaptop, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Entity DeserializeLength(BufferStream stream, int length, Entity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.baseNetworkable == null)
				{
					instance.baseNetworkable = BaseNetworkable.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseNetworkable.DeserializeLengthDelimited(stream, instance.baseNetworkable, isDelta);
				}
				continue;
			case 18:
				if (instance.baseEntity == null)
				{
					instance.baseEntity = BaseEntity.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseEntity.DeserializeLengthDelimited(stream, instance.baseEntity, isDelta);
				}
				continue;
			case 26:
				if (instance.basePlayer == null)
				{
					instance.basePlayer = BasePlayer.DeserializeLengthDelimited(stream);
				}
				else
				{
					BasePlayer.DeserializeLengthDelimited(stream, instance.basePlayer, isDelta);
				}
				continue;
			case 34:
				if (instance.worldItem == null)
				{
					instance.worldItem = WorldItem.DeserializeLengthDelimited(stream);
				}
				else
				{
					WorldItem.DeserializeLengthDelimited(stream, instance.worldItem, isDelta);
				}
				continue;
			case 42:
				if (instance.resource == null)
				{
					instance.resource = BaseResource.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseResource.DeserializeLengthDelimited(stream, instance.resource, isDelta);
				}
				continue;
			case 50:
				if (instance.buildingBlock == null)
				{
					instance.buildingBlock = BuildingBlock.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingBlock.DeserializeLengthDelimited(stream, instance.buildingBlock, isDelta);
				}
				continue;
			case 58:
				if (instance.environment == null)
				{
					instance.environment = ProtoBuf.Environment.DeserializeLengthDelimited(stream);
				}
				else
				{
					ProtoBuf.Environment.DeserializeLengthDelimited(stream, instance.environment, isDelta);
				}
				continue;
			case 66:
				if (instance.corpse == null)
				{
					instance.corpse = Corpse.DeserializeLengthDelimited(stream);
				}
				else
				{
					Corpse.DeserializeLengthDelimited(stream, instance.corpse, isDelta);
				}
				continue;
			case 82:
				if (instance.parent == null)
				{
					instance.parent = ParentInfo.DeserializeLengthDelimited(stream);
				}
				else
				{
					ParentInfo.DeserializeLengthDelimited(stream, instance.parent, isDelta);
				}
				continue;
			case 90:
				if (instance.keyLock == null)
				{
					instance.keyLock = KeyLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					KeyLock.DeserializeLengthDelimited(stream, instance.keyLock, isDelta);
				}
				continue;
			case 98:
				if (instance.codeLock == null)
				{
					instance.codeLock = CodeLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					CodeLock.DeserializeLengthDelimited(stream, instance.codeLock, isDelta);
				}
				continue;
			case 106:
				if (instance.entitySlots == null)
				{
					instance.entitySlots = EntitySlots.DeserializeLengthDelimited(stream);
				}
				else
				{
					EntitySlots.DeserializeLengthDelimited(stream, instance.entitySlots, isDelta);
				}
				continue;
			case 114:
				if (instance.buildingPrivilege == null)
				{
					instance.buildingPrivilege = BuildingPrivilege.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingPrivilege.DeserializeLengthDelimited(stream, instance.buildingPrivilege, isDelta);
				}
				continue;
			case 122:
				if (instance.storageBox == null)
				{
					instance.storageBox = StorageBox.DeserializeLengthDelimited(stream);
				}
				else
				{
					StorageBox.DeserializeLengthDelimited(stream, instance.storageBox, isDelta);
				}
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.heldEntity == null)
					{
						instance.heldEntity = HeldEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeldEntity.DeserializeLengthDelimited(stream, instance.heldEntity, isDelta);
					}
				}
				break;
			case 17u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseProjectile == null)
					{
						instance.baseProjectile = BaseProjectile.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseProjectile.DeserializeLengthDelimited(stream, instance.baseProjectile, isDelta);
					}
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseNPC == null)
					{
						instance.baseNPC = BaseNPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseNPC.DeserializeLengthDelimited(stream, instance.baseNPC, isDelta);
					}
				}
				break;
			case 19u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.loot == null)
					{
						instance.loot = Loot.DeserializeLengthDelimited(stream);
					}
					else
					{
						Loot.DeserializeLengthDelimited(stream, instance.loot, isDelta);
					}
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.genericSpawner == null)
					{
						instance.genericSpawner = GenericSpawner.DeserializeLengthDelimited(stream);
					}
					else
					{
						GenericSpawner.DeserializeLengthDelimited(stream, instance.genericSpawner, isDelta);
					}
				}
				break;
			case 21u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBag == null)
					{
						instance.sleepingBag = SleepingBag.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBag.DeserializeLengthDelimited(stream, instance.sleepingBag, isDelta);
					}
				}
				break;
			case 22u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lootableCorpse == null)
					{
						instance.lootableCorpse = LootableCorpse.DeserializeLengthDelimited(stream);
					}
					else
					{
						LootableCorpse.DeserializeLengthDelimited(stream, instance.lootableCorpse, isDelta);
					}
				}
				break;
			case 23u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sign == null)
					{
						instance.sign = Sign.DeserializeLengthDelimited(stream);
					}
					else
					{
						Sign.DeserializeLengthDelimited(stream, instance.sign, isDelta);
					}
				}
				break;
			case 24u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseCombat == null)
					{
						instance.baseCombat = BaseCombat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseCombat.DeserializeLengthDelimited(stream, instance.baseCombat, isDelta);
					}
				}
				break;
			case 25u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mapEntity == null)
					{
						instance.mapEntity = MapEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						MapEntity.DeserializeLengthDelimited(stream, instance.mapEntity, isDelta);
					}
				}
				break;
			case 26u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.researchTable == null)
					{
						instance.researchTable = ResearchTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ResearchTable.DeserializeLengthDelimited(stream, instance.researchTable, isDelta);
					}
				}
				break;
			case 27u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dudExplosive == null)
					{
						instance.dudExplosive = DudExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						DudExplosive.DeserializeLengthDelimited(stream, instance.dudExplosive, isDelta);
					}
				}
				break;
			case 28u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miningQuarry == null)
					{
						instance.miningQuarry = MiningQuarry.DeserializeLengthDelimited(stream);
					}
					else
					{
						MiningQuarry.DeserializeLengthDelimited(stream, instance.miningQuarry, isDelta);
					}
				}
				break;
			case 29u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseVehicle == null)
					{
						instance.baseVehicle = BaseVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseVehicle.DeserializeLengthDelimited(stream, instance.baseVehicle, isDelta);
					}
				}
				break;
			case 30u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopter == null)
					{
						instance.helicopter = Helicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Helicopter.DeserializeLengthDelimited(stream, instance.helicopter, isDelta);
					}
				}
				break;
			case 31u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.landmine == null)
					{
						instance.landmine = Landmine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Landmine.DeserializeLengthDelimited(stream, instance.landmine, isDelta);
					}
				}
				break;
			case 32u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.autoturret == null)
					{
						instance.autoturret = AutoTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AutoTurret.DeserializeLengthDelimited(stream, instance.autoturret, isDelta);
					}
				}
				break;
			case 33u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sphereEntity == null)
					{
						instance.sphereEntity = SphereEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						SphereEntity.DeserializeLengthDelimited(stream, instance.sphereEntity, isDelta);
					}
				}
				break;
			case 34u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.stabilityEntity == null)
					{
						instance.stabilityEntity = StabilityEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						StabilityEntity.DeserializeLengthDelimited(stream, instance.stabilityEntity, isDelta);
					}
				}
				break;
			case 35u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownerInfo == null)
					{
						instance.ownerInfo = OwnerInfo.DeserializeLengthDelimited(stream);
					}
					else
					{
						OwnerInfo.DeserializeLengthDelimited(stream, instance.ownerInfo, isDelta);
					}
				}
				break;
			case 36u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.decayEntity == null)
					{
						instance.decayEntity = DecayEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						DecayEntity.DeserializeLengthDelimited(stream, instance.decayEntity, isDelta);
					}
				}
				break;
			case 37u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spawnable == null)
					{
						instance.spawnable = Spawnable.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spawnable.DeserializeLengthDelimited(stream, instance.spawnable, isDelta);
					}
				}
				break;
			case 38u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.servergib == null)
					{
						instance.servergib = ServerGib.DeserializeLengthDelimited(stream);
					}
					else
					{
						ServerGib.DeserializeLengthDelimited(stream, instance.servergib, isDelta);
					}
				}
				break;
			case 39u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachine == null)
					{
						instance.vendingMachine = VendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachine.DeserializeLengthDelimited(stream, instance.vendingMachine, isDelta);
					}
				}
				break;
			case 40u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spinnerWheel == null)
					{
						instance.spinnerWheel = SpinnerWheel.DeserializeLengthDelimited(stream);
					}
					else
					{
						SpinnerWheel.DeserializeLengthDelimited(stream, instance.spinnerWheel, isDelta);
					}
				}
				break;
			case 41u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lift == null)
					{
						instance.lift = Lift.DeserializeLengthDelimited(stream);
					}
					else
					{
						Lift.DeserializeLengthDelimited(stream, instance.lift, isDelta);
					}
				}
				break;
			case 42u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bradley == null)
					{
						instance.bradley = BradleyAPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BradleyAPC.DeserializeLengthDelimited(stream, instance.bradley, isDelta);
					}
				}
				break;
			case 43u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waterwell == null)
					{
						instance.waterwell = WaterWell.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterWell.DeserializeLengthDelimited(stream, instance.waterwell, isDelta);
					}
				}
				break;
			case 44u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.motorBoat == null)
					{
						instance.motorBoat = Motorboat.DeserializeLengthDelimited(stream);
					}
					else
					{
						Motorboat.DeserializeLengthDelimited(stream, instance.motorBoat, isDelta);
					}
				}
				break;
			case 45u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ioEntity == null)
					{
						instance.ioEntity = IOEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						IOEntity.DeserializeLengthDelimited(stream, instance.ioEntity, isDelta);
					}
				}
				break;
			case 46u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.puzzleReset == null)
					{
						instance.puzzleReset = PuzzleReset.DeserializeLengthDelimited(stream);
					}
					else
					{
						PuzzleReset.DeserializeLengthDelimited(stream, instance.puzzleReset, isDelta);
					}
				}
				break;
			case 47u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.relationshipManager == null)
					{
						instance.relationshipManager = RelationshipManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						RelationshipManager.DeserializeLengthDelimited(stream, instance.relationshipManager, isDelta);
					}
				}
				break;
			case 48u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.hotAirBalloon == null)
					{
						instance.hotAirBalloon = HotAirBalloon.DeserializeLengthDelimited(stream);
					}
					else
					{
						HotAirBalloon.DeserializeLengthDelimited(stream, instance.hotAirBalloon, isDelta);
					}
				}
				break;
			case 49u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.samSite == null)
					{
						instance.samSite = SAMSite.DeserializeLengthDelimited(stream);
					}
					else
					{
						SAMSite.DeserializeLengthDelimited(stream, instance.samSite, isDelta);
					}
				}
				break;
			case 50u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.eggHunt == null)
					{
						instance.eggHunt = EggHunt.DeserializeLengthDelimited(stream);
					}
					else
					{
						EggHunt.DeserializeLengthDelimited(stream, instance.eggHunt, isDelta);
					}
				}
				break;
			case 51u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.arcadeMachine == null)
					{
						instance.arcadeMachine = ArcadeMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						ArcadeMachine.DeserializeLengthDelimited(stream, instance.arcadeMachine, isDelta);
					}
				}
				break;
			case 52u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miniCopter == null)
					{
						instance.miniCopter = Minicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Minicopter.DeserializeLengthDelimited(stream, instance.miniCopter, isDelta);
					}
				}
				break;
			case 53u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.horse == null)
					{
						instance.horse = Horse.DeserializeLengthDelimited(stream);
					}
					else
					{
						Horse.DeserializeLengthDelimited(stream, instance.horse, isDelta);
					}
				}
				break;
			case 54u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.smartAlarm == null)
					{
						instance.smartAlarm = SmartAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						SmartAlarm.DeserializeLengthDelimited(stream, instance.smartAlarm, isDelta);
					}
				}
				break;
			case 55u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightString == null)
					{
						instance.lightString = LightString.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightString.DeserializeLengthDelimited(stream, instance.lightString, isDelta);
					}
				}
				break;
			case 56u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightDeployer == null)
					{
						instance.lightDeployer = LightDeployer.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightDeployer.DeserializeLengthDelimited(stream, instance.lightDeployer, isDelta);
					}
				}
				break;
			case 57u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rcEntity == null)
					{
						instance.rcEntity = RCEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						RCEntity.DeserializeLengthDelimited(stream, instance.rcEntity, isDelta);
					}
				}
				break;
			case 58u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.computerStation == null)
					{
						instance.computerStation = ComputerStation.DeserializeLengthDelimited(stream);
					}
					else
					{
						ComputerStation.DeserializeLengthDelimited(stream, instance.computerStation, isDelta);
					}
				}
				break;
			case 59u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.growableEntity == null)
					{
						instance.growableEntity = GrowableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						GrowableEntity.DeserializeLengthDelimited(stream, instance.growableEntity, isDelta);
					}
				}
				break;
			case 60u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.composter == null)
					{
						instance.composter = Composter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Composter.DeserializeLengthDelimited(stream, instance.composter, isDelta);
					}
				}
				break;
			case 61u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularVehicle == null)
					{
						instance.modularVehicle = ModularVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularVehicle.DeserializeLengthDelimited(stream, instance.modularVehicle, isDelta);
					}
				}
				break;
			case 62u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularCar == null)
					{
						instance.modularCar = ModularCar.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularCar.DeserializeLengthDelimited(stream, instance.modularCar, isDelta);
					}
				}
				break;
			case 63u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUID == null)
					{
						instance.simpleUID = SimpleUID.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUID.DeserializeLengthDelimited(stream, instance.simpleUID, isDelta);
					}
				}
				break;
			case 64u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleLift == null)
					{
						instance.vehicleLift = VehicleLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleLift.DeserializeLengthDelimited(stream, instance.vehicleLift, isDelta);
					}
				}
				break;
			case 65u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.engineStorage == null)
					{
						instance.engineStorage = EngineStorage.DeserializeLengthDelimited(stream);
					}
					else
					{
						EngineStorage.DeserializeLengthDelimited(stream, instance.engineStorage, isDelta);
					}
				}
				break;
			case 66u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleVendor == null)
					{
						instance.vehicleVendor = VehicleVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleVendor.DeserializeLengthDelimited(stream, instance.vehicleVendor, isDelta);
					}
				}
				break;
			case 67u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.WaterPool == null)
					{
						instance.WaterPool = WaterPool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterPool.DeserializeLengthDelimited(stream, instance.WaterPool, isDelta);
					}
				}
				break;
			case 68u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photo == null)
					{
						instance.photo = Photo.DeserializeLengthDelimited(stream);
					}
					else
					{
						Photo.DeserializeLengthDelimited(stream, instance.photo, isDelta);
					}
				}
				break;
			case 69u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photoFrame == null)
					{
						instance.photoFrame = PhotoFrame.DeserializeLengthDelimited(stream);
					}
					else
					{
						PhotoFrame.DeserializeLengthDelimited(stream, instance.photoFrame, isDelta);
					}
				}
				break;
			case 70u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleModule == null)
					{
						instance.vehicleModule = VehicleModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleModule.DeserializeLengthDelimited(stream, instance.vehicleModule, isDelta);
					}
				}
				break;
			case 71u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mixingTable == null)
					{
						instance.mixingTable = MixingTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						MixingTable.DeserializeLengthDelimited(stream, instance.mixingTable, isDelta);
					}
				}
				break;
			case 72u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.shopKeeper == null)
					{
						instance.shopKeeper = ShopKeeper.DeserializeLengthDelimited(stream);
					}
					else
					{
						ShopKeeper.DeserializeLengthDelimited(stream, instance.shopKeeper, isDelta);
					}
				}
				break;
			case 73u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevator == null)
					{
						instance.elevator = Elevator.DeserializeLengthDelimited(stream);
					}
					else
					{
						Elevator.DeserializeLengthDelimited(stream, instance.elevator, isDelta);
					}
				}
				break;
			case 74u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.skullTrophy == null)
					{
						instance.skullTrophy = SkullTrophy.DeserializeLengthDelimited(stream);
					}
					else
					{
						SkullTrophy.DeserializeLengthDelimited(stream, instance.skullTrophy, isDelta);
					}
				}
				break;
			case 75u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cassette == null)
					{
						instance.cassette = Cassette.DeserializeLengthDelimited(stream);
					}
					else
					{
						Cassette.DeserializeLengthDelimited(stream, instance.cassette, isDelta);
					}
				}
				break;
			case 76u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.telephone == null)
					{
						instance.telephone = Telephone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Telephone.DeserializeLengthDelimited(stream, instance.telephone, isDelta);
					}
				}
				break;
			case 77u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.boomBox == null)
					{
						instance.boomBox = BoomBox.DeserializeLengthDelimited(stream);
					}
					else
					{
						BoomBox.DeserializeLengthDelimited(stream, instance.boomBox, isDelta);
					}
				}
				break;
			case 78u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.neonSign == null)
					{
						instance.neonSign = NeonSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						NeonSign.DeserializeLengthDelimited(stream, instance.neonSign, isDelta);
					}
				}
				break;
			case 79u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.subEntityList == null)
					{
						instance.subEntityList = SubEntityList.DeserializeLengthDelimited(stream);
					}
					else
					{
						SubEntityList.DeserializeLengthDelimited(stream, instance.subEntityList, isDelta);
					}
				}
				break;
			case 80u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.marketTerminal == null)
					{
						instance.marketTerminal = MarketTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						MarketTerminal.DeserializeLengthDelimited(stream, instance.marketTerminal, isDelta);
					}
				}
				break;
			case 81u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.deliveryDrone == null)
					{
						instance.deliveryDrone = DeliveryDrone.DeserializeLengthDelimited(stream);
					}
					else
					{
						DeliveryDrone.DeserializeLengthDelimited(stream, instance.deliveryDrone, isDelta);
					}
				}
				break;
			case 82u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimTerminal == null)
					{
						instance.reclaimTerminal = ReclaimTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimTerminal.DeserializeLengthDelimited(stream, instance.reclaimTerminal, isDelta);
					}
				}
				break;
			case 83u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.slotMachine == null)
					{
						instance.slotMachine = SlotMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SlotMachine.DeserializeLengthDelimited(stream, instance.slotMachine, isDelta);
					}
				}
				break;
			case 84u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.trainEngine == null)
					{
						instance.trainEngine = TrainEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						TrainEngine.DeserializeLengthDelimited(stream, instance.trainEngine, isDelta);
					}
				}
				break;
			case 85u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cardGame == null)
					{
						instance.cardGame = CardGame.DeserializeLengthDelimited(stream);
					}
					else
					{
						CardGame.DeserializeLengthDelimited(stream, instance.cardGame, isDelta);
					}
				}
				break;
			case 86u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.crane == null)
					{
						instance.crane = Crane.DeserializeLengthDelimited(stream);
					}
					else
					{
						Crane.DeserializeLengthDelimited(stream, instance.crane, isDelta);
					}
				}
				break;
			case 87u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.connectedSpeaker == null)
					{
						instance.connectedSpeaker = ConnectedSpeaker.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConnectedSpeaker.DeserializeLengthDelimited(stream, instance.connectedSpeaker, isDelta);
					}
				}
				break;
			case 88u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.audioEntity == null)
					{
						instance.audioEntity = AudioEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						AudioEntity.DeserializeLengthDelimited(stream, instance.audioEntity, isDelta);
					}
				}
				break;
			case 89u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.microphoneStand == null)
					{
						instance.microphoneStand = MicrophoneStand.DeserializeLengthDelimited(stream);
					}
					else
					{
						MicrophoneStand.DeserializeLengthDelimited(stream, instance.microphoneStand, isDelta);
					}
				}
				break;
			case 90u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.submarine == null)
					{
						instance.submarine = Submarine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Submarine.DeserializeLengthDelimited(stream, instance.submarine, isDelta);
					}
				}
				break;
			case 91u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBagCamper == null)
					{
						instance.sleepingBagCamper = SleepingBagCamper.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBagCamper.DeserializeLengthDelimited(stream, instance.sleepingBagCamper, isDelta);
					}
				}
				break;
			case 92u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.camperModule == null)
					{
						instance.camperModule = CamperModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						CamperModule.DeserializeLengthDelimited(stream, instance.camperModule, isDelta);
					}
				}
				break;
			case 93u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintableSign == null)
					{
						instance.paintableSign = PaintableSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintableSign.DeserializeLengthDelimited(stream, instance.paintableSign, isDelta);
					}
				}
				break;
			case 94u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.whitelist == null)
					{
						instance.whitelist = Whitelist.DeserializeLengthDelimited(stream);
					}
					else
					{
						Whitelist.DeserializeLengthDelimited(stream, instance.whitelist, isDelta);
					}
				}
				break;
			case 95u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.FrankensteinTable == null)
					{
						instance.FrankensteinTable = FrankensteinTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						FrankensteinTable.DeserializeLengthDelimited(stream, instance.FrankensteinTable, isDelta);
					}
				}
				break;
			case 96u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mlrs == null)
					{
						instance.mlrs = MLRS.DeserializeLengthDelimited(stream);
					}
					else
					{
						MLRS.DeserializeLengthDelimited(stream, instance.mlrs, isDelta);
					}
				}
				break;
			case 97u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimManager == null)
					{
						instance.reclaimManager = ReclaimManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimManager.DeserializeLengthDelimited(stream, instance.reclaimManager, isDelta);
					}
				}
				break;
			case 98u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.gameMode == null)
					{
						instance.gameMode = GameMode.DeserializeLengthDelimited(stream);
					}
					else
					{
						GameMode.DeserializeLengthDelimited(stream, instance.gameMode, isDelta);
					}
				}
				break;
			case 99u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.snowmobile == null)
					{
						instance.snowmobile = Snowmobile.DeserializeLengthDelimited(stream);
					}
					else
					{
						Snowmobile.DeserializeLengthDelimited(stream, instance.snowmobile, isDelta);
					}
				}
				break;
			case 100u:
				if (key.WireType == Wire.Varint)
				{
					instance.createdThisFrame = ProtocolParser.ReadBool(stream);
				}
				break;
			case 101u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.patternFirework == null)
					{
						instance.patternFirework = PatternFirework.DeserializeLengthDelimited(stream);
					}
					else
					{
						PatternFirework.DeserializeLengthDelimited(stream, instance.patternFirework, isDelta);
					}
				}
				break;
			case 102u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoPlane == null)
					{
						instance.cargoPlane = CargoPlane.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoPlane.DeserializeLengthDelimited(stream, instance.cargoPlane, isDelta);
					}
				}
				break;
			case 103u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintedItem == null)
					{
						instance.paintedItem = PaintedItem.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintedItem.DeserializeLengthDelimited(stream, instance.paintedItem, isDelta);
					}
				}
				break;
			case 104u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.clanManager == null)
					{
						instance.clanManager = ClanManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ClanManager.DeserializeLengthDelimited(stream, instance.clanManager, isDelta);
					}
				}
				break;
			case 105u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spray == null)
					{
						instance.spray = Spray.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spray.DeserializeLengthDelimited(stream, instance.spray, isDelta);
					}
				}
				break;
			case 106u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseTrain == null)
					{
						instance.baseTrain = BaseTrain.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseTrain.DeserializeLengthDelimited(stream, instance.baseTrain, isDelta);
					}
				}
				break;
			case 107u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.zipline == null)
					{
						instance.zipline = Zipline.DeserializeLengthDelimited(stream);
					}
					else
					{
						Zipline.DeserializeLengthDelimited(stream, instance.zipline, isDelta);
					}
				}
				break;
			case 108u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ziplineMountable == null)
					{
						instance.ziplineMountable = ZiplineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineMountable.DeserializeLengthDelimited(stream, instance.ziplineMountable, isDelta);
					}
				}
				break;
			case 109u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ZiplineArrival == null)
					{
						instance.ZiplineArrival = ZiplineArrivalPoint.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineArrivalPoint.DeserializeLengthDelimited(stream, instance.ZiplineArrival, isDelta);
					}
				}
				break;
			case 110u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sprayLine == null)
					{
						instance.sprayLine = SprayLine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SprayLine.DeserializeLengthDelimited(stream, instance.sprayLine, isDelta);
					}
				}
				break;
			case 111u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.coalingTower == null)
					{
						instance.coalingTower = CoalingTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						CoalingTower.DeserializeLengthDelimited(stream, instance.coalingTower, isDelta);
					}
				}
				break;
			case 112u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleInt == null)
					{
						instance.simpleInt = SimpleInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleInt.DeserializeLengthDelimited(stream, instance.simpleInt, isDelta);
					}
				}
				break;
			case 113u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseOven == null)
					{
						instance.baseOven = BaseOven.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseOven.DeserializeLengthDelimited(stream, instance.baseOven, isDelta);
					}
				}
				break;
			case 114u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.brainComponent == null)
					{
						instance.brainComponent = BrainComponent.DeserializeLengthDelimited(stream);
					}
					else
					{
						BrainComponent.DeserializeLengthDelimited(stream, instance.brainComponent, isDelta);
					}
				}
				break;
			case 115u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.proceduralDungeon == null)
					{
						instance.proceduralDungeon = ProceduralDungeon.DeserializeLengthDelimited(stream);
					}
					else
					{
						ProceduralDungeon.DeserializeLengthDelimited(stream, instance.proceduralDungeon, isDelta);
					}
				}
				break;
			case 116u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialConveyor == null)
					{
						instance.industrialConveyor = IndustrialConveyor.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialConveyor.DeserializeLengthDelimited(stream, instance.industrialConveyor, isDelta);
					}
				}
				break;
			case 117u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialCrafter == null)
					{
						instance.industrialCrafter = IndustrialCrafter.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialCrafter.DeserializeLengthDelimited(stream, instance.industrialCrafter, isDelta);
					}
				}
				break;
			case 118u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.drone == null)
					{
						instance.drone = Drone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Drone.DeserializeLengthDelimited(stream, instance.drone, isDelta);
					}
				}
				break;
			case 119u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.explosive == null)
					{
						instance.explosive = TimedExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						TimedExplosive.DeserializeLengthDelimited(stream, instance.explosive, isDelta);
					}
				}
				break;
			case 120u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUint == null)
					{
						instance.simpleUint = SimpleUInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUInt.DeserializeLengthDelimited(stream, instance.simpleUint, isDelta);
					}
				}
				break;
			case 121u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.weaponRack == null)
					{
						instance.weaponRack = WeaponRack.DeserializeLengthDelimited(stream);
					}
					else
					{
						WeaponRack.DeserializeLengthDelimited(stream, instance.weaponRack, isDelta);
					}
				}
				break;
			case 122u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeli == null)
					{
						instance.attackHeli = AttackHeli.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeli.DeserializeLengthDelimited(stream, instance.attackHeli, isDelta);
					}
				}
				break;
			case 123u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliTurret == null)
					{
						instance.attackHeliTurret = AttackHeliTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliTurret.DeserializeLengthDelimited(stream, instance.attackHeliTurret, isDelta);
					}
				}
				break;
			case 124u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliRockets == null)
					{
						instance.attackHeliRockets = AttackHeliRockets.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliRockets.DeserializeLengthDelimited(stream, instance.attackHeliRockets, isDelta);
					}
				}
				break;
			case 125u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseBoat == null)
					{
						instance.baseBoat = BaseBoat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseBoat.DeserializeLengthDelimited(stream, instance.baseBoat, isDelta);
					}
				}
				break;
			case 126u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ragdoll == null)
					{
						instance.ragdoll = Ragdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ragdoll.DeserializeLengthDelimited(stream, instance.ragdoll, isDelta);
					}
				}
				break;
			case 127u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dieselEngine == null)
					{
						instance.dieselEngine = DieselEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						DieselEngine.DeserializeLengthDelimited(stream, instance.dieselEngine, isDelta);
					}
				}
				break;
			case 150u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.associatedFiles == null)
					{
						instance.associatedFiles = AssociatedFiles.DeserializeLengthDelimited(stream);
					}
					else
					{
						AssociatedFiles.DeserializeLengthDelimited(stream, instance.associatedFiles, isDelta);
					}
				}
				break;
			case 151u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusFerry == null)
					{
						instance.nexusFerry = NexusFerry.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusFerry.DeserializeLengthDelimited(stream, instance.nexusFerry, isDelta);
					}
				}
				break;
			case 152u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusIsland == null)
					{
						instance.nexusIsland = NexusIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusIsland.DeserializeLengthDelimited(stream, instance.nexusIsland, isDelta);
					}
				}
				break;
			case 153u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusDockTerminal == null)
					{
						instance.nexusDockTerminal = NexusDockTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusDockTerminal.DeserializeLengthDelimited(stream, instance.nexusDockTerminal, isDelta);
					}
				}
				break;
			case 154u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rockingChair == null)
					{
						instance.rockingChair = RockingChair.DeserializeLengthDelimited(stream);
					}
					else
					{
						RockingChair.DeserializeLengthDelimited(stream, instance.rockingChair, isDelta);
					}
				}
				break;
			case 155u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.headData == null)
					{
						instance.headData = HeadData.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeadData.DeserializeLengthDelimited(stream, instance.headData, isDelta);
					}
				}
				break;
			case 156u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wantedPoster == null)
					{
						instance.wantedPoster = WantedPoster.DeserializeLengthDelimited(stream);
					}
					else
					{
						WantedPoster.DeserializeLengthDelimited(stream, instance.wantedPoster, isDelta);
					}
				}
				break;
			case 158u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waypointRace == null)
					{
						instance.waypointRace = WaypointRace.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaypointRace.DeserializeLengthDelimited(stream, instance.waypointRace, isDelta);
					}
				}
				break;
			case 159u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.legacyShelter == null)
					{
						instance.legacyShelter = LegacyShelter.DeserializeLengthDelimited(stream);
					}
					else
					{
						LegacyShelter.DeserializeLengthDelimited(stream, instance.legacyShelter, isDelta);
					}
				}
				break;
			case 160u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.metalDetectorSource == null)
					{
						instance.metalDetectorSource = MetalDetectorSource.DeserializeLengthDelimited(stream);
					}
					else
					{
						MetalDetectorSource.DeserializeLengthDelimited(stream, instance.metalDetectorSource, isDelta);
					}
				}
				break;
			case 161u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tutorialIsland == null)
					{
						instance.tutorialIsland = TutorialIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						TutorialIsland.DeserializeLengthDelimited(stream, instance.tutorialIsland, isDelta);
					}
				}
				break;
			case 162u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cinematicEntity == null)
					{
						instance.cinematicEntity = CinematicEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						CinematicEntity.DeserializeLengthDelimited(stream, instance.cinematicEntity, isDelta);
					}
				}
				break;
			case 163u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buildingPrivilegeRetro == null)
					{
						instance.buildingPrivilegeRetro = BuildingPrivilegeRetro.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuildingPrivilegeRetro.DeserializeLengthDelimited(stream, instance.buildingPrivilegeRetro, isDelta);
					}
				}
				break;
			case 164u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.harborCrane == null)
					{
						instance.harborCrane = HarborCrane.DeserializeLengthDelimited(stream);
					}
					else
					{
						HarborCrane.DeserializeLengthDelimited(stream, instance.harborCrane, isDelta);
					}
				}
				break;
			case 165u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShip == null)
					{
						instance.cargoShip = CargoShip.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShip.DeserializeLengthDelimited(stream, instance.cargoShip, isDelta);
					}
				}
				break;
			case 166u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShipContainer == null)
					{
						instance.cargoShipContainer = CargoShipContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShipContainer.DeserializeLengthDelimited(stream, instance.cargoShipContainer, isDelta);
					}
				}
				break;
			case 167u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.missionMapMarker == null)
					{
						instance.missionMapMarker = MissionMapMarker.DeserializeLengthDelimited(stream);
					}
					else
					{
						MissionMapMarker.DeserializeLengthDelimited(stream, instance.missionMapMarker, isDelta);
					}
				}
				break;
			case 168u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bike == null)
					{
						instance.bike = Bike.DeserializeLengthDelimited(stream);
					}
					else
					{
						Bike.DeserializeLengthDelimited(stream, instance.bike, isDelta);
					}
				}
				break;
			case 169u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.diverPropulsionVehicle == null)
					{
						instance.diverPropulsionVehicle = DiverPropulsionVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						DiverPropulsionVehicle.DeserializeLengthDelimited(stream, instance.diverPropulsionVehicle, isDelta);
					}
				}
				break;
			case 174u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.travellingVendor == null)
					{
						instance.travellingVendor = TravellingVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						TravellingVendor.DeserializeLengthDelimited(stream, instance.travellingVendor, isDelta);
					}
				}
				break;
			case 175u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingDynamicPricing == null)
					{
						instance.vendingDynamicPricing = VendingDynamicPricing.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingDynamicPricing.DeserializeLengthDelimited(stream, instance.vendingDynamicPricing, isDelta);
					}
				}
				break;
			case 176u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tinCanAlarm == null)
					{
						instance.tinCanAlarm = TinCanAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						TinCanAlarm.DeserializeLengthDelimited(stream, instance.tinCanAlarm, isDelta);
					}
				}
				break;
			case 177u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.digitalClock == null)
					{
						instance.digitalClock = DigitalClock.DeserializeLengthDelimited(stream);
					}
					else
					{
						DigitalClock.DeserializeLengthDelimited(stream, instance.digitalClock, isDelta);
					}
				}
				break;
			case 178u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevatorLift == null)
					{
						instance.elevatorLift = ElevatorLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						ElevatorLift.DeserializeLengthDelimited(stream, instance.elevatorLift, isDelta);
					}
				}
				break;
			case 179u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcVendingMachine == null)
					{
						instance.npcVendingMachine = NPCVendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCVendingMachine.DeserializeLengthDelimited(stream, instance.npcVendingMachine, isDelta);
					}
				}
				break;
			case 180u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mailbox == null)
					{
						instance.mailbox = Mailbox.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mailbox.DeserializeLengthDelimited(stream, instance.mailbox, isDelta);
					}
				}
				break;
			case 181u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.projectileWeaponMod == null)
					{
						instance.projectileWeaponMod = GunWeaponMod.DeserializeLengthDelimited(stream);
					}
					else
					{
						GunWeaponMod.DeserializeLengthDelimited(stream, instance.projectileWeaponMod, isDelta);
					}
				}
				break;
			case 182u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseSculpture == null)
					{
						instance.baseSculpture = BaseSculpture.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseSculpture.DeserializeLengthDelimited(stream, instance.baseSculpture, isDelta);
					}
				}
				break;
			case 183u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachineStats == null)
					{
						instance.vendingMachineStats = VendingMachineStats.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachineStats.DeserializeLengthDelimited(stream, instance.vendingMachineStats, isDelta);
					}
				}
				break;
			case 184u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.catapult == null)
					{
						instance.catapult = Catapult.DeserializeLengthDelimited(stream);
					}
					else
					{
						Catapult.DeserializeLengthDelimited(stream, instance.catapult, isDelta);
					}
				}
				break;
			case 185u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.siegeTower == null)
					{
						instance.siegeTower = SiegeTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						SiegeTower.DeserializeLengthDelimited(stream, instance.siegeTower, isDelta);
					}
				}
				break;
			case 186u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballista == null)
					{
						instance.ballista = Ballista.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ballista.DeserializeLengthDelimited(stream, instance.ballista, isDelta);
					}
				}
				break;
			case 187u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballistaGun == null)
					{
						instance.ballistaGun = BallistaGun.DeserializeLengthDelimited(stream);
					}
					else
					{
						BallistaGun.DeserializeLengthDelimited(stream, instance.ballistaGun, isDelta);
					}
				}
				break;
			case 188u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.batteringRam == null)
					{
						instance.batteringRam = BatteringRam.DeserializeLengthDelimited(stream);
					}
					else
					{
						BatteringRam.DeserializeLengthDelimited(stream, instance.batteringRam, isDelta);
					}
				}
				break;
			case 189u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.temporaryRagdoll == null)
					{
						instance.temporaryRagdoll = TemporaryRagdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						TemporaryRagdoll.DeserializeLengthDelimited(stream, instance.temporaryRagdoll, isDelta);
					}
				}
				break;
			case 191u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.constructableEntity == null)
					{
						instance.constructableEntity = ConstructableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConstructableEntity.DeserializeLengthDelimited(stream, instance.constructableEntity, isDelta);
					}
				}
				break;
			case 192u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.chickenCoop == null)
					{
						instance.chickenCoop = ChickenCoop.DeserializeLengthDelimited(stream);
					}
					else
					{
						ChickenCoop.DeserializeLengthDelimited(stream, instance.chickenCoop, isDelta);
					}
				}
				break;
			case 193u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.farmableAnimal == null)
					{
						instance.farmableAnimal = FarmableAnimal.DeserializeLengthDelimited(stream);
					}
					else
					{
						FarmableAnimal.DeserializeLengthDelimited(stream, instance.farmableAnimal, isDelta);
					}
				}
				break;
			case 194u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
				}
				break;
			case 195u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beehive == null)
					{
						instance.beehive = Beehive.DeserializeLengthDelimited(stream);
					}
					else
					{
						Beehive.DeserializeLengthDelimited(stream, instance.beehive, isDelta);
					}
				}
				break;
			case 196u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beeMasterSwarm == null)
					{
						instance.beeMasterSwarm = BeeMasterSwarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						BeeMasterSwarm.DeserializeLengthDelimited(stream, instance.beeMasterSwarm, isDelta);
					}
				}
				break;
			case 197u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.containerCorpse == null)
					{
						instance.containerCorpse = ContainerCorpseData.DeserializeLengthDelimited(stream);
					}
					else
					{
						ContainerCorpseData.DeserializeLengthDelimited(stream, instance.containerCorpse, isDelta);
					}
				}
				break;
			case 198u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcSensesState == null)
					{
						instance.npcSensesState = NPCSensesState.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCSensesState.DeserializeLengthDelimited(stream, instance.npcSensesState, isDelta);
					}
				}
				break;
			case 199u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineMountable == null)
					{
						instance.vineMountable = VineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineMountable.DeserializeLengthDelimited(stream, instance.vineMountable, isDelta);
					}
				}
				break;
			case 200u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineTree == null)
					{
						instance.vineTree = VineTree.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineTree.DeserializeLengthDelimited(stream, instance.vineTree, isDelta);
					}
				}
				break;
			case 201u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.treeRespawn == null)
					{
						instance.treeRespawn = TreeRespawn.DeserializeLengthDelimited(stream);
					}
					else
					{
						TreeRespawn.DeserializeLengthDelimited(stream, instance.treeRespawn, isDelta);
					}
				}
				break;
			case 202u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wallpaperTool == null)
					{
						instance.wallpaperTool = WallpaperTool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WallpaperTool.DeserializeLengthDelimited(stream, instance.wallpaperTool, isDelta);
					}
				}
				break;
			case 203u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.commandBlock == null)
					{
						instance.commandBlock = CommandBlock.DeserializeLengthDelimited(stream);
					}
					else
					{
						CommandBlock.DeserializeLengthDelimited(stream, instance.commandBlock, isDelta);
					}
				}
				break;
			case 204u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.staticRespawn == null)
					{
						instance.staticRespawn = StaticRespawnAreaData.DeserializeLengthDelimited(stream);
					}
					else
					{
						StaticRespawnAreaData.DeserializeLengthDelimited(stream, instance.staticRespawn, isDelta);
					}
				}
				break;
			case 205u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buriedItemStorage == null)
					{
						instance.buriedItemStorage = BuriedItems.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuriedItems.DeserializeLengthDelimited(stream, instance.buriedItemStorage, isDelta);
					}
				}
				break;
			case 206u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mannequin == null)
					{
						instance.mannequin = Mannequin.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mannequin.DeserializeLengthDelimited(stream, instance.mannequin, isDelta);
					}
				}
				break;
			case 207u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseMelee == null)
					{
						instance.baseMelee = BaseMelee.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseMelee.DeserializeLengthDelimited(stream, instance.baseMelee, isDelta);
					}
				}
				break;
			case 208u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.door == null)
					{
						instance.door = Door.DeserializeLengthDelimited(stream);
					}
					else
					{
						Door.DeserializeLengthDelimited(stream, instance.door, isDelta);
					}
				}
				break;
			case 217u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.storageAdaptor == null)
					{
						instance.storageAdaptor = StorageAdaptor.DeserializeLengthDelimited(stream);
					}
					else
					{
						StorageAdaptor.DeserializeLengthDelimited(stream, instance.storageAdaptor, isDelta);
					}
				}
				break;
			case 218u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopterFlares == null)
					{
						instance.helicopterFlares = HelicopterFlares.DeserializeLengthDelimited(stream);
					}
					else
					{
						HelicopterFlares.DeserializeLengthDelimited(stream, instance.helicopterFlares, isDelta);
					}
				}
				break;
			case 219u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wipeLaptop == null)
					{
						instance.wipeLaptop = WipeLaptop.DeserializeLengthDelimited(stream);
					}
					else
					{
						WipeLaptop.DeserializeLengthDelimited(stream, instance.wipeLaptop, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Entity instance, Entity previous)
	{
		if (instance.baseNetworkable != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			BaseNetworkable.SerializeDelta(stream, instance.baseNetworkable, previous.baseNetworkable);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNetworkable (ProtoBuf.BaseNetworkable)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.baseEntity != null)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(5);
			int position2 = stream.Position;
			BaseEntity.SerializeDelta(stream, instance.baseEntity, previous.baseEntity);
			int val = stream.Position - position2;
			Span<byte> span2 = range2.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)val, span2, 0);
			if (num2 < 5)
			{
				span2[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span2[num2++] = 128;
				}
				span2[4] = 0;
			}
		}
		if (instance.basePlayer != null)
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			BasePlayer.SerializeDelta(stream, instance.basePlayer, previous.basePlayer);
			int val2 = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val2, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
		if (instance.worldItem != null)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(5);
			int position4 = stream.Position;
			WorldItem.SerializeDelta(stream, instance.worldItem, previous.worldItem);
			int val3 = stream.Position - position4;
			Span<byte> span4 = range4.GetSpan();
			int num4 = ProtocolParser.WriteUInt32((uint)val3, span4, 0);
			if (num4 < 5)
			{
				span4[num4 - 1] |= 128;
				while (num4 < 4)
				{
					span4[num4++] = 128;
				}
				span4[4] = 0;
			}
		}
		if (instance.resource != null)
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range5 = stream.GetRange(1);
			int position5 = stream.Position;
			BaseResource.SerializeDelta(stream, instance.resource, previous.resource);
			int num5 = stream.Position - position5;
			if (num5 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field resource (ProtoBuf.BaseResource)");
			}
			Span<byte> span5 = range5.GetSpan();
			ProtocolParser.WriteUInt32((uint)num5, span5, 0);
		}
		if (instance.buildingBlock != null)
		{
			stream.WriteByte(50);
			BufferStream.RangeHandle range6 = stream.GetRange(1);
			int position6 = stream.Position;
			BuildingBlock.SerializeDelta(stream, instance.buildingBlock, previous.buildingBlock);
			int num6 = stream.Position - position6;
			if (num6 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingBlock (ProtoBuf.BuildingBlock)");
			}
			Span<byte> span6 = range6.GetSpan();
			ProtocolParser.WriteUInt32((uint)num6, span6, 0);
		}
		if (instance.environment != null)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range7 = stream.GetRange(1);
			int position7 = stream.Position;
			ProtoBuf.Environment.SerializeDelta(stream, instance.environment, previous.environment);
			int num7 = stream.Position - position7;
			if (num7 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field environment (ProtoBuf.Environment)");
			}
			Span<byte> span7 = range7.GetSpan();
			ProtocolParser.WriteUInt32((uint)num7, span7, 0);
		}
		if (instance.corpse != null)
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range8 = stream.GetRange(1);
			int position8 = stream.Position;
			Corpse.SerializeDelta(stream, instance.corpse, previous.corpse);
			int num8 = stream.Position - position8;
			if (num8 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field corpse (ProtoBuf.Corpse)");
			}
			Span<byte> span8 = range8.GetSpan();
			ProtocolParser.WriteUInt32((uint)num8, span8, 0);
		}
		if (instance.parent != null)
		{
			stream.WriteByte(82);
			BufferStream.RangeHandle range9 = stream.GetRange(1);
			int position9 = stream.Position;
			ParentInfo.SerializeDelta(stream, instance.parent, previous.parent);
			int num9 = stream.Position - position9;
			if (num9 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field parent (ProtoBuf.ParentInfo)");
			}
			Span<byte> span9 = range9.GetSpan();
			ProtocolParser.WriteUInt32((uint)num9, span9, 0);
		}
		if (instance.keyLock != null)
		{
			stream.WriteByte(90);
			BufferStream.RangeHandle range10 = stream.GetRange(1);
			int position10 = stream.Position;
			KeyLock.SerializeDelta(stream, instance.keyLock, previous.keyLock);
			int num10 = stream.Position - position10;
			if (num10 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field keyLock (ProtoBuf.KeyLock)");
			}
			Span<byte> span10 = range10.GetSpan();
			ProtocolParser.WriteUInt32((uint)num10, span10, 0);
		}
		if (instance.codeLock != null)
		{
			stream.WriteByte(98);
			BufferStream.RangeHandle range11 = stream.GetRange(5);
			int position11 = stream.Position;
			CodeLock.SerializeDelta(stream, instance.codeLock, previous.codeLock);
			int val4 = stream.Position - position11;
			Span<byte> span11 = range11.GetSpan();
			int num11 = ProtocolParser.WriteUInt32((uint)val4, span11, 0);
			if (num11 < 5)
			{
				span11[num11 - 1] |= 128;
				while (num11 < 4)
				{
					span11[num11++] = 128;
				}
				span11[4] = 0;
			}
		}
		if (instance.entitySlots != null)
		{
			stream.WriteByte(106);
			BufferStream.RangeHandle range12 = stream.GetRange(1);
			int position12 = stream.Position;
			EntitySlots.SerializeDelta(stream, instance.entitySlots, previous.entitySlots);
			int num12 = stream.Position - position12;
			if (num12 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field entitySlots (ProtoBuf.EntitySlots)");
			}
			Span<byte> span12 = range12.GetSpan();
			ProtocolParser.WriteUInt32((uint)num12, span12, 0);
		}
		if (instance.buildingPrivilege != null)
		{
			stream.WriteByte(114);
			BufferStream.RangeHandle range13 = stream.GetRange(5);
			int position13 = stream.Position;
			BuildingPrivilege.SerializeDelta(stream, instance.buildingPrivilege, previous.buildingPrivilege);
			int val5 = stream.Position - position13;
			Span<byte> span13 = range13.GetSpan();
			int num13 = ProtocolParser.WriteUInt32((uint)val5, span13, 0);
			if (num13 < 5)
			{
				span13[num13 - 1] |= 128;
				while (num13 < 4)
				{
					span13[num13++] = 128;
				}
				span13[4] = 0;
			}
		}
		if (instance.storageBox != null)
		{
			stream.WriteByte(122);
			BufferStream.RangeHandle range14 = stream.GetRange(5);
			int position14 = stream.Position;
			StorageBox.SerializeDelta(stream, instance.storageBox, previous.storageBox);
			int val6 = stream.Position - position14;
			Span<byte> span14 = range14.GetSpan();
			int num14 = ProtocolParser.WriteUInt32((uint)val6, span14, 0);
			if (num14 < 5)
			{
				span14[num14 - 1] |= 128;
				while (num14 < 4)
				{
					span14[num14++] = 128;
				}
				span14[4] = 0;
			}
		}
		if (instance.heldEntity != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(1);
			BufferStream.RangeHandle range15 = stream.GetRange(1);
			int position15 = stream.Position;
			HeldEntity.SerializeDelta(stream, instance.heldEntity, previous.heldEntity);
			int num15 = stream.Position - position15;
			if (num15 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field heldEntity (ProtoBuf.HeldEntity)");
			}
			Span<byte> span15 = range15.GetSpan();
			ProtocolParser.WriteUInt32((uint)num15, span15, 0);
		}
		if (instance.baseProjectile != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(1);
			BufferStream.RangeHandle range16 = stream.GetRange(1);
			int position16 = stream.Position;
			BaseProjectile.SerializeDelta(stream, instance.baseProjectile, previous.baseProjectile);
			int num16 = stream.Position - position16;
			if (num16 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseProjectile (ProtoBuf.BaseProjectile)");
			}
			Span<byte> span16 = range16.GetSpan();
			ProtocolParser.WriteUInt32((uint)num16, span16, 0);
		}
		if (instance.baseNPC != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(1);
			BufferStream.RangeHandle range17 = stream.GetRange(1);
			int position17 = stream.Position;
			BaseNPC.SerializeDelta(stream, instance.baseNPC, previous.baseNPC);
			int num17 = stream.Position - position17;
			if (num17 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNPC (ProtoBuf.BaseNPC)");
			}
			Span<byte> span17 = range17.GetSpan();
			ProtocolParser.WriteUInt32((uint)num17, span17, 0);
		}
		if (instance.loot != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(1);
			BufferStream.RangeHandle range18 = stream.GetRange(5);
			int position18 = stream.Position;
			Loot.SerializeDelta(stream, instance.loot, previous.loot);
			int val7 = stream.Position - position18;
			Span<byte> span18 = range18.GetSpan();
			int num18 = ProtocolParser.WriteUInt32((uint)val7, span18, 0);
			if (num18 < 5)
			{
				span18[num18 - 1] |= 128;
				while (num18 < 4)
				{
					span18[num18++] = 128;
				}
				span18[4] = 0;
			}
		}
		if (instance.genericSpawner != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(1);
			BufferStream.RangeHandle range19 = stream.GetRange(3);
			int position19 = stream.Position;
			GenericSpawner.SerializeDelta(stream, instance.genericSpawner, previous.genericSpawner);
			int num19 = stream.Position - position19;
			if (num19 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field genericSpawner (ProtoBuf.GenericSpawner)");
			}
			Span<byte> span19 = range19.GetSpan();
			int num20 = ProtocolParser.WriteUInt32((uint)num19, span19, 0);
			if (num20 < 3)
			{
				span19[num20 - 1] |= 128;
				while (num20 < 2)
				{
					span19[num20++] = 128;
				}
				span19[2] = 0;
			}
		}
		if (instance.sleepingBag != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(1);
			BufferStream.RangeHandle range20 = stream.GetRange(5);
			int position20 = stream.Position;
			SleepingBag.SerializeDelta(stream, instance.sleepingBag, previous.sleepingBag);
			int val8 = stream.Position - position20;
			Span<byte> span20 = range20.GetSpan();
			int num21 = ProtocolParser.WriteUInt32((uint)val8, span20, 0);
			if (num21 < 5)
			{
				span20[num21 - 1] |= 128;
				while (num21 < 4)
				{
					span20[num21++] = 128;
				}
				span20[4] = 0;
			}
		}
		if (instance.lootableCorpse != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(1);
			BufferStream.RangeHandle range21 = stream.GetRange(5);
			int position21 = stream.Position;
			LootableCorpse.SerializeDelta(stream, instance.lootableCorpse, previous.lootableCorpse);
			int val9 = stream.Position - position21;
			Span<byte> span21 = range21.GetSpan();
			int num22 = ProtocolParser.WriteUInt32((uint)val9, span21, 0);
			if (num22 < 5)
			{
				span21[num22 - 1] |= 128;
				while (num22 < 4)
				{
					span21[num22++] = 128;
				}
				span21[4] = 0;
			}
		}
		if (instance.sign != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(1);
			BufferStream.RangeHandle range22 = stream.GetRange(3);
			int position22 = stream.Position;
			Sign.SerializeDelta(stream, instance.sign, previous.sign);
			int num23 = stream.Position - position22;
			if (num23 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sign (ProtoBuf.Sign)");
			}
			Span<byte> span22 = range22.GetSpan();
			int num24 = ProtocolParser.WriteUInt32((uint)num23, span22, 0);
			if (num24 < 3)
			{
				span22[num24 - 1] |= 128;
				while (num24 < 2)
				{
					span22[num24++] = 128;
				}
				span22[2] = 0;
			}
		}
		if (instance.baseCombat != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(1);
			BufferStream.RangeHandle range23 = stream.GetRange(1);
			int position23 = stream.Position;
			BaseCombat.SerializeDelta(stream, instance.baseCombat, previous.baseCombat);
			int num25 = stream.Position - position23;
			if (num25 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseCombat (ProtoBuf.BaseCombat)");
			}
			Span<byte> span23 = range23.GetSpan();
			ProtocolParser.WriteUInt32((uint)num25, span23, 0);
		}
		if (instance.mapEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(1);
			BufferStream.RangeHandle range24 = stream.GetRange(3);
			int position24 = stream.Position;
			MapEntity.SerializeDelta(stream, instance.mapEntity, previous.mapEntity);
			int num26 = stream.Position - position24;
			if (num26 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mapEntity (ProtoBuf.MapEntity)");
			}
			Span<byte> span24 = range24.GetSpan();
			int num27 = ProtocolParser.WriteUInt32((uint)num26, span24, 0);
			if (num27 < 3)
			{
				span24[num27 - 1] |= 128;
				while (num27 < 2)
				{
					span24[num27++] = 128;
				}
				span24[2] = 0;
			}
		}
		if (instance.researchTable != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(1);
			BufferStream.RangeHandle range25 = stream.GetRange(1);
			int position25 = stream.Position;
			ResearchTable.SerializeDelta(stream, instance.researchTable, previous.researchTable);
			int num28 = stream.Position - position25;
			if (num28 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field researchTable (ProtoBuf.ResearchTable)");
			}
			Span<byte> span25 = range25.GetSpan();
			ProtocolParser.WriteUInt32((uint)num28, span25, 0);
		}
		if (instance.dudExplosive != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(1);
			BufferStream.RangeHandle range26 = stream.GetRange(1);
			int position26 = stream.Position;
			DudExplosive.SerializeDelta(stream, instance.dudExplosive, previous.dudExplosive);
			int num29 = stream.Position - position26;
			if (num29 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dudExplosive (ProtoBuf.DudExplosive)");
			}
			Span<byte> span26 = range26.GetSpan();
			ProtocolParser.WriteUInt32((uint)num29, span26, 0);
		}
		if (instance.miningQuarry != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(1);
			BufferStream.RangeHandle range27 = stream.GetRange(5);
			int position27 = stream.Position;
			MiningQuarry.SerializeDelta(stream, instance.miningQuarry, previous.miningQuarry);
			int val10 = stream.Position - position27;
			Span<byte> span27 = range27.GetSpan();
			int num30 = ProtocolParser.WriteUInt32((uint)val10, span27, 0);
			if (num30 < 5)
			{
				span27[num30 - 1] |= 128;
				while (num30 < 4)
				{
					span27[num30++] = 128;
				}
				span27[4] = 0;
			}
		}
		if (instance.baseVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(1);
			BufferStream.RangeHandle range28 = stream.GetRange(3);
			int position28 = stream.Position;
			BaseVehicle.SerializeDelta(stream, instance.baseVehicle, previous.baseVehicle);
			int num31 = stream.Position - position28;
			if (num31 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseVehicle (ProtoBuf.BaseVehicle)");
			}
			Span<byte> span28 = range28.GetSpan();
			int num32 = ProtocolParser.WriteUInt32((uint)num31, span28, 0);
			if (num32 < 3)
			{
				span28[num32 - 1] |= 128;
				while (num32 < 2)
				{
					span28[num32++] = 128;
				}
				span28[2] = 0;
			}
		}
		if (instance.helicopter != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(1);
			BufferStream.RangeHandle range29 = stream.GetRange(3);
			int position29 = stream.Position;
			Helicopter.SerializeDelta(stream, instance.helicopter, previous.helicopter);
			int num33 = stream.Position - position29;
			if (num33 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field helicopter (ProtoBuf.Helicopter)");
			}
			Span<byte> span29 = range29.GetSpan();
			int num34 = ProtocolParser.WriteUInt32((uint)num33, span29, 0);
			if (num34 < 3)
			{
				span29[num34 - 1] |= 128;
				while (num34 < 2)
				{
					span29[num34++] = 128;
				}
				span29[2] = 0;
			}
		}
		if (instance.landmine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(1);
			BufferStream.RangeHandle range30 = stream.GetRange(1);
			int position30 = stream.Position;
			Landmine.SerializeDelta(stream, instance.landmine, previous.landmine);
			int num35 = stream.Position - position30;
			if (num35 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field landmine (ProtoBuf.Landmine)");
			}
			Span<byte> span30 = range30.GetSpan();
			ProtocolParser.WriteUInt32((uint)num35, span30, 0);
		}
		if (instance.autoturret != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(2);
			BufferStream.RangeHandle range31 = stream.GetRange(5);
			int position31 = stream.Position;
			AutoTurret.SerializeDelta(stream, instance.autoturret, previous.autoturret);
			int val11 = stream.Position - position31;
			Span<byte> span31 = range31.GetSpan();
			int num36 = ProtocolParser.WriteUInt32((uint)val11, span31, 0);
			if (num36 < 5)
			{
				span31[num36 - 1] |= 128;
				while (num36 < 4)
				{
					span31[num36++] = 128;
				}
				span31[4] = 0;
			}
		}
		if (instance.sphereEntity != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(2);
			BufferStream.RangeHandle range32 = stream.GetRange(1);
			int position32 = stream.Position;
			SphereEntity.SerializeDelta(stream, instance.sphereEntity, previous.sphereEntity);
			int num37 = stream.Position - position32;
			if (num37 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sphereEntity (ProtoBuf.SphereEntity)");
			}
			Span<byte> span32 = range32.GetSpan();
			ProtocolParser.WriteUInt32((uint)num37, span32, 0);
		}
		if (instance.stabilityEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(2);
			BufferStream.RangeHandle range33 = stream.GetRange(1);
			int position33 = stream.Position;
			StabilityEntity.SerializeDelta(stream, instance.stabilityEntity, previous.stabilityEntity);
			int num38 = stream.Position - position33;
			if (num38 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field stabilityEntity (ProtoBuf.StabilityEntity)");
			}
			Span<byte> span33 = range33.GetSpan();
			ProtocolParser.WriteUInt32((uint)num38, span33, 0);
		}
		if (instance.ownerInfo != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(2);
			BufferStream.RangeHandle range34 = stream.GetRange(1);
			int position34 = stream.Position;
			OwnerInfo.SerializeDelta(stream, instance.ownerInfo, previous.ownerInfo);
			int num39 = stream.Position - position34;
			if (num39 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ownerInfo (ProtoBuf.OwnerInfo)");
			}
			Span<byte> span34 = range34.GetSpan();
			ProtocolParser.WriteUInt32((uint)num39, span34, 0);
		}
		if (instance.decayEntity != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(2);
			BufferStream.RangeHandle range35 = stream.GetRange(1);
			int position35 = stream.Position;
			DecayEntity.SerializeDelta(stream, instance.decayEntity, previous.decayEntity);
			int num40 = stream.Position - position35;
			if (num40 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field decayEntity (ProtoBuf.DecayEntity)");
			}
			Span<byte> span35 = range35.GetSpan();
			ProtocolParser.WriteUInt32((uint)num40, span35, 0);
		}
		if (instance.spawnable != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(2);
			BufferStream.RangeHandle range36 = stream.GetRange(1);
			int position36 = stream.Position;
			Spawnable.SerializeDelta(stream, instance.spawnable, previous.spawnable);
			int num41 = stream.Position - position36;
			if (num41 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spawnable (ProtoBuf.Spawnable)");
			}
			Span<byte> span36 = range36.GetSpan();
			ProtocolParser.WriteUInt32((uint)num41, span36, 0);
		}
		if (instance.servergib != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(2);
			BufferStream.RangeHandle range37 = stream.GetRange(5);
			int position37 = stream.Position;
			ServerGib.SerializeDelta(stream, instance.servergib, previous.servergib);
			int val12 = stream.Position - position37;
			Span<byte> span37 = range37.GetSpan();
			int num42 = ProtocolParser.WriteUInt32((uint)val12, span37, 0);
			if (num42 < 5)
			{
				span37[num42 - 1] |= 128;
				while (num42 < 4)
				{
					span37[num42++] = 128;
				}
				span37[4] = 0;
			}
		}
		if (instance.vendingMachine != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(2);
			BufferStream.RangeHandle range38 = stream.GetRange(5);
			int position38 = stream.Position;
			VendingMachine.SerializeDelta(stream, instance.vendingMachine, previous.vendingMachine);
			int val13 = stream.Position - position38;
			Span<byte> span38 = range38.GetSpan();
			int num43 = ProtocolParser.WriteUInt32((uint)val13, span38, 0);
			if (num43 < 5)
			{
				span38[num43 - 1] |= 128;
				while (num43 < 4)
				{
					span38[num43++] = 128;
				}
				span38[4] = 0;
			}
		}
		if (instance.spinnerWheel != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(2);
			BufferStream.RangeHandle range39 = stream.GetRange(1);
			int position39 = stream.Position;
			SpinnerWheel.SerializeDelta(stream, instance.spinnerWheel, previous.spinnerWheel);
			int num44 = stream.Position - position39;
			if (num44 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spinnerWheel (ProtoBuf.SpinnerWheel)");
			}
			Span<byte> span39 = range39.GetSpan();
			ProtocolParser.WriteUInt32((uint)num44, span39, 0);
		}
		if (instance.lift != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(2);
			BufferStream.RangeHandle range40 = stream.GetRange(1);
			int position40 = stream.Position;
			Lift.SerializeDelta(stream, instance.lift, previous.lift);
			int num45 = stream.Position - position40;
			if (num45 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lift (ProtoBuf.Lift)");
			}
			Span<byte> span40 = range40.GetSpan();
			ProtocolParser.WriteUInt32((uint)num45, span40, 0);
		}
		if (instance.bradley != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(2);
			BufferStream.RangeHandle range41 = stream.GetRange(2);
			int position41 = stream.Position;
			BradleyAPC.SerializeDelta(stream, instance.bradley, previous.bradley);
			int num46 = stream.Position - position41;
			if (num46 > 16383)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bradley (ProtoBuf.BradleyAPC)");
			}
			Span<byte> span41 = range41.GetSpan();
			if (ProtocolParser.WriteUInt32((uint)num46, span41, 0) < 2)
			{
				span41[0] |= 128;
				span41[1] = 0;
			}
		}
		if (instance.waterwell != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(2);
			BufferStream.RangeHandle range42 = stream.GetRange(1);
			int position42 = stream.Position;
			WaterWell.SerializeDelta(stream, instance.waterwell, previous.waterwell);
			int num47 = stream.Position - position42;
			if (num47 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waterwell (ProtoBuf.WaterWell)");
			}
			Span<byte> span42 = range42.GetSpan();
			ProtocolParser.WriteUInt32((uint)num47, span42, 0);
		}
		if (instance.motorBoat != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(2);
			BufferStream.RangeHandle range43 = stream.GetRange(1);
			int position43 = stream.Position;
			Motorboat.SerializeDelta(stream, instance.motorBoat, previous.motorBoat);
			int num48 = stream.Position - position43;
			if (num48 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field motorBoat (ProtoBuf.Motorboat)");
			}
			Span<byte> span43 = range43.GetSpan();
			ProtocolParser.WriteUInt32((uint)num48, span43, 0);
		}
		if (instance.ioEntity != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(2);
			BufferStream.RangeHandle range44 = stream.GetRange(5);
			int position44 = stream.Position;
			IOEntity.SerializeDelta(stream, instance.ioEntity, previous.ioEntity);
			int val14 = stream.Position - position44;
			Span<byte> span44 = range44.GetSpan();
			int num49 = ProtocolParser.WriteUInt32((uint)val14, span44, 0);
			if (num49 < 5)
			{
				span44[num49 - 1] |= 128;
				while (num49 < 4)
				{
					span44[num49++] = 128;
				}
				span44[4] = 0;
			}
		}
		if (instance.puzzleReset != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(2);
			BufferStream.RangeHandle range45 = stream.GetRange(5);
			int position45 = stream.Position;
			PuzzleReset.SerializeDelta(stream, instance.puzzleReset, previous.puzzleReset);
			int val15 = stream.Position - position45;
			Span<byte> span45 = range45.GetSpan();
			int num50 = ProtocolParser.WriteUInt32((uint)val15, span45, 0);
			if (num50 < 5)
			{
				span45[num50 - 1] |= 128;
				while (num50 < 4)
				{
					span45[num50++] = 128;
				}
				span45[4] = 0;
			}
		}
		if (instance.relationshipManager != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(2);
			BufferStream.RangeHandle range46 = stream.GetRange(5);
			int position46 = stream.Position;
			RelationshipManager.SerializeDelta(stream, instance.relationshipManager, previous.relationshipManager);
			int val16 = stream.Position - position46;
			Span<byte> span46 = range46.GetSpan();
			int num51 = ProtocolParser.WriteUInt32((uint)val16, span46, 0);
			if (num51 < 5)
			{
				span46[num51 - 1] |= 128;
				while (num51 < 4)
				{
					span46[num51++] = 128;
				}
				span46[4] = 0;
			}
		}
		if (instance.hotAirBalloon != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(3);
			BufferStream.RangeHandle range47 = stream.GetRange(1);
			int position47 = stream.Position;
			HotAirBalloon.SerializeDelta(stream, instance.hotAirBalloon, previous.hotAirBalloon);
			int num52 = stream.Position - position47;
			if (num52 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field hotAirBalloon (ProtoBuf.HotAirBalloon)");
			}
			Span<byte> span47 = range47.GetSpan();
			ProtocolParser.WriteUInt32((uint)num52, span47, 0);
		}
		if (instance.samSite != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(3);
			BufferStream.RangeHandle range48 = stream.GetRange(1);
			int position48 = stream.Position;
			SAMSite.SerializeDelta(stream, instance.samSite, previous.samSite);
			int num53 = stream.Position - position48;
			if (num53 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field samSite (ProtoBuf.SAMSite)");
			}
			Span<byte> span48 = range48.GetSpan();
			ProtocolParser.WriteUInt32((uint)num53, span48, 0);
		}
		if (instance.eggHunt != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(3);
			BufferStream.RangeHandle range49 = stream.GetRange(5);
			int position49 = stream.Position;
			EggHunt.SerializeDelta(stream, instance.eggHunt, previous.eggHunt);
			int val17 = stream.Position - position49;
			Span<byte> span49 = range49.GetSpan();
			int num54 = ProtocolParser.WriteUInt32((uint)val17, span49, 0);
			if (num54 < 5)
			{
				span49[num54 - 1] |= 128;
				while (num54 < 4)
				{
					span49[num54++] = 128;
				}
				span49[4] = 0;
			}
		}
		if (instance.arcadeMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(3);
			BufferStream.RangeHandle range50 = stream.GetRange(5);
			int position50 = stream.Position;
			ArcadeMachine.SerializeDelta(stream, instance.arcadeMachine, previous.arcadeMachine);
			int val18 = stream.Position - position50;
			Span<byte> span50 = range50.GetSpan();
			int num55 = ProtocolParser.WriteUInt32((uint)val18, span50, 0);
			if (num55 < 5)
			{
				span50[num55 - 1] |= 128;
				while (num55 < 4)
				{
					span50[num55++] = 128;
				}
				span50[4] = 0;
			}
		}
		if (instance.miniCopter != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(3);
			BufferStream.RangeHandle range51 = stream.GetRange(1);
			int position51 = stream.Position;
			Minicopter.SerializeDelta(stream, instance.miniCopter, previous.miniCopter);
			int num56 = stream.Position - position51;
			if (num56 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field miniCopter (ProtoBuf.Minicopter)");
			}
			Span<byte> span51 = range51.GetSpan();
			ProtocolParser.WriteUInt32((uint)num56, span51, 0);
		}
		if (instance.horse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(3);
			BufferStream.RangeHandle range52 = stream.GetRange(5);
			int position52 = stream.Position;
			Horse.SerializeDelta(stream, instance.horse, previous.horse);
			int val19 = stream.Position - position52;
			Span<byte> span52 = range52.GetSpan();
			int num57 = ProtocolParser.WriteUInt32((uint)val19, span52, 0);
			if (num57 < 5)
			{
				span52[num57 - 1] |= 128;
				while (num57 < 4)
				{
					span52[num57++] = 128;
				}
				span52[4] = 0;
			}
		}
		if (instance.smartAlarm != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(3);
			BufferStream.RangeHandle range53 = stream.GetRange(5);
			int position53 = stream.Position;
			SmartAlarm.SerializeDelta(stream, instance.smartAlarm, previous.smartAlarm);
			int val20 = stream.Position - position53;
			Span<byte> span53 = range53.GetSpan();
			int num58 = ProtocolParser.WriteUInt32((uint)val20, span53, 0);
			if (num58 < 5)
			{
				span53[num58 - 1] |= 128;
				while (num58 < 4)
				{
					span53[num58++] = 128;
				}
				span53[4] = 0;
			}
		}
		if (instance.lightString != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(3);
			BufferStream.RangeHandle range54 = stream.GetRange(3);
			int position54 = stream.Position;
			LightString.SerializeDelta(stream, instance.lightString, previous.lightString);
			int num59 = stream.Position - position54;
			if (num59 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightString (ProtoBuf.LightString)");
			}
			Span<byte> span54 = range54.GetSpan();
			int num60 = ProtocolParser.WriteUInt32((uint)num59, span54, 0);
			if (num60 < 3)
			{
				span54[num60 - 1] |= 128;
				while (num60 < 2)
				{
					span54[num60++] = 128;
				}
				span54[2] = 0;
			}
		}
		if (instance.lightDeployer != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(3);
			BufferStream.RangeHandle range55 = stream.GetRange(1);
			int position55 = stream.Position;
			LightDeployer.SerializeDelta(stream, instance.lightDeployer, previous.lightDeployer);
			int num61 = stream.Position - position55;
			if (num61 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightDeployer (ProtoBuf.LightDeployer)");
			}
			Span<byte> span55 = range55.GetSpan();
			ProtocolParser.WriteUInt32((uint)num61, span55, 0);
		}
		if (instance.rcEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(3);
			BufferStream.RangeHandle range56 = stream.GetRange(5);
			int position56 = stream.Position;
			RCEntity.SerializeDelta(stream, instance.rcEntity, previous.rcEntity);
			int val21 = stream.Position - position56;
			Span<byte> span56 = range56.GetSpan();
			int num62 = ProtocolParser.WriteUInt32((uint)val21, span56, 0);
			if (num62 < 5)
			{
				span56[num62 - 1] |= 128;
				while (num62 < 4)
				{
					span56[num62++] = 128;
				}
				span56[4] = 0;
			}
		}
		if (instance.computerStation != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(3);
			BufferStream.RangeHandle range57 = stream.GetRange(5);
			int position57 = stream.Position;
			ComputerStation.SerializeDelta(stream, instance.computerStation, previous.computerStation);
			int val22 = stream.Position - position57;
			Span<byte> span57 = range57.GetSpan();
			int num63 = ProtocolParser.WriteUInt32((uint)val22, span57, 0);
			if (num63 < 5)
			{
				span57[num63 - 1] |= 128;
				while (num63 < 4)
				{
					span57[num63++] = 128;
				}
				span57[4] = 0;
			}
		}
		if (instance.growableEntity != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(3);
			BufferStream.RangeHandle range58 = stream.GetRange(1);
			int position58 = stream.Position;
			GrowableEntity.SerializeDelta(stream, instance.growableEntity, previous.growableEntity);
			int num64 = stream.Position - position58;
			if (num64 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field growableEntity (ProtoBuf.GrowableEntity)");
			}
			Span<byte> span58 = range58.GetSpan();
			ProtocolParser.WriteUInt32((uint)num64, span58, 0);
		}
		if (instance.composter != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(3);
			BufferStream.RangeHandle range59 = stream.GetRange(1);
			int position59 = stream.Position;
			Composter.SerializeDelta(stream, instance.composter, previous.composter);
			int num65 = stream.Position - position59;
			if (num65 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field composter (ProtoBuf.Composter)");
			}
			Span<byte> span59 = range59.GetSpan();
			ProtocolParser.WriteUInt32((uint)num65, span59, 0);
		}
		if (instance.modularVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(3);
			BufferStream.RangeHandle range60 = stream.GetRange(1);
			int position60 = stream.Position;
			ModularVehicle.SerializeDelta(stream, instance.modularVehicle, previous.modularVehicle);
			int num66 = stream.Position - position60;
			if (num66 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modularVehicle (ProtoBuf.ModularVehicle)");
			}
			Span<byte> span60 = range60.GetSpan();
			ProtocolParser.WriteUInt32((uint)num66, span60, 0);
		}
		if (instance.modularCar != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(3);
			BufferStream.RangeHandle range61 = stream.GetRange(5);
			int position61 = stream.Position;
			ModularCar.SerializeDelta(stream, instance.modularCar, previous.modularCar);
			int val23 = stream.Position - position61;
			Span<byte> span61 = range61.GetSpan();
			int num67 = ProtocolParser.WriteUInt32((uint)val23, span61, 0);
			if (num67 < 5)
			{
				span61[num67 - 1] |= 128;
				while (num67 < 4)
				{
					span61[num67++] = 128;
				}
				span61[4] = 0;
			}
		}
		if (instance.simpleUID != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(3);
			BufferStream.RangeHandle range62 = stream.GetRange(1);
			int position62 = stream.Position;
			SimpleUID.SerializeDelta(stream, instance.simpleUID, previous.simpleUID);
			int num68 = stream.Position - position62;
			if (num68 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUID (ProtoBuf.SimpleUID)");
			}
			Span<byte> span62 = range62.GetSpan();
			ProtocolParser.WriteUInt32((uint)num68, span62, 0);
		}
		if (instance.vehicleLift != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(4);
			BufferStream.RangeHandle range63 = stream.GetRange(1);
			int position63 = stream.Position;
			VehicleLift.SerializeDelta(stream, instance.vehicleLift, previous.vehicleLift);
			int num69 = stream.Position - position63;
			if (num69 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleLift (ProtoBuf.VehicleLift)");
			}
			Span<byte> span63 = range63.GetSpan();
			ProtocolParser.WriteUInt32((uint)num69, span63, 0);
		}
		if (instance.engineStorage != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(4);
			BufferStream.RangeHandle range64 = stream.GetRange(1);
			int position64 = stream.Position;
			EngineStorage.SerializeDelta(stream, instance.engineStorage, previous.engineStorage);
			int num70 = stream.Position - position64;
			if (num70 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field engineStorage (ProtoBuf.EngineStorage)");
			}
			Span<byte> span64 = range64.GetSpan();
			ProtocolParser.WriteUInt32((uint)num70, span64, 0);
		}
		if (instance.vehicleVendor != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(4);
			BufferStream.RangeHandle range65 = stream.GetRange(5);
			int position65 = stream.Position;
			VehicleVendor.SerializeDelta(stream, instance.vehicleVendor, previous.vehicleVendor);
			int val24 = stream.Position - position65;
			Span<byte> span65 = range65.GetSpan();
			int num71 = ProtocolParser.WriteUInt32((uint)val24, span65, 0);
			if (num71 < 5)
			{
				span65[num71 - 1] |= 128;
				while (num71 < 4)
				{
					span65[num71++] = 128;
				}
				span65[4] = 0;
			}
		}
		if (instance.WaterPool != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(4);
			BufferStream.RangeHandle range66 = stream.GetRange(1);
			int position66 = stream.Position;
			WaterPool.SerializeDelta(stream, instance.WaterPool, previous.WaterPool);
			int num72 = stream.Position - position66;
			if (num72 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field WaterPool (ProtoBuf.WaterPool)");
			}
			Span<byte> span66 = range66.GetSpan();
			ProtocolParser.WriteUInt32((uint)num72, span66, 0);
		}
		if (instance.photo != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(4);
			BufferStream.RangeHandle range67 = stream.GetRange(1);
			int position67 = stream.Position;
			Photo.SerializeDelta(stream, instance.photo, previous.photo);
			int num73 = stream.Position - position67;
			if (num73 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photo (ProtoBuf.Photo)");
			}
			Span<byte> span67 = range67.GetSpan();
			ProtocolParser.WriteUInt32((uint)num73, span67, 0);
		}
		if (instance.photoFrame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(4);
			BufferStream.RangeHandle range68 = stream.GetRange(3);
			int position68 = stream.Position;
			PhotoFrame.SerializeDelta(stream, instance.photoFrame, previous.photoFrame);
			int num74 = stream.Position - position68;
			if (num74 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photoFrame (ProtoBuf.PhotoFrame)");
			}
			Span<byte> span68 = range68.GetSpan();
			int num75 = ProtocolParser.WriteUInt32((uint)num74, span68, 0);
			if (num75 < 3)
			{
				span68[num75 - 1] |= 128;
				while (num75 < 2)
				{
					span68[num75++] = 128;
				}
				span68[2] = 0;
			}
		}
		if (instance.vehicleModule != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(4);
			BufferStream.RangeHandle range69 = stream.GetRange(1);
			int position69 = stream.Position;
			VehicleModule.SerializeDelta(stream, instance.vehicleModule, previous.vehicleModule);
			int num76 = stream.Position - position69;
			if (num76 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleModule (ProtoBuf.VehicleModule)");
			}
			Span<byte> span69 = range69.GetSpan();
			ProtocolParser.WriteUInt32((uint)num76, span69, 0);
		}
		if (instance.mixingTable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(4);
			BufferStream.RangeHandle range70 = stream.GetRange(1);
			int position70 = stream.Position;
			MixingTable.SerializeDelta(stream, instance.mixingTable, previous.mixingTable);
			int num77 = stream.Position - position70;
			if (num77 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mixingTable (ProtoBuf.MixingTable)");
			}
			Span<byte> span70 = range70.GetSpan();
			ProtocolParser.WriteUInt32((uint)num77, span70, 0);
		}
		if (instance.shopKeeper != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(4);
			BufferStream.RangeHandle range71 = stream.GetRange(1);
			int position71 = stream.Position;
			ShopKeeper.SerializeDelta(stream, instance.shopKeeper, previous.shopKeeper);
			int num78 = stream.Position - position71;
			if (num78 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field shopKeeper (ProtoBuf.ShopKeeper)");
			}
			Span<byte> span71 = range71.GetSpan();
			ProtocolParser.WriteUInt32((uint)num78, span71, 0);
		}
		if (instance.elevator != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(4);
			BufferStream.RangeHandle range72 = stream.GetRange(1);
			int position72 = stream.Position;
			Elevator.SerializeDelta(stream, instance.elevator, previous.elevator);
			int num79 = stream.Position - position72;
			if (num79 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevator (ProtoBuf.Elevator)");
			}
			Span<byte> span72 = range72.GetSpan();
			ProtocolParser.WriteUInt32((uint)num79, span72, 0);
		}
		if (instance.skullTrophy != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(4);
			BufferStream.RangeHandle range73 = stream.GetRange(5);
			int position73 = stream.Position;
			SkullTrophy.SerializeDelta(stream, instance.skullTrophy, previous.skullTrophy);
			int val25 = stream.Position - position73;
			Span<byte> span73 = range73.GetSpan();
			int num80 = ProtocolParser.WriteUInt32((uint)val25, span73, 0);
			if (num80 < 5)
			{
				span73[num80 - 1] |= 128;
				while (num80 < 4)
				{
					span73[num80++] = 128;
				}
				span73[4] = 0;
			}
		}
		if (instance.cassette != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(4);
			BufferStream.RangeHandle range74 = stream.GetRange(1);
			int position74 = stream.Position;
			Cassette.SerializeDelta(stream, instance.cassette, previous.cassette);
			int num81 = stream.Position - position74;
			if (num81 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cassette (ProtoBuf.Cassette)");
			}
			Span<byte> span74 = range74.GetSpan();
			ProtocolParser.WriteUInt32((uint)num81, span74, 0);
		}
		if (instance.telephone != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(4);
			BufferStream.RangeHandle range75 = stream.GetRange(5);
			int position75 = stream.Position;
			Telephone.SerializeDelta(stream, instance.telephone, previous.telephone);
			int val26 = stream.Position - position75;
			Span<byte> span75 = range75.GetSpan();
			int num82 = ProtocolParser.WriteUInt32((uint)val26, span75, 0);
			if (num82 < 5)
			{
				span75[num82 - 1] |= 128;
				while (num82 < 4)
				{
					span75[num82++] = 128;
				}
				span75[4] = 0;
			}
		}
		if (instance.boomBox != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(4);
			BufferStream.RangeHandle range76 = stream.GetRange(5);
			int position76 = stream.Position;
			BoomBox.SerializeDelta(stream, instance.boomBox, previous.boomBox);
			int val27 = stream.Position - position76;
			Span<byte> span76 = range76.GetSpan();
			int num83 = ProtocolParser.WriteUInt32((uint)val27, span76, 0);
			if (num83 < 5)
			{
				span76[num83 - 1] |= 128;
				while (num83 < 4)
				{
					span76[num83++] = 128;
				}
				span76[4] = 0;
			}
		}
		if (instance.neonSign != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(4);
			BufferStream.RangeHandle range77 = stream.GetRange(3);
			int position77 = stream.Position;
			NeonSign.SerializeDelta(stream, instance.neonSign, previous.neonSign);
			int num84 = stream.Position - position77;
			if (num84 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field neonSign (ProtoBuf.NeonSign)");
			}
			Span<byte> span77 = range77.GetSpan();
			int num85 = ProtocolParser.WriteUInt32((uint)num84, span77, 0);
			if (num85 < 3)
			{
				span77[num85 - 1] |= 128;
				while (num85 < 2)
				{
					span77[num85++] = 128;
				}
				span77[2] = 0;
			}
		}
		if (instance.subEntityList != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(4);
			BufferStream.RangeHandle range78 = stream.GetRange(3);
			int position78 = stream.Position;
			SubEntityList.SerializeDelta(stream, instance.subEntityList, previous.subEntityList);
			int num86 = stream.Position - position78;
			if (num86 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field subEntityList (ProtoBuf.SubEntityList)");
			}
			Span<byte> span78 = range78.GetSpan();
			int num87 = ProtocolParser.WriteUInt32((uint)num86, span78, 0);
			if (num87 < 3)
			{
				span78[num87 - 1] |= 128;
				while (num87 < 2)
				{
					span78[num87++] = 128;
				}
				span78[2] = 0;
			}
		}
		if (instance.marketTerminal != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(5);
			BufferStream.RangeHandle range79 = stream.GetRange(5);
			int position79 = stream.Position;
			MarketTerminal.SerializeDelta(stream, instance.marketTerminal, previous.marketTerminal);
			int val28 = stream.Position - position79;
			Span<byte> span79 = range79.GetSpan();
			int num88 = ProtocolParser.WriteUInt32((uint)val28, span79, 0);
			if (num88 < 5)
			{
				span79[num88 - 1] |= 128;
				while (num88 < 4)
				{
					span79[num88++] = 128;
				}
				span79[4] = 0;
			}
		}
		if (instance.deliveryDrone != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(5);
			BufferStream.RangeHandle range80 = stream.GetRange(1);
			int position80 = stream.Position;
			DeliveryDrone.SerializeDelta(stream, instance.deliveryDrone, previous.deliveryDrone);
			int num89 = stream.Position - position80;
			if (num89 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field deliveryDrone (ProtoBuf.DeliveryDrone)");
			}
			Span<byte> span80 = range80.GetSpan();
			ProtocolParser.WriteUInt32((uint)num89, span80, 0);
		}
		if (instance.reclaimTerminal != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(5);
			BufferStream.RangeHandle range81 = stream.GetRange(1);
			int position81 = stream.Position;
			ReclaimTerminal.SerializeDelta(stream, instance.reclaimTerminal, previous.reclaimTerminal);
			int num90 = stream.Position - position81;
			if (num90 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field reclaimTerminal (ProtoBuf.ReclaimTerminal)");
			}
			Span<byte> span81 = range81.GetSpan();
			ProtocolParser.WriteUInt32((uint)num90, span81, 0);
		}
		if (instance.slotMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(5);
			BufferStream.RangeHandle range82 = stream.GetRange(1);
			int position82 = stream.Position;
			SlotMachine.SerializeDelta(stream, instance.slotMachine, previous.slotMachine);
			int num91 = stream.Position - position82;
			if (num91 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field slotMachine (ProtoBuf.SlotMachine)");
			}
			Span<byte> span82 = range82.GetSpan();
			ProtocolParser.WriteUInt32((uint)num91, span82, 0);
		}
		if (instance.trainEngine != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(5);
			BufferStream.RangeHandle range83 = stream.GetRange(1);
			int position83 = stream.Position;
			TrainEngine.SerializeDelta(stream, instance.trainEngine, previous.trainEngine);
			int num92 = stream.Position - position83;
			if (num92 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field trainEngine (ProtoBuf.TrainEngine)");
			}
			Span<byte> span83 = range83.GetSpan();
			ProtocolParser.WriteUInt32((uint)num92, span83, 0);
		}
		if (instance.cardGame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(5);
			BufferStream.RangeHandle range84 = stream.GetRange(5);
			int position84 = stream.Position;
			CardGame.SerializeDelta(stream, instance.cardGame, previous.cardGame);
			int num93 = stream.Position - position84;
			if (num93 > int.MaxValue)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cardGame (ProtoBuf.CardGame)");
			}
			Span<byte> span84 = range84.GetSpan();
			int num94 = ProtocolParser.WriteUInt32((uint)num93, span84, 0);
			if (num94 < 5)
			{
				span84[num94 - 1] |= 128;
				while (num94 < 4)
				{
					span84[num94++] = 128;
				}
				span84[4] = 0;
			}
		}
		if (instance.crane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(5);
			BufferStream.RangeHandle range85 = stream.GetRange(1);
			int position85 = stream.Position;
			Crane.SerializeDelta(stream, instance.crane, previous.crane);
			int num95 = stream.Position - position85;
			if (num95 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field crane (ProtoBuf.Crane)");
			}
			Span<byte> span85 = range85.GetSpan();
			ProtocolParser.WriteUInt32((uint)num95, span85, 0);
		}
		if (instance.connectedSpeaker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(5);
			BufferStream.RangeHandle range86 = stream.GetRange(1);
			int position86 = stream.Position;
			ConnectedSpeaker.SerializeDelta(stream, instance.connectedSpeaker, previous.connectedSpeaker);
			int num96 = stream.Position - position86;
			if (num96 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field connectedSpeaker (ProtoBuf.ConnectedSpeaker)");
			}
			Span<byte> span86 = range86.GetSpan();
			ProtocolParser.WriteUInt32((uint)num96, span86, 0);
		}
		if (instance.audioEntity != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(5);
			BufferStream.RangeHandle range87 = stream.GetRange(1);
			int position87 = stream.Position;
			AudioEntity.SerializeDelta(stream, instance.audioEntity, previous.audioEntity);
			int num97 = stream.Position - position87;
			if (num97 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field audioEntity (ProtoBuf.AudioEntity)");
			}
			Span<byte> span87 = range87.GetSpan();
			ProtocolParser.WriteUInt32((uint)num97, span87, 0);
		}
		if (instance.microphoneStand != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(5);
			BufferStream.RangeHandle range88 = stream.GetRange(1);
			int position88 = stream.Position;
			MicrophoneStand.SerializeDelta(stream, instance.microphoneStand, previous.microphoneStand);
			int num98 = stream.Position - position88;
			if (num98 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field microphoneStand (ProtoBuf.MicrophoneStand)");
			}
			Span<byte> span88 = range88.GetSpan();
			ProtocolParser.WriteUInt32((uint)num98, span88, 0);
		}
		if (instance.submarine != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(5);
			BufferStream.RangeHandle range89 = stream.GetRange(1);
			int position89 = stream.Position;
			Submarine.SerializeDelta(stream, instance.submarine, previous.submarine);
			int num99 = stream.Position - position89;
			if (num99 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field submarine (ProtoBuf.Submarine)");
			}
			Span<byte> span89 = range89.GetSpan();
			ProtocolParser.WriteUInt32((uint)num99, span89, 0);
		}
		if (instance.sleepingBagCamper != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(5);
			BufferStream.RangeHandle range90 = stream.GetRange(1);
			int position90 = stream.Position;
			SleepingBagCamper.SerializeDelta(stream, instance.sleepingBagCamper, previous.sleepingBagCamper);
			int num100 = stream.Position - position90;
			if (num100 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sleepingBagCamper (ProtoBuf.SleepingBagCamper)");
			}
			Span<byte> span90 = range90.GetSpan();
			ProtocolParser.WriteUInt32((uint)num100, span90, 0);
		}
		if (instance.camperModule != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(5);
			BufferStream.RangeHandle range91 = stream.GetRange(1);
			int position91 = stream.Position;
			CamperModule.SerializeDelta(stream, instance.camperModule, previous.camperModule);
			int num101 = stream.Position - position91;
			if (num101 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field camperModule (ProtoBuf.CamperModule)");
			}
			Span<byte> span91 = range91.GetSpan();
			ProtocolParser.WriteUInt32((uint)num101, span91, 0);
		}
		if (instance.paintableSign != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(5);
			BufferStream.RangeHandle range92 = stream.GetRange(3);
			int position92 = stream.Position;
			PaintableSign.SerializeDelta(stream, instance.paintableSign, previous.paintableSign);
			int num102 = stream.Position - position92;
			if (num102 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintableSign (ProtoBuf.PaintableSign)");
			}
			Span<byte> span92 = range92.GetSpan();
			int num103 = ProtocolParser.WriteUInt32((uint)num102, span92, 0);
			if (num103 < 3)
			{
				span92[num103 - 1] |= 128;
				while (num103 < 2)
				{
					span92[num103++] = 128;
				}
				span92[2] = 0;
			}
		}
		if (instance.whitelist != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(5);
			BufferStream.RangeHandle range93 = stream.GetRange(3);
			int position93 = stream.Position;
			Whitelist.SerializeDelta(stream, instance.whitelist, previous.whitelist);
			int num104 = stream.Position - position93;
			if (num104 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field whitelist (ProtoBuf.Whitelist)");
			}
			Span<byte> span93 = range93.GetSpan();
			int num105 = ProtocolParser.WriteUInt32((uint)num104, span93, 0);
			if (num105 < 3)
			{
				span93[num105 - 1] |= 128;
				while (num105 < 2)
				{
					span93[num105++] = 128;
				}
				span93[2] = 0;
			}
		}
		if (instance.FrankensteinTable != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(5);
			BufferStream.RangeHandle range94 = stream.GetRange(3);
			int position94 = stream.Position;
			FrankensteinTable.SerializeDelta(stream, instance.FrankensteinTable, previous.FrankensteinTable);
			int num106 = stream.Position - position94;
			if (num106 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field FrankensteinTable (ProtoBuf.FrankensteinTable)");
			}
			Span<byte> span94 = range94.GetSpan();
			int num107 = ProtocolParser.WriteUInt32((uint)num106, span94, 0);
			if (num107 < 3)
			{
				span94[num107 - 1] |= 128;
				while (num107 < 2)
				{
					span94[num107++] = 128;
				}
				span94[2] = 0;
			}
		}
		if (instance.mlrs != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(6);
			BufferStream.RangeHandle range95 = stream.GetRange(1);
			int position95 = stream.Position;
			MLRS.SerializeDelta(stream, instance.mlrs, previous.mlrs);
			int num108 = stream.Position - position95;
			if (num108 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mlrs (ProtoBuf.MLRS)");
			}
			Span<byte> span95 = range95.GetSpan();
			ProtocolParser.WriteUInt32((uint)num108, span95, 0);
		}
		if (instance.reclaimManager != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(6);
			BufferStream.RangeHandle range96 = stream.GetRange(5);
			int position96 = stream.Position;
			ReclaimManager.SerializeDelta(stream, instance.reclaimManager, previous.reclaimManager);
			int val29 = stream.Position - position96;
			Span<byte> span96 = range96.GetSpan();
			int num109 = ProtocolParser.WriteUInt32((uint)val29, span96, 0);
			if (num109 < 5)
			{
				span96[num109 - 1] |= 128;
				while (num109 < 4)
				{
					span96[num109++] = 128;
				}
				span96[4] = 0;
			}
		}
		if (instance.gameMode != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(6);
			BufferStream.RangeHandle range97 = stream.GetRange(5);
			int position97 = stream.Position;
			GameMode.SerializeDelta(stream, instance.gameMode, previous.gameMode);
			int val30 = stream.Position - position97;
			Span<byte> span97 = range97.GetSpan();
			int num110 = ProtocolParser.WriteUInt32((uint)val30, span97, 0);
			if (num110 < 5)
			{
				span97[num110 - 1] |= 128;
				while (num110 < 4)
				{
					span97[num110++] = 128;
				}
				span97[4] = 0;
			}
		}
		if (instance.snowmobile != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(6);
			BufferStream.RangeHandle range98 = stream.GetRange(1);
			int position98 = stream.Position;
			Snowmobile.SerializeDelta(stream, instance.snowmobile, previous.snowmobile);
			int num111 = stream.Position - position98;
			if (num111 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field snowmobile (ProtoBuf.Snowmobile)");
			}
			Span<byte> span98 = range98.GetSpan();
			ProtocolParser.WriteUInt32((uint)num111, span98, 0);
		}
		stream.WriteByte(160);
		stream.WriteByte(6);
		ProtocolParser.WriteBool(stream, instance.createdThisFrame);
		if (instance.patternFirework != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(6);
			BufferStream.RangeHandle range99 = stream.GetRange(3);
			int position99 = stream.Position;
			PatternFirework.SerializeDelta(stream, instance.patternFirework, previous.patternFirework);
			int num112 = stream.Position - position99;
			if (num112 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field patternFirework (ProtoBuf.PatternFirework)");
			}
			Span<byte> span99 = range99.GetSpan();
			int num113 = ProtocolParser.WriteUInt32((uint)num112, span99, 0);
			if (num113 < 3)
			{
				span99[num113 - 1] |= 128;
				while (num113 < 2)
				{
					span99[num113++] = 128;
				}
				span99[2] = 0;
			}
		}
		if (instance.cargoPlane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(6);
			BufferStream.RangeHandle range100 = stream.GetRange(1);
			int position100 = stream.Position;
			CargoPlane.SerializeDelta(stream, instance.cargoPlane, previous.cargoPlane);
			int num114 = stream.Position - position100;
			if (num114 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoPlane (ProtoBuf.CargoPlane)");
			}
			Span<byte> span100 = range100.GetSpan();
			ProtocolParser.WriteUInt32((uint)num114, span100, 0);
		}
		if (instance.paintedItem != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(6);
			BufferStream.RangeHandle range101 = stream.GetRange(1);
			int position101 = stream.Position;
			PaintedItem.SerializeDelta(stream, instance.paintedItem, previous.paintedItem);
			int num115 = stream.Position - position101;
			if (num115 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintedItem (ProtoBuf.PaintedItem)");
			}
			Span<byte> span101 = range101.GetSpan();
			ProtocolParser.WriteUInt32((uint)num115, span101, 0);
		}
		if (instance.clanManager != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(6);
			BufferStream.RangeHandle range102 = stream.GetRange(5);
			int position102 = stream.Position;
			ClanManager.SerializeDelta(stream, instance.clanManager, previous.clanManager);
			int val31 = stream.Position - position102;
			Span<byte> span102 = range102.GetSpan();
			int num116 = ProtocolParser.WriteUInt32((uint)val31, span102, 0);
			if (num116 < 5)
			{
				span102[num116 - 1] |= 128;
				while (num116 < 4)
				{
					span102[num116++] = 128;
				}
				span102[4] = 0;
			}
		}
		if (instance.spray != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(6);
			BufferStream.RangeHandle range103 = stream.GetRange(1);
			int position103 = stream.Position;
			Spray.SerializeDelta(stream, instance.spray, previous.spray);
			int num117 = stream.Position - position103;
			if (num117 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spray (ProtoBuf.Spray)");
			}
			Span<byte> span103 = range103.GetSpan();
			ProtocolParser.WriteUInt32((uint)num117, span103, 0);
		}
		if (instance.baseTrain != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(6);
			BufferStream.RangeHandle range104 = stream.GetRange(1);
			int position104 = stream.Position;
			BaseTrain.SerializeDelta(stream, instance.baseTrain, previous.baseTrain);
			int num118 = stream.Position - position104;
			if (num118 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseTrain (ProtoBuf.BaseTrain)");
			}
			Span<byte> span104 = range104.GetSpan();
			ProtocolParser.WriteUInt32((uint)num118, span104, 0);
		}
		if (instance.zipline != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(6);
			BufferStream.RangeHandle range105 = stream.GetRange(3);
			int position105 = stream.Position;
			Zipline.SerializeDelta(stream, instance.zipline, previous.zipline);
			int num119 = stream.Position - position105;
			if (num119 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field zipline (ProtoBuf.Zipline)");
			}
			Span<byte> span105 = range105.GetSpan();
			int num120 = ProtocolParser.WriteUInt32((uint)num119, span105, 0);
			if (num120 < 3)
			{
				span105[num120 - 1] |= 128;
				while (num120 < 2)
				{
					span105[num120++] = 128;
				}
				span105[2] = 0;
			}
		}
		if (instance.ziplineMountable != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(6);
			BufferStream.RangeHandle range106 = stream.GetRange(3);
			int position106 = stream.Position;
			ZiplineMountable.SerializeDelta(stream, instance.ziplineMountable, previous.ziplineMountable);
			int num121 = stream.Position - position106;
			if (num121 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ziplineMountable (ProtoBuf.ZiplineMountable)");
			}
			Span<byte> span106 = range106.GetSpan();
			int num122 = ProtocolParser.WriteUInt32((uint)num121, span106, 0);
			if (num122 < 3)
			{
				span106[num122 - 1] |= 128;
				while (num122 < 2)
				{
					span106[num122++] = 128;
				}
				span106[2] = 0;
			}
		}
		if (instance.ZiplineArrival != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(6);
			BufferStream.RangeHandle range107 = stream.GetRange(3);
			int position107 = stream.Position;
			ZiplineArrivalPoint.SerializeDelta(stream, instance.ZiplineArrival, previous.ZiplineArrival);
			int num123 = stream.Position - position107;
			if (num123 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ZiplineArrival (ProtoBuf.ZiplineArrivalPoint)");
			}
			Span<byte> span107 = range107.GetSpan();
			int num124 = ProtocolParser.WriteUInt32((uint)num123, span107, 0);
			if (num124 < 3)
			{
				span107[num124 - 1] |= 128;
				while (num124 < 2)
				{
					span107[num124++] = 128;
				}
				span107[2] = 0;
			}
		}
		if (instance.sprayLine != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(6);
			BufferStream.RangeHandle range108 = stream.GetRange(3);
			int position108 = stream.Position;
			SprayLine.SerializeDelta(stream, instance.sprayLine, previous.sprayLine);
			int num125 = stream.Position - position108;
			if (num125 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sprayLine (ProtoBuf.SprayLine)");
			}
			Span<byte> span108 = range108.GetSpan();
			int num126 = ProtocolParser.WriteUInt32((uint)num125, span108, 0);
			if (num126 < 3)
			{
				span108[num126 - 1] |= 128;
				while (num126 < 2)
				{
					span108[num126++] = 128;
				}
				span108[2] = 0;
			}
		}
		if (instance.coalingTower != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(6);
			BufferStream.RangeHandle range109 = stream.GetRange(1);
			int position109 = stream.Position;
			CoalingTower.SerializeDelta(stream, instance.coalingTower, previous.coalingTower);
			int num127 = stream.Position - position109;
			if (num127 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field coalingTower (ProtoBuf.CoalingTower)");
			}
			Span<byte> span109 = range109.GetSpan();
			ProtocolParser.WriteUInt32((uint)num127, span109, 0);
		}
		if (instance.simpleInt != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(7);
			BufferStream.RangeHandle range110 = stream.GetRange(1);
			int position110 = stream.Position;
			SimpleInt.SerializeDelta(stream, instance.simpleInt, previous.simpleInt);
			int num128 = stream.Position - position110;
			if (num128 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleInt (ProtoBuf.SimpleInt)");
			}
			Span<byte> span110 = range110.GetSpan();
			ProtocolParser.WriteUInt32((uint)num128, span110, 0);
		}
		if (instance.baseOven != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(7);
			BufferStream.RangeHandle range111 = stream.GetRange(3);
			int position111 = stream.Position;
			BaseOven.SerializeDelta(stream, instance.baseOven, previous.baseOven);
			int num129 = stream.Position - position111;
			if (num129 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseOven (ProtoBuf.BaseOven)");
			}
			Span<byte> span111 = range111.GetSpan();
			int num130 = ProtocolParser.WriteUInt32((uint)num129, span111, 0);
			if (num130 < 3)
			{
				span111[num130 - 1] |= 128;
				while (num130 < 2)
				{
					span111[num130++] = 128;
				}
				span111[2] = 0;
			}
		}
		if (instance.brainComponent != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(7);
			BufferStream.RangeHandle range112 = stream.GetRange(1);
			int position112 = stream.Position;
			BrainComponent.SerializeDelta(stream, instance.brainComponent, previous.brainComponent);
			int num131 = stream.Position - position112;
			if (num131 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field brainComponent (ProtoBuf.BrainComponent)");
			}
			Span<byte> span112 = range112.GetSpan();
			ProtocolParser.WriteUInt32((uint)num131, span112, 0);
		}
		if (instance.proceduralDungeon != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(7);
			BufferStream.RangeHandle range113 = stream.GetRange(1);
			int position113 = stream.Position;
			ProceduralDungeon.SerializeDelta(stream, instance.proceduralDungeon, previous.proceduralDungeon);
			int num132 = stream.Position - position113;
			if (num132 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field proceduralDungeon (ProtoBuf.ProceduralDungeon)");
			}
			Span<byte> span113 = range113.GetSpan();
			ProtocolParser.WriteUInt32((uint)num132, span113, 0);
		}
		if (instance.industrialConveyor != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(7);
			BufferStream.RangeHandle range114 = stream.GetRange(3);
			int position114 = stream.Position;
			IndustrialConveyor.SerializeDelta(stream, instance.industrialConveyor, previous.industrialConveyor);
			int num133 = stream.Position - position114;
			if (num133 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialConveyor (ProtoBuf.IndustrialConveyor)");
			}
			Span<byte> span114 = range114.GetSpan();
			int num134 = ProtocolParser.WriteUInt32((uint)num133, span114, 0);
			if (num134 < 3)
			{
				span114[num134 - 1] |= 128;
				while (num134 < 2)
				{
					span114[num134++] = 128;
				}
				span114[2] = 0;
			}
		}
		if (instance.industrialCrafter != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(7);
			BufferStream.RangeHandle range115 = stream.GetRange(1);
			int position115 = stream.Position;
			IndustrialCrafter.SerializeDelta(stream, instance.industrialCrafter, previous.industrialCrafter);
			int num135 = stream.Position - position115;
			if (num135 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialCrafter (ProtoBuf.IndustrialCrafter)");
			}
			Span<byte> span115 = range115.GetSpan();
			ProtocolParser.WriteUInt32((uint)num135, span115, 0);
		}
		if (instance.drone != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(7);
			BufferStream.RangeHandle range116 = stream.GetRange(1);
			int position116 = stream.Position;
			Drone.SerializeDelta(stream, instance.drone, previous.drone);
			int num136 = stream.Position - position116;
			if (num136 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field drone (ProtoBuf.Drone)");
			}
			Span<byte> span116 = range116.GetSpan();
			ProtocolParser.WriteUInt32((uint)num136, span116, 0);
		}
		if (instance.explosive != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(7);
			BufferStream.RangeHandle range117 = stream.GetRange(1);
			int position117 = stream.Position;
			TimedExplosive.SerializeDelta(stream, instance.explosive, previous.explosive);
			int num137 = stream.Position - position117;
			if (num137 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field explosive (ProtoBuf.TimedExplosive)");
			}
			Span<byte> span117 = range117.GetSpan();
			ProtocolParser.WriteUInt32((uint)num137, span117, 0);
		}
		if (instance.simpleUint != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(7);
			BufferStream.RangeHandle range118 = stream.GetRange(1);
			int position118 = stream.Position;
			SimpleUInt.SerializeDelta(stream, instance.simpleUint, previous.simpleUint);
			int num138 = stream.Position - position118;
			if (num138 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUint (ProtoBuf.SimpleUInt)");
			}
			Span<byte> span118 = range118.GetSpan();
			ProtocolParser.WriteUInt32((uint)num138, span118, 0);
		}
		if (instance.weaponRack != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(7);
			BufferStream.RangeHandle range119 = stream.GetRange(3);
			int position119 = stream.Position;
			WeaponRack.SerializeDelta(stream, instance.weaponRack, previous.weaponRack);
			int num139 = stream.Position - position119;
			if (num139 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field weaponRack (ProtoBuf.WeaponRack)");
			}
			Span<byte> span119 = range119.GetSpan();
			int num140 = ProtocolParser.WriteUInt32((uint)num139, span119, 0);
			if (num140 < 3)
			{
				span119[num140 - 1] |= 128;
				while (num140 < 2)
				{
					span119[num140++] = 128;
				}
				span119[2] = 0;
			}
		}
		if (instance.attackHeli != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(7);
			BufferStream.RangeHandle range120 = stream.GetRange(1);
			int position120 = stream.Position;
			AttackHeli.SerializeDelta(stream, instance.attackHeli, previous.attackHeli);
			int num141 = stream.Position - position120;
			if (num141 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeli (ProtoBuf.AttackHeli)");
			}
			Span<byte> span120 = range120.GetSpan();
			ProtocolParser.WriteUInt32((uint)num141, span120, 0);
		}
		if (instance.attackHeliTurret != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(7);
			BufferStream.RangeHandle range121 = stream.GetRange(1);
			int position121 = stream.Position;
			AttackHeliTurret.SerializeDelta(stream, instance.attackHeliTurret, previous.attackHeliTurret);
			int num142 = stream.Position - position121;
			if (num142 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliTurret (ProtoBuf.AttackHeliTurret)");
			}
			Span<byte> span121 = range121.GetSpan();
			ProtocolParser.WriteUInt32((uint)num142, span121, 0);
		}
		if (instance.attackHeliRockets != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(7);
			BufferStream.RangeHandle range122 = stream.GetRange(1);
			int position122 = stream.Position;
			AttackHeliRockets.SerializeDelta(stream, instance.attackHeliRockets, previous.attackHeliRockets);
			int num143 = stream.Position - position122;
			if (num143 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliRockets (ProtoBuf.AttackHeliRockets)");
			}
			Span<byte> span122 = range122.GetSpan();
			ProtocolParser.WriteUInt32((uint)num143, span122, 0);
		}
		if (instance.baseBoat != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(7);
			BufferStream.RangeHandle range123 = stream.GetRange(1);
			int position123 = stream.Position;
			BaseBoat.SerializeDelta(stream, instance.baseBoat, previous.baseBoat);
			int num144 = stream.Position - position123;
			if (num144 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseBoat (ProtoBuf.BaseBoat)");
			}
			Span<byte> span123 = range123.GetSpan();
			ProtocolParser.WriteUInt32((uint)num144, span123, 0);
		}
		if (instance.ragdoll != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(7);
			BufferStream.RangeHandle range124 = stream.GetRange(3);
			int position124 = stream.Position;
			Ragdoll.SerializeDelta(stream, instance.ragdoll, previous.ragdoll);
			int num145 = stream.Position - position124;
			if (num145 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ragdoll (ProtoBuf.Ragdoll)");
			}
			Span<byte> span124 = range124.GetSpan();
			int num146 = ProtocolParser.WriteUInt32((uint)num145, span124, 0);
			if (num146 < 3)
			{
				span124[num146 - 1] |= 128;
				while (num146 < 2)
				{
					span124[num146++] = 128;
				}
				span124[2] = 0;
			}
		}
		if (instance.dieselEngine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(7);
			BufferStream.RangeHandle range125 = stream.GetRange(1);
			int position125 = stream.Position;
			DieselEngine.SerializeDelta(stream, instance.dieselEngine, previous.dieselEngine);
			int num147 = stream.Position - position125;
			if (num147 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dieselEngine (ProtoBuf.DieselEngine)");
			}
			Span<byte> span125 = range125.GetSpan();
			ProtocolParser.WriteUInt32((uint)num147, span125, 0);
		}
		if (instance.associatedFiles != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(9);
			BufferStream.RangeHandle range126 = stream.GetRange(5);
			int position126 = stream.Position;
			AssociatedFiles.SerializeDelta(stream, instance.associatedFiles, previous.associatedFiles);
			int val32 = stream.Position - position126;
			Span<byte> span126 = range126.GetSpan();
			int num148 = ProtocolParser.WriteUInt32((uint)val32, span126, 0);
			if (num148 < 5)
			{
				span126[num148 - 1] |= 128;
				while (num148 < 4)
				{
					span126[num148++] = 128;
				}
				span126[4] = 0;
			}
		}
		if (instance.nexusFerry != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(9);
			BufferStream.RangeHandle range127 = stream.GetRange(5);
			int position127 = stream.Position;
			NexusFerry.SerializeDelta(stream, instance.nexusFerry, previous.nexusFerry);
			int val33 = stream.Position - position127;
			Span<byte> span127 = range127.GetSpan();
			int num149 = ProtocolParser.WriteUInt32((uint)val33, span127, 0);
			if (num149 < 5)
			{
				span127[num149 - 1] |= 128;
				while (num149 < 4)
				{
					span127[num149++] = 128;
				}
				span127[4] = 0;
			}
		}
		if (instance.nexusIsland != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(9);
			BufferStream.RangeHandle range128 = stream.GetRange(5);
			int position128 = stream.Position;
			NexusIsland.SerializeDelta(stream, instance.nexusIsland, previous.nexusIsland);
			int val34 = stream.Position - position128;
			Span<byte> span128 = range128.GetSpan();
			int num150 = ProtocolParser.WriteUInt32((uint)val34, span128, 0);
			if (num150 < 5)
			{
				span128[num150 - 1] |= 128;
				while (num150 < 4)
				{
					span128[num150++] = 128;
				}
				span128[4] = 0;
			}
		}
		if (instance.nexusDockTerminal != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(9);
			BufferStream.RangeHandle range129 = stream.GetRange(3);
			int position129 = stream.Position;
			NexusDockTerminal.SerializeDelta(stream, instance.nexusDockTerminal, previous.nexusDockTerminal);
			int num151 = stream.Position - position129;
			if (num151 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field nexusDockTerminal (ProtoBuf.NexusDockTerminal)");
			}
			Span<byte> span129 = range129.GetSpan();
			int num152 = ProtocolParser.WriteUInt32((uint)num151, span129, 0);
			if (num152 < 3)
			{
				span129[num152 - 1] |= 128;
				while (num152 < 2)
				{
					span129[num152++] = 128;
				}
				span129[2] = 0;
			}
		}
		if (instance.rockingChair != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(9);
			BufferStream.RangeHandle range130 = stream.GetRange(1);
			int position130 = stream.Position;
			RockingChair.SerializeDelta(stream, instance.rockingChair, previous.rockingChair);
			int num153 = stream.Position - position130;
			if (num153 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rockingChair (ProtoBuf.RockingChair)");
			}
			Span<byte> span130 = range130.GetSpan();
			ProtocolParser.WriteUInt32((uint)num153, span130, 0);
		}
		if (instance.headData != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(9);
			BufferStream.RangeHandle range131 = stream.GetRange(5);
			int position131 = stream.Position;
			HeadData.SerializeDelta(stream, instance.headData, previous.headData);
			int val35 = stream.Position - position131;
			Span<byte> span131 = range131.GetSpan();
			int num154 = ProtocolParser.WriteUInt32((uint)val35, span131, 0);
			if (num154 < 5)
			{
				span131[num154 - 1] |= 128;
				while (num154 < 4)
				{
					span131[num154++] = 128;
				}
				span131[4] = 0;
			}
		}
		if (instance.wantedPoster != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(9);
			BufferStream.RangeHandle range132 = stream.GetRange(5);
			int position132 = stream.Position;
			WantedPoster.SerializeDelta(stream, instance.wantedPoster, previous.wantedPoster);
			int val36 = stream.Position - position132;
			Span<byte> span132 = range132.GetSpan();
			int num155 = ProtocolParser.WriteUInt32((uint)val36, span132, 0);
			if (num155 < 5)
			{
				span132[num155 - 1] |= 128;
				while (num155 < 4)
				{
					span132[num155++] = 128;
				}
				span132[4] = 0;
			}
		}
		if (instance.waypointRace != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(9);
			BufferStream.RangeHandle range133 = stream.GetRange(3);
			int position133 = stream.Position;
			WaypointRace.SerializeDelta(stream, instance.waypointRace, previous.waypointRace);
			int num156 = stream.Position - position133;
			if (num156 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waypointRace (ProtoBuf.WaypointRace)");
			}
			Span<byte> span133 = range133.GetSpan();
			int num157 = ProtocolParser.WriteUInt32((uint)num156, span133, 0);
			if (num157 < 3)
			{
				span133[num157 - 1] |= 128;
				while (num157 < 2)
				{
					span133[num157++] = 128;
				}
				span133[2] = 0;
			}
		}
		if (instance.legacyShelter != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(9);
			BufferStream.RangeHandle range134 = stream.GetRange(1);
			int position134 = stream.Position;
			LegacyShelter.SerializeDelta(stream, instance.legacyShelter, previous.legacyShelter);
			int num158 = stream.Position - position134;
			if (num158 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field legacyShelter (ProtoBuf.LegacyShelter)");
			}
			Span<byte> span134 = range134.GetSpan();
			ProtocolParser.WriteUInt32((uint)num158, span134, 0);
		}
		if (instance.metalDetectorSource != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(10);
			BufferStream.RangeHandle range135 = stream.GetRange(3);
			int position135 = stream.Position;
			MetalDetectorSource.SerializeDelta(stream, instance.metalDetectorSource, previous.metalDetectorSource);
			int num159 = stream.Position - position135;
			if (num159 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field metalDetectorSource (ProtoBuf.MetalDetectorSource)");
			}
			Span<byte> span135 = range135.GetSpan();
			int num160 = ProtocolParser.WriteUInt32((uint)num159, span135, 0);
			if (num160 < 3)
			{
				span135[num160 - 1] |= 128;
				while (num160 < 2)
				{
					span135[num160++] = 128;
				}
				span135[2] = 0;
			}
		}
		if (instance.tutorialIsland != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(10);
			BufferStream.RangeHandle range136 = stream.GetRange(1);
			int position136 = stream.Position;
			TutorialIsland.SerializeDelta(stream, instance.tutorialIsland, previous.tutorialIsland);
			int num161 = stream.Position - position136;
			if (num161 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tutorialIsland (ProtoBuf.TutorialIsland)");
			}
			Span<byte> span136 = range136.GetSpan();
			ProtocolParser.WriteUInt32((uint)num161, span136, 0);
		}
		if (instance.cinematicEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(10);
			BufferStream.RangeHandle range137 = stream.GetRange(1);
			int position137 = stream.Position;
			CinematicEntity.SerializeDelta(stream, instance.cinematicEntity, previous.cinematicEntity);
			int num162 = stream.Position - position137;
			if (num162 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cinematicEntity (ProtoBuf.CinematicEntity)");
			}
			Span<byte> span137 = range137.GetSpan();
			ProtocolParser.WriteUInt32((uint)num162, span137, 0);
		}
		if (instance.buildingPrivilegeRetro != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(10);
			BufferStream.RangeHandle range138 = stream.GetRange(3);
			int position138 = stream.Position;
			BuildingPrivilegeRetro.SerializeDelta(stream, instance.buildingPrivilegeRetro, previous.buildingPrivilegeRetro);
			int num163 = stream.Position - position138;
			if (num163 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingPrivilegeRetro (ProtoBuf.BuildingPrivilegeRetro)");
			}
			Span<byte> span138 = range138.GetSpan();
			int num164 = ProtocolParser.WriteUInt32((uint)num163, span138, 0);
			if (num164 < 3)
			{
				span138[num164 - 1] |= 128;
				while (num164 < 2)
				{
					span138[num164++] = 128;
				}
				span138[2] = 0;
			}
		}
		if (instance.harborCrane != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(10);
			BufferStream.RangeHandle range139 = stream.GetRange(3);
			int position139 = stream.Position;
			HarborCrane.SerializeDelta(stream, instance.harborCrane, previous.harborCrane);
			int num165 = stream.Position - position139;
			if (num165 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field harborCrane (ProtoBuf.HarborCrane)");
			}
			Span<byte> span139 = range139.GetSpan();
			int num166 = ProtocolParser.WriteUInt32((uint)num165, span139, 0);
			if (num166 < 3)
			{
				span139[num166 - 1] |= 128;
				while (num166 < 2)
				{
					span139[num166++] = 128;
				}
				span139[2] = 0;
			}
		}
		if (instance.cargoShip != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(10);
			BufferStream.RangeHandle range140 = stream.GetRange(3);
			int position140 = stream.Position;
			CargoShip.SerializeDelta(stream, instance.cargoShip, previous.cargoShip);
			int num167 = stream.Position - position140;
			if (num167 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShip (ProtoBuf.CargoShip)");
			}
			Span<byte> span140 = range140.GetSpan();
			int num168 = ProtocolParser.WriteUInt32((uint)num167, span140, 0);
			if (num168 < 3)
			{
				span140[num168 - 1] |= 128;
				while (num168 < 2)
				{
					span140[num168++] = 128;
				}
				span140[2] = 0;
			}
		}
		if (instance.cargoShipContainer != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(10);
			BufferStream.RangeHandle range141 = stream.GetRange(1);
			int position141 = stream.Position;
			CargoShipContainer.SerializeDelta(stream, instance.cargoShipContainer, previous.cargoShipContainer);
			int num169 = stream.Position - position141;
			if (num169 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShipContainer (ProtoBuf.CargoShipContainer)");
			}
			Span<byte> span141 = range141.GetSpan();
			ProtocolParser.WriteUInt32((uint)num169, span141, 0);
		}
		if (instance.missionMapMarker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(10);
			BufferStream.RangeHandle range142 = stream.GetRange(5);
			int position142 = stream.Position;
			MissionMapMarker.SerializeDelta(stream, instance.missionMapMarker, previous.missionMapMarker);
			int val37 = stream.Position - position142;
			Span<byte> span142 = range142.GetSpan();
			int num170 = ProtocolParser.WriteUInt32((uint)val37, span142, 0);
			if (num170 < 5)
			{
				span142[num170 - 1] |= 128;
				while (num170 < 4)
				{
					span142[num170++] = 128;
				}
				span142[4] = 0;
			}
		}
		if (instance.bike != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(10);
			BufferStream.RangeHandle range143 = stream.GetRange(1);
			int position143 = stream.Position;
			Bike.SerializeDelta(stream, instance.bike, previous.bike);
			int num171 = stream.Position - position143;
			if (num171 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bike (ProtoBuf.Bike)");
			}
			Span<byte> span143 = range143.GetSpan();
			ProtocolParser.WriteUInt32((uint)num171, span143, 0);
		}
		if (instance.diverPropulsionVehicle != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(10);
			BufferStream.RangeHandle range144 = stream.GetRange(1);
			int position144 = stream.Position;
			DiverPropulsionVehicle.SerializeDelta(stream, instance.diverPropulsionVehicle, previous.diverPropulsionVehicle);
			int num172 = stream.Position - position144;
			if (num172 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field diverPropulsionVehicle (ProtoBuf.DiverPropulsionVehicle)");
			}
			Span<byte> span144 = range144.GetSpan();
			ProtocolParser.WriteUInt32((uint)num172, span144, 0);
		}
		if (instance.travellingVendor != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(10);
			BufferStream.RangeHandle range145 = stream.GetRange(1);
			int position145 = stream.Position;
			TravellingVendor.SerializeDelta(stream, instance.travellingVendor, previous.travellingVendor);
			int num173 = stream.Position - position145;
			if (num173 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field travellingVendor (ProtoBuf.TravellingVendor)");
			}
			Span<byte> span145 = range145.GetSpan();
			ProtocolParser.WriteUInt32((uint)num173, span145, 0);
		}
		if (instance.vendingDynamicPricing != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(10);
			BufferStream.RangeHandle range146 = stream.GetRange(3);
			int position146 = stream.Position;
			VendingDynamicPricing.SerializeDelta(stream, instance.vendingDynamicPricing, previous.vendingDynamicPricing);
			int num174 = stream.Position - position146;
			if (num174 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingDynamicPricing (ProtoBuf.VendingDynamicPricing)");
			}
			Span<byte> span146 = range146.GetSpan();
			int num175 = ProtocolParser.WriteUInt32((uint)num174, span146, 0);
			if (num175 < 3)
			{
				span146[num175 - 1] |= 128;
				while (num175 < 2)
				{
					span146[num175++] = 128;
				}
				span146[2] = 0;
			}
		}
		if (instance.tinCanAlarm != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(11);
			BufferStream.RangeHandle range147 = stream.GetRange(1);
			int position147 = stream.Position;
			TinCanAlarm.SerializeDelta(stream, instance.tinCanAlarm, previous.tinCanAlarm);
			int num176 = stream.Position - position147;
			if (num176 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tinCanAlarm (ProtoBuf.TinCanAlarm)");
			}
			Span<byte> span147 = range147.GetSpan();
			ProtocolParser.WriteUInt32((uint)num176, span147, 0);
		}
		if (instance.digitalClock != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(11);
			BufferStream.RangeHandle range148 = stream.GetRange(3);
			int position148 = stream.Position;
			DigitalClock.SerializeDelta(stream, instance.digitalClock, previous.digitalClock);
			int num177 = stream.Position - position148;
			if (num177 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field digitalClock (ProtoBuf.DigitalClock)");
			}
			Span<byte> span148 = range148.GetSpan();
			int num178 = ProtocolParser.WriteUInt32((uint)num177, span148, 0);
			if (num178 < 3)
			{
				span148[num178 - 1] |= 128;
				while (num178 < 2)
				{
					span148[num178++] = 128;
				}
				span148[2] = 0;
			}
		}
		if (instance.elevatorLift != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(11);
			BufferStream.RangeHandle range149 = stream.GetRange(1);
			int position149 = stream.Position;
			ElevatorLift.SerializeDelta(stream, instance.elevatorLift, previous.elevatorLift);
			int num179 = stream.Position - position149;
			if (num179 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevatorLift (ProtoBuf.ElevatorLift)");
			}
			Span<byte> span149 = range149.GetSpan();
			ProtocolParser.WriteUInt32((uint)num179, span149, 0);
		}
		if (instance.npcVendingMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(11);
			BufferStream.RangeHandle range150 = stream.GetRange(1);
			int position150 = stream.Position;
			NPCVendingMachine.SerializeDelta(stream, instance.npcVendingMachine, previous.npcVendingMachine);
			int num180 = stream.Position - position150;
			if (num180 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcVendingMachine (ProtoBuf.NPCVendingMachine)");
			}
			Span<byte> span150 = range150.GetSpan();
			ProtocolParser.WriteUInt32((uint)num180, span150, 0);
		}
		if (instance.mailbox != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(11);
			BufferStream.RangeHandle range151 = stream.GetRange(5);
			int position151 = stream.Position;
			Mailbox.SerializeDelta(stream, instance.mailbox, previous.mailbox);
			int val38 = stream.Position - position151;
			Span<byte> span151 = range151.GetSpan();
			int num181 = ProtocolParser.WriteUInt32((uint)val38, span151, 0);
			if (num181 < 5)
			{
				span151[num181 - 1] |= 128;
				while (num181 < 4)
				{
					span151[num181++] = 128;
				}
				span151[4] = 0;
			}
		}
		if (instance.projectileWeaponMod != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(11);
			BufferStream.RangeHandle range152 = stream.GetRange(1);
			int position152 = stream.Position;
			GunWeaponMod.SerializeDelta(stream, instance.projectileWeaponMod, previous.projectileWeaponMod);
			int num182 = stream.Position - position152;
			if (num182 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field projectileWeaponMod (ProtoBuf.GunWeaponMod)");
			}
			Span<byte> span152 = range152.GetSpan();
			ProtocolParser.WriteUInt32((uint)num182, span152, 0);
		}
		if (instance.baseSculpture != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(11);
			BufferStream.RangeHandle range153 = stream.GetRange(1);
			int position153 = stream.Position;
			BaseSculpture.SerializeDelta(stream, instance.baseSculpture, previous.baseSculpture);
			int num183 = stream.Position - position153;
			if (num183 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseSculpture (ProtoBuf.BaseSculpture)");
			}
			Span<byte> span153 = range153.GetSpan();
			ProtocolParser.WriteUInt32((uint)num183, span153, 0);
		}
		if (instance.vendingMachineStats != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(11);
			BufferStream.RangeHandle range154 = stream.GetRange(3);
			int position154 = stream.Position;
			VendingMachineStats.SerializeDelta(stream, instance.vendingMachineStats, previous.vendingMachineStats);
			int num184 = stream.Position - position154;
			if (num184 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingMachineStats (ProtoBuf.VendingMachineStats)");
			}
			Span<byte> span154 = range154.GetSpan();
			int num185 = ProtocolParser.WriteUInt32((uint)num184, span154, 0);
			if (num185 < 3)
			{
				span154[num185 - 1] |= 128;
				while (num185 < 2)
				{
					span154[num185++] = 128;
				}
				span154[2] = 0;
			}
		}
		if (instance.catapult != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(11);
			BufferStream.RangeHandle range155 = stream.GetRange(1);
			int position155 = stream.Position;
			Catapult.SerializeDelta(stream, instance.catapult, previous.catapult);
			int num186 = stream.Position - position155;
			if (num186 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field catapult (ProtoBuf.Catapult)");
			}
			Span<byte> span155 = range155.GetSpan();
			ProtocolParser.WriteUInt32((uint)num186, span155, 0);
		}
		if (instance.siegeTower != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(11);
			BufferStream.RangeHandle range156 = stream.GetRange(1);
			int position156 = stream.Position;
			SiegeTower.SerializeDelta(stream, instance.siegeTower, previous.siegeTower);
			int num187 = stream.Position - position156;
			if (num187 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field siegeTower (ProtoBuf.SiegeTower)");
			}
			Span<byte> span156 = range156.GetSpan();
			ProtocolParser.WriteUInt32((uint)num187, span156, 0);
		}
		if (instance.ballista != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(11);
			BufferStream.RangeHandle range157 = stream.GetRange(1);
			int position157 = stream.Position;
			Ballista.SerializeDelta(stream, instance.ballista, previous.ballista);
			int num188 = stream.Position - position157;
			if (num188 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballista (ProtoBuf.Ballista)");
			}
			Span<byte> span157 = range157.GetSpan();
			ProtocolParser.WriteUInt32((uint)num188, span157, 0);
		}
		if (instance.ballistaGun != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(11);
			BufferStream.RangeHandle range158 = stream.GetRange(1);
			int position158 = stream.Position;
			BallistaGun.SerializeDelta(stream, instance.ballistaGun, previous.ballistaGun);
			int num189 = stream.Position - position158;
			if (num189 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballistaGun (ProtoBuf.BallistaGun)");
			}
			Span<byte> span158 = range158.GetSpan();
			ProtocolParser.WriteUInt32((uint)num189, span158, 0);
		}
		if (instance.batteringRam != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(11);
			BufferStream.RangeHandle range159 = stream.GetRange(1);
			int position159 = stream.Position;
			BatteringRam.SerializeDelta(stream, instance.batteringRam, previous.batteringRam);
			int num190 = stream.Position - position159;
			if (num190 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field batteringRam (ProtoBuf.BatteringRam)");
			}
			Span<byte> span159 = range159.GetSpan();
			ProtocolParser.WriteUInt32((uint)num190, span159, 0);
		}
		if (instance.temporaryRagdoll != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(11);
			BufferStream.RangeHandle range160 = stream.GetRange(1);
			int position160 = stream.Position;
			TemporaryRagdoll.SerializeDelta(stream, instance.temporaryRagdoll, previous.temporaryRagdoll);
			int num191 = stream.Position - position160;
			if (num191 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field temporaryRagdoll (ProtoBuf.TemporaryRagdoll)");
			}
			Span<byte> span160 = range160.GetSpan();
			ProtocolParser.WriteUInt32((uint)num191, span160, 0);
		}
		if (instance.constructableEntity != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(11);
			BufferStream.RangeHandle range161 = stream.GetRange(3);
			int position161 = stream.Position;
			ConstructableEntity.SerializeDelta(stream, instance.constructableEntity, previous.constructableEntity);
			int num192 = stream.Position - position161;
			if (num192 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field constructableEntity (ProtoBuf.ConstructableEntity)");
			}
			Span<byte> span161 = range161.GetSpan();
			int num193 = ProtocolParser.WriteUInt32((uint)num192, span161, 0);
			if (num193 < 3)
			{
				span161[num193 - 1] |= 128;
				while (num193 < 2)
				{
					span161[num193++] = 128;
				}
				span161[2] = 0;
			}
		}
		if (instance.chickenCoop != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(12);
			BufferStream.RangeHandle range162 = stream.GetRange(3);
			int position162 = stream.Position;
			ChickenCoop.SerializeDelta(stream, instance.chickenCoop, previous.chickenCoop);
			int num194 = stream.Position - position162;
			if (num194 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field chickenCoop (ProtoBuf.ChickenCoop)");
			}
			Span<byte> span162 = range162.GetSpan();
			int num195 = ProtocolParser.WriteUInt32((uint)num194, span162, 0);
			if (num195 < 3)
			{
				span162[num195 - 1] |= 128;
				while (num195 < 2)
				{
					span162[num195++] = 128;
				}
				span162[2] = 0;
			}
		}
		if (instance.farmableAnimal != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(12);
			BufferStream.RangeHandle range163 = stream.GetRange(5);
			int position163 = stream.Position;
			FarmableAnimal.SerializeDelta(stream, instance.farmableAnimal, previous.farmableAnimal);
			int val39 = stream.Position - position163;
			Span<byte> span163 = range163.GetSpan();
			int num196 = ProtocolParser.WriteUInt32((uint)val39, span163, 0);
			if (num196 < 5)
			{
				span163[num196 - 1] |= 128;
				while (num196 < 4)
				{
					span163[num196++] = 128;
				}
				span163[4] = 0;
			}
		}
		if (instance.ownership != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(12);
			BufferStream.RangeHandle range164 = stream.GetRange(5);
			int position164 = stream.Position;
			ItemOwnershipAmount.SerializeDelta(stream, instance.ownership, previous.ownership);
			int val40 = stream.Position - position164;
			Span<byte> span164 = range164.GetSpan();
			int num197 = ProtocolParser.WriteUInt32((uint)val40, span164, 0);
			if (num197 < 5)
			{
				span164[num197 - 1] |= 128;
				while (num197 < 4)
				{
					span164[num197++] = 128;
				}
				span164[4] = 0;
			}
		}
		if (instance.beehive != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(12);
			BufferStream.RangeHandle range165 = stream.GetRange(1);
			int position165 = stream.Position;
			Beehive.SerializeDelta(stream, instance.beehive, previous.beehive);
			int num198 = stream.Position - position165;
			if (num198 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beehive (ProtoBuf.Beehive)");
			}
			Span<byte> span165 = range165.GetSpan();
			ProtocolParser.WriteUInt32((uint)num198, span165, 0);
		}
		if (instance.beeMasterSwarm != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(12);
			BufferStream.RangeHandle range166 = stream.GetRange(1);
			int position166 = stream.Position;
			BeeMasterSwarm.SerializeDelta(stream, instance.beeMasterSwarm, previous.beeMasterSwarm);
			int num199 = stream.Position - position166;
			if (num199 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beeMasterSwarm (ProtoBuf.BeeMasterSwarm)");
			}
			Span<byte> span166 = range166.GetSpan();
			ProtocolParser.WriteUInt32((uint)num199, span166, 0);
		}
		if (instance.containerCorpse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(12);
			BufferStream.RangeHandle range167 = stream.GetRange(5);
			int position167 = stream.Position;
			ContainerCorpseData.SerializeDelta(stream, instance.containerCorpse, previous.containerCorpse);
			int val41 = stream.Position - position167;
			Span<byte> span167 = range167.GetSpan();
			int num200 = ProtocolParser.WriteUInt32((uint)val41, span167, 0);
			if (num200 < 5)
			{
				span167[num200 - 1] |= 128;
				while (num200 < 4)
				{
					span167[num200++] = 128;
				}
				span167[4] = 0;
			}
		}
		if (instance.npcSensesState != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(12);
			BufferStream.RangeHandle range168 = stream.GetRange(1);
			int position168 = stream.Position;
			NPCSensesState.SerializeDelta(stream, instance.npcSensesState, previous.npcSensesState);
			int num201 = stream.Position - position168;
			if (num201 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcSensesState (ProtoBuf.NPCSensesState)");
			}
			Span<byte> span168 = range168.GetSpan();
			ProtocolParser.WriteUInt32((uint)num201, span168, 0);
		}
		if (instance.vineMountable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(12);
			BufferStream.RangeHandle range169 = stream.GetRange(3);
			int position169 = stream.Position;
			VineMountable.SerializeDelta(stream, instance.vineMountable, previous.vineMountable);
			int num202 = stream.Position - position169;
			if (num202 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineMountable (ProtoBuf.VineMountable)");
			}
			Span<byte> span169 = range169.GetSpan();
			int num203 = ProtocolParser.WriteUInt32((uint)num202, span169, 0);
			if (num203 < 3)
			{
				span169[num203 - 1] |= 128;
				while (num203 < 2)
				{
					span169[num203++] = 128;
				}
				span169[2] = 0;
			}
		}
		if (instance.vineTree != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(12);
			BufferStream.RangeHandle range170 = stream.GetRange(3);
			int position170 = stream.Position;
			VineTree.SerializeDelta(stream, instance.vineTree, previous.vineTree);
			int num204 = stream.Position - position170;
			if (num204 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineTree (ProtoBuf.VineTree)");
			}
			Span<byte> span170 = range170.GetSpan();
			int num205 = ProtocolParser.WriteUInt32((uint)num204, span170, 0);
			if (num205 < 3)
			{
				span170[num205 - 1] |= 128;
				while (num205 < 2)
				{
					span170[num205++] = 128;
				}
				span170[2] = 0;
			}
		}
		if (instance.treeRespawn != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(12);
			BufferStream.RangeHandle range171 = stream.GetRange(1);
			int position171 = stream.Position;
			TreeRespawn.SerializeDelta(stream, instance.treeRespawn, previous.treeRespawn);
			int num206 = stream.Position - position171;
			if (num206 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field treeRespawn (ProtoBuf.TreeRespawn)");
			}
			Span<byte> span171 = range171.GetSpan();
			ProtocolParser.WriteUInt32((uint)num206, span171, 0);
		}
		if (instance.wallpaperTool != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(12);
			BufferStream.RangeHandle range172 = stream.GetRange(1);
			int position172 = stream.Position;
			WallpaperTool.SerializeDelta(stream, instance.wallpaperTool, previous.wallpaperTool);
			int num207 = stream.Position - position172;
			if (num207 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field wallpaperTool (ProtoBuf.WallpaperTool)");
			}
			Span<byte> span172 = range172.GetSpan();
			ProtocolParser.WriteUInt32((uint)num207, span172, 0);
		}
		if (instance.commandBlock != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(12);
			BufferStream.RangeHandle range173 = stream.GetRange(5);
			int position173 = stream.Position;
			CommandBlock.SerializeDelta(stream, instance.commandBlock, previous.commandBlock);
			int val42 = stream.Position - position173;
			Span<byte> span173 = range173.GetSpan();
			int num208 = ProtocolParser.WriteUInt32((uint)val42, span173, 0);
			if (num208 < 5)
			{
				span173[num208 - 1] |= 128;
				while (num208 < 4)
				{
					span173[num208++] = 128;
				}
				span173[4] = 0;
			}
		}
		if (instance.staticRespawn != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(12);
			BufferStream.RangeHandle range174 = stream.GetRange(3);
			int position174 = stream.Position;
			StaticRespawnAreaData.SerializeDelta(stream, instance.staticRespawn, previous.staticRespawn);
			int num209 = stream.Position - position174;
			if (num209 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field staticRespawn (ProtoBuf.StaticRespawnAreaData)");
			}
			Span<byte> span174 = range174.GetSpan();
			int num210 = ProtocolParser.WriteUInt32((uint)num209, span174, 0);
			if (num210 < 3)
			{
				span174[num210 - 1] |= 128;
				while (num210 < 2)
				{
					span174[num210++] = 128;
				}
				span174[2] = 0;
			}
		}
		if (instance.buriedItemStorage != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(12);
			BufferStream.RangeHandle range175 = stream.GetRange(5);
			int position175 = stream.Position;
			BuriedItems.SerializeDelta(stream, instance.buriedItemStorage, previous.buriedItemStorage);
			int val43 = stream.Position - position175;
			Span<byte> span175 = range175.GetSpan();
			int num211 = ProtocolParser.WriteUInt32((uint)val43, span175, 0);
			if (num211 < 5)
			{
				span175[num211 - 1] |= 128;
				while (num211 < 4)
				{
					span175[num211++] = 128;
				}
				span175[4] = 0;
			}
		}
		if (instance.mannequin != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(12);
			BufferStream.RangeHandle range176 = stream.GetRange(3);
			int position176 = stream.Position;
			Mannequin.SerializeDelta(stream, instance.mannequin, previous.mannequin);
			int num212 = stream.Position - position176;
			if (num212 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mannequin (ProtoBuf.Mannequin)");
			}
			Span<byte> span176 = range176.GetSpan();
			int num213 = ProtocolParser.WriteUInt32((uint)num212, span176, 0);
			if (num213 < 3)
			{
				span176[num213 - 1] |= 128;
				while (num213 < 2)
				{
					span176[num213++] = 128;
				}
				span176[2] = 0;
			}
		}
		if (instance.baseMelee != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(12);
			BufferStream.RangeHandle range177 = stream.GetRange(1);
			int position177 = stream.Position;
			BaseMelee.SerializeDelta(stream, instance.baseMelee, previous.baseMelee);
			int num214 = stream.Position - position177;
			if (num214 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseMelee (ProtoBuf.BaseMelee)");
			}
			Span<byte> span177 = range177.GetSpan();
			ProtocolParser.WriteUInt32((uint)num214, span177, 0);
		}
		if (instance.door != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(13);
			BufferStream.RangeHandle range178 = stream.GetRange(1);
			int position178 = stream.Position;
			Door.SerializeDelta(stream, instance.door, previous.door);
			int num215 = stream.Position - position178;
			if (num215 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field door (ProtoBuf.Door)");
			}
			Span<byte> span178 = range178.GetSpan();
			ProtocolParser.WriteUInt32((uint)num215, span178, 0);
		}
		if (instance.storageAdaptor != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(13);
			BufferStream.RangeHandle range179 = stream.GetRange(5);
			int position179 = stream.Position;
			StorageAdaptor.SerializeDelta(stream, instance.storageAdaptor, previous.storageAdaptor);
			int val44 = stream.Position - position179;
			Span<byte> span179 = range179.GetSpan();
			int num216 = ProtocolParser.WriteUInt32((uint)val44, span179, 0);
			if (num216 < 5)
			{
				span179[num216 - 1] |= 128;
				while (num216 < 4)
				{
					span179[num216++] = 128;
				}
				span179[4] = 0;
			}
		}
		if (instance.helicopterFlares != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(13);
			BufferStream.RangeHandle range180 = stream.GetRange(1);
			int position180 = stream.Position;
			HelicopterFlares.SerializeDelta(stream, instance.helicopterFlares, previous.helicopterFlares);
			int num217 = stream.Position - position180;
			if (num217 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field helicopterFlares (ProtoBuf.HelicopterFlares)");
			}
			Span<byte> span180 = range180.GetSpan();
			ProtocolParser.WriteUInt32((uint)num217, span180, 0);
		}
		if (instance.wipeLaptop != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(13);
			BufferStream.RangeHandle range181 = stream.GetRange(1);
			int position181 = stream.Position;
			WipeLaptop.SerializeDelta(stream, instance.wipeLaptop, previous.wipeLaptop);
			int num218 = stream.Position - position181;
			if (num218 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field wipeLaptop (ProtoBuf.WipeLaptop)");
			}
			Span<byte> span181 = range181.GetSpan();
			ProtocolParser.WriteUInt32((uint)num218, span181, 0);
		}
	}

	public static void Serialize(BufferStream stream, Entity instance)
	{
		if (instance.baseNetworkable != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			BaseNetworkable.Serialize(stream, instance.baseNetworkable);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNetworkable (ProtoBuf.BaseNetworkable)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.baseEntity != null)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(5);
			int position2 = stream.Position;
			BaseEntity.Serialize(stream, instance.baseEntity);
			int val = stream.Position - position2;
			Span<byte> span2 = range2.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)val, span2, 0);
			if (num2 < 5)
			{
				span2[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span2[num2++] = 128;
				}
				span2[4] = 0;
			}
		}
		if (instance.basePlayer != null)
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			BasePlayer.Serialize(stream, instance.basePlayer);
			int val2 = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val2, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
		if (instance.worldItem != null)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(5);
			int position4 = stream.Position;
			WorldItem.Serialize(stream, instance.worldItem);
			int val3 = stream.Position - position4;
			Span<byte> span4 = range4.GetSpan();
			int num4 = ProtocolParser.WriteUInt32((uint)val3, span4, 0);
			if (num4 < 5)
			{
				span4[num4 - 1] |= 128;
				while (num4 < 4)
				{
					span4[num4++] = 128;
				}
				span4[4] = 0;
			}
		}
		if (instance.resource != null)
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range5 = stream.GetRange(1);
			int position5 = stream.Position;
			BaseResource.Serialize(stream, instance.resource);
			int num5 = stream.Position - position5;
			if (num5 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field resource (ProtoBuf.BaseResource)");
			}
			Span<byte> span5 = range5.GetSpan();
			ProtocolParser.WriteUInt32((uint)num5, span5, 0);
		}
		if (instance.buildingBlock != null)
		{
			stream.WriteByte(50);
			BufferStream.RangeHandle range6 = stream.GetRange(1);
			int position6 = stream.Position;
			BuildingBlock.Serialize(stream, instance.buildingBlock);
			int num6 = stream.Position - position6;
			if (num6 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingBlock (ProtoBuf.BuildingBlock)");
			}
			Span<byte> span6 = range6.GetSpan();
			ProtocolParser.WriteUInt32((uint)num6, span6, 0);
		}
		if (instance.environment != null)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range7 = stream.GetRange(1);
			int position7 = stream.Position;
			ProtoBuf.Environment.Serialize(stream, instance.environment);
			int num7 = stream.Position - position7;
			if (num7 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field environment (ProtoBuf.Environment)");
			}
			Span<byte> span7 = range7.GetSpan();
			ProtocolParser.WriteUInt32((uint)num7, span7, 0);
		}
		if (instance.corpse != null)
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range8 = stream.GetRange(1);
			int position8 = stream.Position;
			Corpse.Serialize(stream, instance.corpse);
			int num8 = stream.Position - position8;
			if (num8 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field corpse (ProtoBuf.Corpse)");
			}
			Span<byte> span8 = range8.GetSpan();
			ProtocolParser.WriteUInt32((uint)num8, span8, 0);
		}
		if (instance.parent != null)
		{
			stream.WriteByte(82);
			BufferStream.RangeHandle range9 = stream.GetRange(1);
			int position9 = stream.Position;
			ParentInfo.Serialize(stream, instance.parent);
			int num9 = stream.Position - position9;
			if (num9 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field parent (ProtoBuf.ParentInfo)");
			}
			Span<byte> span9 = range9.GetSpan();
			ProtocolParser.WriteUInt32((uint)num9, span9, 0);
		}
		if (instance.keyLock != null)
		{
			stream.WriteByte(90);
			BufferStream.RangeHandle range10 = stream.GetRange(1);
			int position10 = stream.Position;
			KeyLock.Serialize(stream, instance.keyLock);
			int num10 = stream.Position - position10;
			if (num10 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field keyLock (ProtoBuf.KeyLock)");
			}
			Span<byte> span10 = range10.GetSpan();
			ProtocolParser.WriteUInt32((uint)num10, span10, 0);
		}
		if (instance.codeLock != null)
		{
			stream.WriteByte(98);
			BufferStream.RangeHandle range11 = stream.GetRange(5);
			int position11 = stream.Position;
			CodeLock.Serialize(stream, instance.codeLock);
			int val4 = stream.Position - position11;
			Span<byte> span11 = range11.GetSpan();
			int num11 = ProtocolParser.WriteUInt32((uint)val4, span11, 0);
			if (num11 < 5)
			{
				span11[num11 - 1] |= 128;
				while (num11 < 4)
				{
					span11[num11++] = 128;
				}
				span11[4] = 0;
			}
		}
		if (instance.entitySlots != null)
		{
			stream.WriteByte(106);
			BufferStream.RangeHandle range12 = stream.GetRange(1);
			int position12 = stream.Position;
			EntitySlots.Serialize(stream, instance.entitySlots);
			int num12 = stream.Position - position12;
			if (num12 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field entitySlots (ProtoBuf.EntitySlots)");
			}
			Span<byte> span12 = range12.GetSpan();
			ProtocolParser.WriteUInt32((uint)num12, span12, 0);
		}
		if (instance.buildingPrivilege != null)
		{
			stream.WriteByte(114);
			BufferStream.RangeHandle range13 = stream.GetRange(5);
			int position13 = stream.Position;
			BuildingPrivilege.Serialize(stream, instance.buildingPrivilege);
			int val5 = stream.Position - position13;
			Span<byte> span13 = range13.GetSpan();
			int num13 = ProtocolParser.WriteUInt32((uint)val5, span13, 0);
			if (num13 < 5)
			{
				span13[num13 - 1] |= 128;
				while (num13 < 4)
				{
					span13[num13++] = 128;
				}
				span13[4] = 0;
			}
		}
		if (instance.storageBox != null)
		{
			stream.WriteByte(122);
			BufferStream.RangeHandle range14 = stream.GetRange(5);
			int position14 = stream.Position;
			StorageBox.Serialize(stream, instance.storageBox);
			int val6 = stream.Position - position14;
			Span<byte> span14 = range14.GetSpan();
			int num14 = ProtocolParser.WriteUInt32((uint)val6, span14, 0);
			if (num14 < 5)
			{
				span14[num14 - 1] |= 128;
				while (num14 < 4)
				{
					span14[num14++] = 128;
				}
				span14[4] = 0;
			}
		}
		if (instance.heldEntity != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(1);
			BufferStream.RangeHandle range15 = stream.GetRange(1);
			int position15 = stream.Position;
			HeldEntity.Serialize(stream, instance.heldEntity);
			int num15 = stream.Position - position15;
			if (num15 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field heldEntity (ProtoBuf.HeldEntity)");
			}
			Span<byte> span15 = range15.GetSpan();
			ProtocolParser.WriteUInt32((uint)num15, span15, 0);
		}
		if (instance.baseProjectile != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(1);
			BufferStream.RangeHandle range16 = stream.GetRange(1);
			int position16 = stream.Position;
			BaseProjectile.Serialize(stream, instance.baseProjectile);
			int num16 = stream.Position - position16;
			if (num16 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseProjectile (ProtoBuf.BaseProjectile)");
			}
			Span<byte> span16 = range16.GetSpan();
			ProtocolParser.WriteUInt32((uint)num16, span16, 0);
		}
		if (instance.baseNPC != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(1);
			BufferStream.RangeHandle range17 = stream.GetRange(1);
			int position17 = stream.Position;
			BaseNPC.Serialize(stream, instance.baseNPC);
			int num17 = stream.Position - position17;
			if (num17 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNPC (ProtoBuf.BaseNPC)");
			}
			Span<byte> span17 = range17.GetSpan();
			ProtocolParser.WriteUInt32((uint)num17, span17, 0);
		}
		if (instance.loot != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(1);
			BufferStream.RangeHandle range18 = stream.GetRange(5);
			int position18 = stream.Position;
			Loot.Serialize(stream, instance.loot);
			int val7 = stream.Position - position18;
			Span<byte> span18 = range18.GetSpan();
			int num18 = ProtocolParser.WriteUInt32((uint)val7, span18, 0);
			if (num18 < 5)
			{
				span18[num18 - 1] |= 128;
				while (num18 < 4)
				{
					span18[num18++] = 128;
				}
				span18[4] = 0;
			}
		}
		if (instance.genericSpawner != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(1);
			BufferStream.RangeHandle range19 = stream.GetRange(3);
			int position19 = stream.Position;
			GenericSpawner.Serialize(stream, instance.genericSpawner);
			int num19 = stream.Position - position19;
			if (num19 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field genericSpawner (ProtoBuf.GenericSpawner)");
			}
			Span<byte> span19 = range19.GetSpan();
			int num20 = ProtocolParser.WriteUInt32((uint)num19, span19, 0);
			if (num20 < 3)
			{
				span19[num20 - 1] |= 128;
				while (num20 < 2)
				{
					span19[num20++] = 128;
				}
				span19[2] = 0;
			}
		}
		if (instance.sleepingBag != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(1);
			BufferStream.RangeHandle range20 = stream.GetRange(5);
			int position20 = stream.Position;
			SleepingBag.Serialize(stream, instance.sleepingBag);
			int val8 = stream.Position - position20;
			Span<byte> span20 = range20.GetSpan();
			int num21 = ProtocolParser.WriteUInt32((uint)val8, span20, 0);
			if (num21 < 5)
			{
				span20[num21 - 1] |= 128;
				while (num21 < 4)
				{
					span20[num21++] = 128;
				}
				span20[4] = 0;
			}
		}
		if (instance.lootableCorpse != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(1);
			BufferStream.RangeHandle range21 = stream.GetRange(5);
			int position21 = stream.Position;
			LootableCorpse.Serialize(stream, instance.lootableCorpse);
			int val9 = stream.Position - position21;
			Span<byte> span21 = range21.GetSpan();
			int num22 = ProtocolParser.WriteUInt32((uint)val9, span21, 0);
			if (num22 < 5)
			{
				span21[num22 - 1] |= 128;
				while (num22 < 4)
				{
					span21[num22++] = 128;
				}
				span21[4] = 0;
			}
		}
		if (instance.sign != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(1);
			BufferStream.RangeHandle range22 = stream.GetRange(3);
			int position22 = stream.Position;
			Sign.Serialize(stream, instance.sign);
			int num23 = stream.Position - position22;
			if (num23 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sign (ProtoBuf.Sign)");
			}
			Span<byte> span22 = range22.GetSpan();
			int num24 = ProtocolParser.WriteUInt32((uint)num23, span22, 0);
			if (num24 < 3)
			{
				span22[num24 - 1] |= 128;
				while (num24 < 2)
				{
					span22[num24++] = 128;
				}
				span22[2] = 0;
			}
		}
		if (instance.baseCombat != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(1);
			BufferStream.RangeHandle range23 = stream.GetRange(1);
			int position23 = stream.Position;
			BaseCombat.Serialize(stream, instance.baseCombat);
			int num25 = stream.Position - position23;
			if (num25 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseCombat (ProtoBuf.BaseCombat)");
			}
			Span<byte> span23 = range23.GetSpan();
			ProtocolParser.WriteUInt32((uint)num25, span23, 0);
		}
		if (instance.mapEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(1);
			BufferStream.RangeHandle range24 = stream.GetRange(3);
			int position24 = stream.Position;
			MapEntity.Serialize(stream, instance.mapEntity);
			int num26 = stream.Position - position24;
			if (num26 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mapEntity (ProtoBuf.MapEntity)");
			}
			Span<byte> span24 = range24.GetSpan();
			int num27 = ProtocolParser.WriteUInt32((uint)num26, span24, 0);
			if (num27 < 3)
			{
				span24[num27 - 1] |= 128;
				while (num27 < 2)
				{
					span24[num27++] = 128;
				}
				span24[2] = 0;
			}
		}
		if (instance.researchTable != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(1);
			BufferStream.RangeHandle range25 = stream.GetRange(1);
			int position25 = stream.Position;
			ResearchTable.Serialize(stream, instance.researchTable);
			int num28 = stream.Position - position25;
			if (num28 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field researchTable (ProtoBuf.ResearchTable)");
			}
			Span<byte> span25 = range25.GetSpan();
			ProtocolParser.WriteUInt32((uint)num28, span25, 0);
		}
		if (instance.dudExplosive != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(1);
			BufferStream.RangeHandle range26 = stream.GetRange(1);
			int position26 = stream.Position;
			DudExplosive.Serialize(stream, instance.dudExplosive);
			int num29 = stream.Position - position26;
			if (num29 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dudExplosive (ProtoBuf.DudExplosive)");
			}
			Span<byte> span26 = range26.GetSpan();
			ProtocolParser.WriteUInt32((uint)num29, span26, 0);
		}
		if (instance.miningQuarry != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(1);
			BufferStream.RangeHandle range27 = stream.GetRange(5);
			int position27 = stream.Position;
			MiningQuarry.Serialize(stream, instance.miningQuarry);
			int val10 = stream.Position - position27;
			Span<byte> span27 = range27.GetSpan();
			int num30 = ProtocolParser.WriteUInt32((uint)val10, span27, 0);
			if (num30 < 5)
			{
				span27[num30 - 1] |= 128;
				while (num30 < 4)
				{
					span27[num30++] = 128;
				}
				span27[4] = 0;
			}
		}
		if (instance.baseVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(1);
			BufferStream.RangeHandle range28 = stream.GetRange(3);
			int position28 = stream.Position;
			BaseVehicle.Serialize(stream, instance.baseVehicle);
			int num31 = stream.Position - position28;
			if (num31 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseVehicle (ProtoBuf.BaseVehicle)");
			}
			Span<byte> span28 = range28.GetSpan();
			int num32 = ProtocolParser.WriteUInt32((uint)num31, span28, 0);
			if (num32 < 3)
			{
				span28[num32 - 1] |= 128;
				while (num32 < 2)
				{
					span28[num32++] = 128;
				}
				span28[2] = 0;
			}
		}
		if (instance.helicopter != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(1);
			BufferStream.RangeHandle range29 = stream.GetRange(3);
			int position29 = stream.Position;
			Helicopter.Serialize(stream, instance.helicopter);
			int num33 = stream.Position - position29;
			if (num33 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field helicopter (ProtoBuf.Helicopter)");
			}
			Span<byte> span29 = range29.GetSpan();
			int num34 = ProtocolParser.WriteUInt32((uint)num33, span29, 0);
			if (num34 < 3)
			{
				span29[num34 - 1] |= 128;
				while (num34 < 2)
				{
					span29[num34++] = 128;
				}
				span29[2] = 0;
			}
		}
		if (instance.landmine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(1);
			BufferStream.RangeHandle range30 = stream.GetRange(1);
			int position30 = stream.Position;
			Landmine.Serialize(stream, instance.landmine);
			int num35 = stream.Position - position30;
			if (num35 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field landmine (ProtoBuf.Landmine)");
			}
			Span<byte> span30 = range30.GetSpan();
			ProtocolParser.WriteUInt32((uint)num35, span30, 0);
		}
		if (instance.autoturret != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(2);
			BufferStream.RangeHandle range31 = stream.GetRange(5);
			int position31 = stream.Position;
			AutoTurret.Serialize(stream, instance.autoturret);
			int val11 = stream.Position - position31;
			Span<byte> span31 = range31.GetSpan();
			int num36 = ProtocolParser.WriteUInt32((uint)val11, span31, 0);
			if (num36 < 5)
			{
				span31[num36 - 1] |= 128;
				while (num36 < 4)
				{
					span31[num36++] = 128;
				}
				span31[4] = 0;
			}
		}
		if (instance.sphereEntity != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(2);
			BufferStream.RangeHandle range32 = stream.GetRange(1);
			int position32 = stream.Position;
			SphereEntity.Serialize(stream, instance.sphereEntity);
			int num37 = stream.Position - position32;
			if (num37 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sphereEntity (ProtoBuf.SphereEntity)");
			}
			Span<byte> span32 = range32.GetSpan();
			ProtocolParser.WriteUInt32((uint)num37, span32, 0);
		}
		if (instance.stabilityEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(2);
			BufferStream.RangeHandle range33 = stream.GetRange(1);
			int position33 = stream.Position;
			StabilityEntity.Serialize(stream, instance.stabilityEntity);
			int num38 = stream.Position - position33;
			if (num38 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field stabilityEntity (ProtoBuf.StabilityEntity)");
			}
			Span<byte> span33 = range33.GetSpan();
			ProtocolParser.WriteUInt32((uint)num38, span33, 0);
		}
		if (instance.ownerInfo != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(2);
			BufferStream.RangeHandle range34 = stream.GetRange(1);
			int position34 = stream.Position;
			OwnerInfo.Serialize(stream, instance.ownerInfo);
			int num39 = stream.Position - position34;
			if (num39 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ownerInfo (ProtoBuf.OwnerInfo)");
			}
			Span<byte> span34 = range34.GetSpan();
			ProtocolParser.WriteUInt32((uint)num39, span34, 0);
		}
		if (instance.decayEntity != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(2);
			BufferStream.RangeHandle range35 = stream.GetRange(1);
			int position35 = stream.Position;
			DecayEntity.Serialize(stream, instance.decayEntity);
			int num40 = stream.Position - position35;
			if (num40 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field decayEntity (ProtoBuf.DecayEntity)");
			}
			Span<byte> span35 = range35.GetSpan();
			ProtocolParser.WriteUInt32((uint)num40, span35, 0);
		}
		if (instance.spawnable != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(2);
			BufferStream.RangeHandle range36 = stream.GetRange(1);
			int position36 = stream.Position;
			Spawnable.Serialize(stream, instance.spawnable);
			int num41 = stream.Position - position36;
			if (num41 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spawnable (ProtoBuf.Spawnable)");
			}
			Span<byte> span36 = range36.GetSpan();
			ProtocolParser.WriteUInt32((uint)num41, span36, 0);
		}
		if (instance.servergib != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(2);
			BufferStream.RangeHandle range37 = stream.GetRange(5);
			int position37 = stream.Position;
			ServerGib.Serialize(stream, instance.servergib);
			int val12 = stream.Position - position37;
			Span<byte> span37 = range37.GetSpan();
			int num42 = ProtocolParser.WriteUInt32((uint)val12, span37, 0);
			if (num42 < 5)
			{
				span37[num42 - 1] |= 128;
				while (num42 < 4)
				{
					span37[num42++] = 128;
				}
				span37[4] = 0;
			}
		}
		if (instance.vendingMachine != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(2);
			BufferStream.RangeHandle range38 = stream.GetRange(5);
			int position38 = stream.Position;
			VendingMachine.Serialize(stream, instance.vendingMachine);
			int val13 = stream.Position - position38;
			Span<byte> span38 = range38.GetSpan();
			int num43 = ProtocolParser.WriteUInt32((uint)val13, span38, 0);
			if (num43 < 5)
			{
				span38[num43 - 1] |= 128;
				while (num43 < 4)
				{
					span38[num43++] = 128;
				}
				span38[4] = 0;
			}
		}
		if (instance.spinnerWheel != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(2);
			BufferStream.RangeHandle range39 = stream.GetRange(1);
			int position39 = stream.Position;
			SpinnerWheel.Serialize(stream, instance.spinnerWheel);
			int num44 = stream.Position - position39;
			if (num44 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spinnerWheel (ProtoBuf.SpinnerWheel)");
			}
			Span<byte> span39 = range39.GetSpan();
			ProtocolParser.WriteUInt32((uint)num44, span39, 0);
		}
		if (instance.lift != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(2);
			BufferStream.RangeHandle range40 = stream.GetRange(1);
			int position40 = stream.Position;
			Lift.Serialize(stream, instance.lift);
			int num45 = stream.Position - position40;
			if (num45 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lift (ProtoBuf.Lift)");
			}
			Span<byte> span40 = range40.GetSpan();
			ProtocolParser.WriteUInt32((uint)num45, span40, 0);
		}
		if (instance.bradley != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(2);
			BufferStream.RangeHandle range41 = stream.GetRange(2);
			int position41 = stream.Position;
			BradleyAPC.Serialize(stream, instance.bradley);
			int num46 = stream.Position - position41;
			if (num46 > 16383)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bradley (ProtoBuf.BradleyAPC)");
			}
			Span<byte> span41 = range41.GetSpan();
			if (ProtocolParser.WriteUInt32((uint)num46, span41, 0) < 2)
			{
				span41[0] |= 128;
				span41[1] = 0;
			}
		}
		if (instance.waterwell != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(2);
			BufferStream.RangeHandle range42 = stream.GetRange(1);
			int position42 = stream.Position;
			WaterWell.Serialize(stream, instance.waterwell);
			int num47 = stream.Position - position42;
			if (num47 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waterwell (ProtoBuf.WaterWell)");
			}
			Span<byte> span42 = range42.GetSpan();
			ProtocolParser.WriteUInt32((uint)num47, span42, 0);
		}
		if (instance.motorBoat != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(2);
			BufferStream.RangeHandle range43 = stream.GetRange(1);
			int position43 = stream.Position;
			Motorboat.Serialize(stream, instance.motorBoat);
			int num48 = stream.Position - position43;
			if (num48 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field motorBoat (ProtoBuf.Motorboat)");
			}
			Span<byte> span43 = range43.GetSpan();
			ProtocolParser.WriteUInt32((uint)num48, span43, 0);
		}
		if (instance.ioEntity != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(2);
			BufferStream.RangeHandle range44 = stream.GetRange(5);
			int position44 = stream.Position;
			IOEntity.Serialize(stream, instance.ioEntity);
			int val14 = stream.Position - position44;
			Span<byte> span44 = range44.GetSpan();
			int num49 = ProtocolParser.WriteUInt32((uint)val14, span44, 0);
			if (num49 < 5)
			{
				span44[num49 - 1] |= 128;
				while (num49 < 4)
				{
					span44[num49++] = 128;
				}
				span44[4] = 0;
			}
		}
		if (instance.puzzleReset != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(2);
			BufferStream.RangeHandle range45 = stream.GetRange(5);
			int position45 = stream.Position;
			PuzzleReset.Serialize(stream, instance.puzzleReset);
			int val15 = stream.Position - position45;
			Span<byte> span45 = range45.GetSpan();
			int num50 = ProtocolParser.WriteUInt32((uint)val15, span45, 0);
			if (num50 < 5)
			{
				span45[num50 - 1] |= 128;
				while (num50 < 4)
				{
					span45[num50++] = 128;
				}
				span45[4] = 0;
			}
		}
		if (instance.relationshipManager != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(2);
			BufferStream.RangeHandle range46 = stream.GetRange(5);
			int position46 = stream.Position;
			RelationshipManager.Serialize(stream, instance.relationshipManager);
			int val16 = stream.Position - position46;
			Span<byte> span46 = range46.GetSpan();
			int num51 = ProtocolParser.WriteUInt32((uint)val16, span46, 0);
			if (num51 < 5)
			{
				span46[num51 - 1] |= 128;
				while (num51 < 4)
				{
					span46[num51++] = 128;
				}
				span46[4] = 0;
			}
		}
		if (instance.hotAirBalloon != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(3);
			BufferStream.RangeHandle range47 = stream.GetRange(1);
			int position47 = stream.Position;
			HotAirBalloon.Serialize(stream, instance.hotAirBalloon);
			int num52 = stream.Position - position47;
			if (num52 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field hotAirBalloon (ProtoBuf.HotAirBalloon)");
			}
			Span<byte> span47 = range47.GetSpan();
			ProtocolParser.WriteUInt32((uint)num52, span47, 0);
		}
		if (instance.samSite != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(3);
			BufferStream.RangeHandle range48 = stream.GetRange(1);
			int position48 = stream.Position;
			SAMSite.Serialize(stream, instance.samSite);
			int num53 = stream.Position - position48;
			if (num53 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field samSite (ProtoBuf.SAMSite)");
			}
			Span<byte> span48 = range48.GetSpan();
			ProtocolParser.WriteUInt32((uint)num53, span48, 0);
		}
		if (instance.eggHunt != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(3);
			BufferStream.RangeHandle range49 = stream.GetRange(5);
			int position49 = stream.Position;
			EggHunt.Serialize(stream, instance.eggHunt);
			int val17 = stream.Position - position49;
			Span<byte> span49 = range49.GetSpan();
			int num54 = ProtocolParser.WriteUInt32((uint)val17, span49, 0);
			if (num54 < 5)
			{
				span49[num54 - 1] |= 128;
				while (num54 < 4)
				{
					span49[num54++] = 128;
				}
				span49[4] = 0;
			}
		}
		if (instance.arcadeMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(3);
			BufferStream.RangeHandle range50 = stream.GetRange(5);
			int position50 = stream.Position;
			ArcadeMachine.Serialize(stream, instance.arcadeMachine);
			int val18 = stream.Position - position50;
			Span<byte> span50 = range50.GetSpan();
			int num55 = ProtocolParser.WriteUInt32((uint)val18, span50, 0);
			if (num55 < 5)
			{
				span50[num55 - 1] |= 128;
				while (num55 < 4)
				{
					span50[num55++] = 128;
				}
				span50[4] = 0;
			}
		}
		if (instance.miniCopter != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(3);
			BufferStream.RangeHandle range51 = stream.GetRange(1);
			int position51 = stream.Position;
			Minicopter.Serialize(stream, instance.miniCopter);
			int num56 = stream.Position - position51;
			if (num56 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field miniCopter (ProtoBuf.Minicopter)");
			}
			Span<byte> span51 = range51.GetSpan();
			ProtocolParser.WriteUInt32((uint)num56, span51, 0);
		}
		if (instance.horse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(3);
			BufferStream.RangeHandle range52 = stream.GetRange(5);
			int position52 = stream.Position;
			Horse.Serialize(stream, instance.horse);
			int val19 = stream.Position - position52;
			Span<byte> span52 = range52.GetSpan();
			int num57 = ProtocolParser.WriteUInt32((uint)val19, span52, 0);
			if (num57 < 5)
			{
				span52[num57 - 1] |= 128;
				while (num57 < 4)
				{
					span52[num57++] = 128;
				}
				span52[4] = 0;
			}
		}
		if (instance.smartAlarm != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(3);
			BufferStream.RangeHandle range53 = stream.GetRange(5);
			int position53 = stream.Position;
			SmartAlarm.Serialize(stream, instance.smartAlarm);
			int val20 = stream.Position - position53;
			Span<byte> span53 = range53.GetSpan();
			int num58 = ProtocolParser.WriteUInt32((uint)val20, span53, 0);
			if (num58 < 5)
			{
				span53[num58 - 1] |= 128;
				while (num58 < 4)
				{
					span53[num58++] = 128;
				}
				span53[4] = 0;
			}
		}
		if (instance.lightString != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(3);
			BufferStream.RangeHandle range54 = stream.GetRange(3);
			int position54 = stream.Position;
			LightString.Serialize(stream, instance.lightString);
			int num59 = stream.Position - position54;
			if (num59 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightString (ProtoBuf.LightString)");
			}
			Span<byte> span54 = range54.GetSpan();
			int num60 = ProtocolParser.WriteUInt32((uint)num59, span54, 0);
			if (num60 < 3)
			{
				span54[num60 - 1] |= 128;
				while (num60 < 2)
				{
					span54[num60++] = 128;
				}
				span54[2] = 0;
			}
		}
		if (instance.lightDeployer != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(3);
			BufferStream.RangeHandle range55 = stream.GetRange(1);
			int position55 = stream.Position;
			LightDeployer.Serialize(stream, instance.lightDeployer);
			int num61 = stream.Position - position55;
			if (num61 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightDeployer (ProtoBuf.LightDeployer)");
			}
			Span<byte> span55 = range55.GetSpan();
			ProtocolParser.WriteUInt32((uint)num61, span55, 0);
		}
		if (instance.rcEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(3);
			BufferStream.RangeHandle range56 = stream.GetRange(5);
			int position56 = stream.Position;
			RCEntity.Serialize(stream, instance.rcEntity);
			int val21 = stream.Position - position56;
			Span<byte> span56 = range56.GetSpan();
			int num62 = ProtocolParser.WriteUInt32((uint)val21, span56, 0);
			if (num62 < 5)
			{
				span56[num62 - 1] |= 128;
				while (num62 < 4)
				{
					span56[num62++] = 128;
				}
				span56[4] = 0;
			}
		}
		if (instance.computerStation != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(3);
			BufferStream.RangeHandle range57 = stream.GetRange(5);
			int position57 = stream.Position;
			ComputerStation.Serialize(stream, instance.computerStation);
			int val22 = stream.Position - position57;
			Span<byte> span57 = range57.GetSpan();
			int num63 = ProtocolParser.WriteUInt32((uint)val22, span57, 0);
			if (num63 < 5)
			{
				span57[num63 - 1] |= 128;
				while (num63 < 4)
				{
					span57[num63++] = 128;
				}
				span57[4] = 0;
			}
		}
		if (instance.growableEntity != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(3);
			BufferStream.RangeHandle range58 = stream.GetRange(1);
			int position58 = stream.Position;
			GrowableEntity.Serialize(stream, instance.growableEntity);
			int num64 = stream.Position - position58;
			if (num64 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field growableEntity (ProtoBuf.GrowableEntity)");
			}
			Span<byte> span58 = range58.GetSpan();
			ProtocolParser.WriteUInt32((uint)num64, span58, 0);
		}
		if (instance.composter != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(3);
			BufferStream.RangeHandle range59 = stream.GetRange(1);
			int position59 = stream.Position;
			Composter.Serialize(stream, instance.composter);
			int num65 = stream.Position - position59;
			if (num65 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field composter (ProtoBuf.Composter)");
			}
			Span<byte> span59 = range59.GetSpan();
			ProtocolParser.WriteUInt32((uint)num65, span59, 0);
		}
		if (instance.modularVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(3);
			BufferStream.RangeHandle range60 = stream.GetRange(1);
			int position60 = stream.Position;
			ModularVehicle.Serialize(stream, instance.modularVehicle);
			int num66 = stream.Position - position60;
			if (num66 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modularVehicle (ProtoBuf.ModularVehicle)");
			}
			Span<byte> span60 = range60.GetSpan();
			ProtocolParser.WriteUInt32((uint)num66, span60, 0);
		}
		if (instance.modularCar != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(3);
			BufferStream.RangeHandle range61 = stream.GetRange(5);
			int position61 = stream.Position;
			ModularCar.Serialize(stream, instance.modularCar);
			int val23 = stream.Position - position61;
			Span<byte> span61 = range61.GetSpan();
			int num67 = ProtocolParser.WriteUInt32((uint)val23, span61, 0);
			if (num67 < 5)
			{
				span61[num67 - 1] |= 128;
				while (num67 < 4)
				{
					span61[num67++] = 128;
				}
				span61[4] = 0;
			}
		}
		if (instance.simpleUID != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(3);
			BufferStream.RangeHandle range62 = stream.GetRange(1);
			int position62 = stream.Position;
			SimpleUID.Serialize(stream, instance.simpleUID);
			int num68 = stream.Position - position62;
			if (num68 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUID (ProtoBuf.SimpleUID)");
			}
			Span<byte> span62 = range62.GetSpan();
			ProtocolParser.WriteUInt32((uint)num68, span62, 0);
		}
		if (instance.vehicleLift != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(4);
			BufferStream.RangeHandle range63 = stream.GetRange(1);
			int position63 = stream.Position;
			VehicleLift.Serialize(stream, instance.vehicleLift);
			int num69 = stream.Position - position63;
			if (num69 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleLift (ProtoBuf.VehicleLift)");
			}
			Span<byte> span63 = range63.GetSpan();
			ProtocolParser.WriteUInt32((uint)num69, span63, 0);
		}
		if (instance.engineStorage != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(4);
			BufferStream.RangeHandle range64 = stream.GetRange(1);
			int position64 = stream.Position;
			EngineStorage.Serialize(stream, instance.engineStorage);
			int num70 = stream.Position - position64;
			if (num70 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field engineStorage (ProtoBuf.EngineStorage)");
			}
			Span<byte> span64 = range64.GetSpan();
			ProtocolParser.WriteUInt32((uint)num70, span64, 0);
		}
		if (instance.vehicleVendor != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(4);
			BufferStream.RangeHandle range65 = stream.GetRange(5);
			int position65 = stream.Position;
			VehicleVendor.Serialize(stream, instance.vehicleVendor);
			int val24 = stream.Position - position65;
			Span<byte> span65 = range65.GetSpan();
			int num71 = ProtocolParser.WriteUInt32((uint)val24, span65, 0);
			if (num71 < 5)
			{
				span65[num71 - 1] |= 128;
				while (num71 < 4)
				{
					span65[num71++] = 128;
				}
				span65[4] = 0;
			}
		}
		if (instance.WaterPool != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(4);
			BufferStream.RangeHandle range66 = stream.GetRange(1);
			int position66 = stream.Position;
			WaterPool.Serialize(stream, instance.WaterPool);
			int num72 = stream.Position - position66;
			if (num72 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field WaterPool (ProtoBuf.WaterPool)");
			}
			Span<byte> span66 = range66.GetSpan();
			ProtocolParser.WriteUInt32((uint)num72, span66, 0);
		}
		if (instance.photo != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(4);
			BufferStream.RangeHandle range67 = stream.GetRange(1);
			int position67 = stream.Position;
			Photo.Serialize(stream, instance.photo);
			int num73 = stream.Position - position67;
			if (num73 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photo (ProtoBuf.Photo)");
			}
			Span<byte> span67 = range67.GetSpan();
			ProtocolParser.WriteUInt32((uint)num73, span67, 0);
		}
		if (instance.photoFrame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(4);
			BufferStream.RangeHandle range68 = stream.GetRange(3);
			int position68 = stream.Position;
			PhotoFrame.Serialize(stream, instance.photoFrame);
			int num74 = stream.Position - position68;
			if (num74 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photoFrame (ProtoBuf.PhotoFrame)");
			}
			Span<byte> span68 = range68.GetSpan();
			int num75 = ProtocolParser.WriteUInt32((uint)num74, span68, 0);
			if (num75 < 3)
			{
				span68[num75 - 1] |= 128;
				while (num75 < 2)
				{
					span68[num75++] = 128;
				}
				span68[2] = 0;
			}
		}
		if (instance.vehicleModule != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(4);
			BufferStream.RangeHandle range69 = stream.GetRange(1);
			int position69 = stream.Position;
			VehicleModule.Serialize(stream, instance.vehicleModule);
			int num76 = stream.Position - position69;
			if (num76 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleModule (ProtoBuf.VehicleModule)");
			}
			Span<byte> span69 = range69.GetSpan();
			ProtocolParser.WriteUInt32((uint)num76, span69, 0);
		}
		if (instance.mixingTable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(4);
			BufferStream.RangeHandle range70 = stream.GetRange(1);
			int position70 = stream.Position;
			MixingTable.Serialize(stream, instance.mixingTable);
			int num77 = stream.Position - position70;
			if (num77 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mixingTable (ProtoBuf.MixingTable)");
			}
			Span<byte> span70 = range70.GetSpan();
			ProtocolParser.WriteUInt32((uint)num77, span70, 0);
		}
		if (instance.shopKeeper != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(4);
			BufferStream.RangeHandle range71 = stream.GetRange(1);
			int position71 = stream.Position;
			ShopKeeper.Serialize(stream, instance.shopKeeper);
			int num78 = stream.Position - position71;
			if (num78 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field shopKeeper (ProtoBuf.ShopKeeper)");
			}
			Span<byte> span71 = range71.GetSpan();
			ProtocolParser.WriteUInt32((uint)num78, span71, 0);
		}
		if (instance.elevator != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(4);
			BufferStream.RangeHandle range72 = stream.GetRange(1);
			int position72 = stream.Position;
			Elevator.Serialize(stream, instance.elevator);
			int num79 = stream.Position - position72;
			if (num79 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevator (ProtoBuf.Elevator)");
			}
			Span<byte> span72 = range72.GetSpan();
			ProtocolParser.WriteUInt32((uint)num79, span72, 0);
		}
		if (instance.skullTrophy != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(4);
			BufferStream.RangeHandle range73 = stream.GetRange(5);
			int position73 = stream.Position;
			SkullTrophy.Serialize(stream, instance.skullTrophy);
			int val25 = stream.Position - position73;
			Span<byte> span73 = range73.GetSpan();
			int num80 = ProtocolParser.WriteUInt32((uint)val25, span73, 0);
			if (num80 < 5)
			{
				span73[num80 - 1] |= 128;
				while (num80 < 4)
				{
					span73[num80++] = 128;
				}
				span73[4] = 0;
			}
		}
		if (instance.cassette != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(4);
			BufferStream.RangeHandle range74 = stream.GetRange(1);
			int position74 = stream.Position;
			Cassette.Serialize(stream, instance.cassette);
			int num81 = stream.Position - position74;
			if (num81 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cassette (ProtoBuf.Cassette)");
			}
			Span<byte> span74 = range74.GetSpan();
			ProtocolParser.WriteUInt32((uint)num81, span74, 0);
		}
		if (instance.telephone != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(4);
			BufferStream.RangeHandle range75 = stream.GetRange(5);
			int position75 = stream.Position;
			Telephone.Serialize(stream, instance.telephone);
			int val26 = stream.Position - position75;
			Span<byte> span75 = range75.GetSpan();
			int num82 = ProtocolParser.WriteUInt32((uint)val26, span75, 0);
			if (num82 < 5)
			{
				span75[num82 - 1] |= 128;
				while (num82 < 4)
				{
					span75[num82++] = 128;
				}
				span75[4] = 0;
			}
		}
		if (instance.boomBox != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(4);
			BufferStream.RangeHandle range76 = stream.GetRange(5);
			int position76 = stream.Position;
			BoomBox.Serialize(stream, instance.boomBox);
			int val27 = stream.Position - position76;
			Span<byte> span76 = range76.GetSpan();
			int num83 = ProtocolParser.WriteUInt32((uint)val27, span76, 0);
			if (num83 < 5)
			{
				span76[num83 - 1] |= 128;
				while (num83 < 4)
				{
					span76[num83++] = 128;
				}
				span76[4] = 0;
			}
		}
		if (instance.neonSign != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(4);
			BufferStream.RangeHandle range77 = stream.GetRange(3);
			int position77 = stream.Position;
			NeonSign.Serialize(stream, instance.neonSign);
			int num84 = stream.Position - position77;
			if (num84 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field neonSign (ProtoBuf.NeonSign)");
			}
			Span<byte> span77 = range77.GetSpan();
			int num85 = ProtocolParser.WriteUInt32((uint)num84, span77, 0);
			if (num85 < 3)
			{
				span77[num85 - 1] |= 128;
				while (num85 < 2)
				{
					span77[num85++] = 128;
				}
				span77[2] = 0;
			}
		}
		if (instance.subEntityList != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(4);
			BufferStream.RangeHandle range78 = stream.GetRange(3);
			int position78 = stream.Position;
			SubEntityList.Serialize(stream, instance.subEntityList);
			int num86 = stream.Position - position78;
			if (num86 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field subEntityList (ProtoBuf.SubEntityList)");
			}
			Span<byte> span78 = range78.GetSpan();
			int num87 = ProtocolParser.WriteUInt32((uint)num86, span78, 0);
			if (num87 < 3)
			{
				span78[num87 - 1] |= 128;
				while (num87 < 2)
				{
					span78[num87++] = 128;
				}
				span78[2] = 0;
			}
		}
		if (instance.marketTerminal != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(5);
			BufferStream.RangeHandle range79 = stream.GetRange(5);
			int position79 = stream.Position;
			MarketTerminal.Serialize(stream, instance.marketTerminal);
			int val28 = stream.Position - position79;
			Span<byte> span79 = range79.GetSpan();
			int num88 = ProtocolParser.WriteUInt32((uint)val28, span79, 0);
			if (num88 < 5)
			{
				span79[num88 - 1] |= 128;
				while (num88 < 4)
				{
					span79[num88++] = 128;
				}
				span79[4] = 0;
			}
		}
		if (instance.deliveryDrone != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(5);
			BufferStream.RangeHandle range80 = stream.GetRange(1);
			int position80 = stream.Position;
			DeliveryDrone.Serialize(stream, instance.deliveryDrone);
			int num89 = stream.Position - position80;
			if (num89 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field deliveryDrone (ProtoBuf.DeliveryDrone)");
			}
			Span<byte> span80 = range80.GetSpan();
			ProtocolParser.WriteUInt32((uint)num89, span80, 0);
		}
		if (instance.reclaimTerminal != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(5);
			BufferStream.RangeHandle range81 = stream.GetRange(1);
			int position81 = stream.Position;
			ReclaimTerminal.Serialize(stream, instance.reclaimTerminal);
			int num90 = stream.Position - position81;
			if (num90 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field reclaimTerminal (ProtoBuf.ReclaimTerminal)");
			}
			Span<byte> span81 = range81.GetSpan();
			ProtocolParser.WriteUInt32((uint)num90, span81, 0);
		}
		if (instance.slotMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(5);
			BufferStream.RangeHandle range82 = stream.GetRange(1);
			int position82 = stream.Position;
			SlotMachine.Serialize(stream, instance.slotMachine);
			int num91 = stream.Position - position82;
			if (num91 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field slotMachine (ProtoBuf.SlotMachine)");
			}
			Span<byte> span82 = range82.GetSpan();
			ProtocolParser.WriteUInt32((uint)num91, span82, 0);
		}
		if (instance.trainEngine != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(5);
			BufferStream.RangeHandle range83 = stream.GetRange(1);
			int position83 = stream.Position;
			TrainEngine.Serialize(stream, instance.trainEngine);
			int num92 = stream.Position - position83;
			if (num92 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field trainEngine (ProtoBuf.TrainEngine)");
			}
			Span<byte> span83 = range83.GetSpan();
			ProtocolParser.WriteUInt32((uint)num92, span83, 0);
		}
		if (instance.cardGame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(5);
			BufferStream.RangeHandle range84 = stream.GetRange(5);
			int position84 = stream.Position;
			CardGame.Serialize(stream, instance.cardGame);
			int num93 = stream.Position - position84;
			if (num93 > int.MaxValue)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cardGame (ProtoBuf.CardGame)");
			}
			Span<byte> span84 = range84.GetSpan();
			int num94 = ProtocolParser.WriteUInt32((uint)num93, span84, 0);
			if (num94 < 5)
			{
				span84[num94 - 1] |= 128;
				while (num94 < 4)
				{
					span84[num94++] = 128;
				}
				span84[4] = 0;
			}
		}
		if (instance.crane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(5);
			BufferStream.RangeHandle range85 = stream.GetRange(1);
			int position85 = stream.Position;
			Crane.Serialize(stream, instance.crane);
			int num95 = stream.Position - position85;
			if (num95 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field crane (ProtoBuf.Crane)");
			}
			Span<byte> span85 = range85.GetSpan();
			ProtocolParser.WriteUInt32((uint)num95, span85, 0);
		}
		if (instance.connectedSpeaker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(5);
			BufferStream.RangeHandle range86 = stream.GetRange(1);
			int position86 = stream.Position;
			ConnectedSpeaker.Serialize(stream, instance.connectedSpeaker);
			int num96 = stream.Position - position86;
			if (num96 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field connectedSpeaker (ProtoBuf.ConnectedSpeaker)");
			}
			Span<byte> span86 = range86.GetSpan();
			ProtocolParser.WriteUInt32((uint)num96, span86, 0);
		}
		if (instance.audioEntity != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(5);
			BufferStream.RangeHandle range87 = stream.GetRange(1);
			int position87 = stream.Position;
			AudioEntity.Serialize(stream, instance.audioEntity);
			int num97 = stream.Position - position87;
			if (num97 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field audioEntity (ProtoBuf.AudioEntity)");
			}
			Span<byte> span87 = range87.GetSpan();
			ProtocolParser.WriteUInt32((uint)num97, span87, 0);
		}
		if (instance.microphoneStand != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(5);
			BufferStream.RangeHandle range88 = stream.GetRange(1);
			int position88 = stream.Position;
			MicrophoneStand.Serialize(stream, instance.microphoneStand);
			int num98 = stream.Position - position88;
			if (num98 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field microphoneStand (ProtoBuf.MicrophoneStand)");
			}
			Span<byte> span88 = range88.GetSpan();
			ProtocolParser.WriteUInt32((uint)num98, span88, 0);
		}
		if (instance.submarine != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(5);
			BufferStream.RangeHandle range89 = stream.GetRange(1);
			int position89 = stream.Position;
			Submarine.Serialize(stream, instance.submarine);
			int num99 = stream.Position - position89;
			if (num99 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field submarine (ProtoBuf.Submarine)");
			}
			Span<byte> span89 = range89.GetSpan();
			ProtocolParser.WriteUInt32((uint)num99, span89, 0);
		}
		if (instance.sleepingBagCamper != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(5);
			BufferStream.RangeHandle range90 = stream.GetRange(1);
			int position90 = stream.Position;
			SleepingBagCamper.Serialize(stream, instance.sleepingBagCamper);
			int num100 = stream.Position - position90;
			if (num100 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sleepingBagCamper (ProtoBuf.SleepingBagCamper)");
			}
			Span<byte> span90 = range90.GetSpan();
			ProtocolParser.WriteUInt32((uint)num100, span90, 0);
		}
		if (instance.camperModule != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(5);
			BufferStream.RangeHandle range91 = stream.GetRange(1);
			int position91 = stream.Position;
			CamperModule.Serialize(stream, instance.camperModule);
			int num101 = stream.Position - position91;
			if (num101 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field camperModule (ProtoBuf.CamperModule)");
			}
			Span<byte> span91 = range91.GetSpan();
			ProtocolParser.WriteUInt32((uint)num101, span91, 0);
		}
		if (instance.paintableSign != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(5);
			BufferStream.RangeHandle range92 = stream.GetRange(3);
			int position92 = stream.Position;
			PaintableSign.Serialize(stream, instance.paintableSign);
			int num102 = stream.Position - position92;
			if (num102 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintableSign (ProtoBuf.PaintableSign)");
			}
			Span<byte> span92 = range92.GetSpan();
			int num103 = ProtocolParser.WriteUInt32((uint)num102, span92, 0);
			if (num103 < 3)
			{
				span92[num103 - 1] |= 128;
				while (num103 < 2)
				{
					span92[num103++] = 128;
				}
				span92[2] = 0;
			}
		}
		if (instance.whitelist != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(5);
			BufferStream.RangeHandle range93 = stream.GetRange(3);
			int position93 = stream.Position;
			Whitelist.Serialize(stream, instance.whitelist);
			int num104 = stream.Position - position93;
			if (num104 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field whitelist (ProtoBuf.Whitelist)");
			}
			Span<byte> span93 = range93.GetSpan();
			int num105 = ProtocolParser.WriteUInt32((uint)num104, span93, 0);
			if (num105 < 3)
			{
				span93[num105 - 1] |= 128;
				while (num105 < 2)
				{
					span93[num105++] = 128;
				}
				span93[2] = 0;
			}
		}
		if (instance.FrankensteinTable != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(5);
			BufferStream.RangeHandle range94 = stream.GetRange(3);
			int position94 = stream.Position;
			FrankensteinTable.Serialize(stream, instance.FrankensteinTable);
			int num106 = stream.Position - position94;
			if (num106 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field FrankensteinTable (ProtoBuf.FrankensteinTable)");
			}
			Span<byte> span94 = range94.GetSpan();
			int num107 = ProtocolParser.WriteUInt32((uint)num106, span94, 0);
			if (num107 < 3)
			{
				span94[num107 - 1] |= 128;
				while (num107 < 2)
				{
					span94[num107++] = 128;
				}
				span94[2] = 0;
			}
		}
		if (instance.mlrs != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(6);
			BufferStream.RangeHandle range95 = stream.GetRange(1);
			int position95 = stream.Position;
			MLRS.Serialize(stream, instance.mlrs);
			int num108 = stream.Position - position95;
			if (num108 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mlrs (ProtoBuf.MLRS)");
			}
			Span<byte> span95 = range95.GetSpan();
			ProtocolParser.WriteUInt32((uint)num108, span95, 0);
		}
		if (instance.reclaimManager != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(6);
			BufferStream.RangeHandle range96 = stream.GetRange(5);
			int position96 = stream.Position;
			ReclaimManager.Serialize(stream, instance.reclaimManager);
			int val29 = stream.Position - position96;
			Span<byte> span96 = range96.GetSpan();
			int num109 = ProtocolParser.WriteUInt32((uint)val29, span96, 0);
			if (num109 < 5)
			{
				span96[num109 - 1] |= 128;
				while (num109 < 4)
				{
					span96[num109++] = 128;
				}
				span96[4] = 0;
			}
		}
		if (instance.gameMode != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(6);
			BufferStream.RangeHandle range97 = stream.GetRange(5);
			int position97 = stream.Position;
			GameMode.Serialize(stream, instance.gameMode);
			int val30 = stream.Position - position97;
			Span<byte> span97 = range97.GetSpan();
			int num110 = ProtocolParser.WriteUInt32((uint)val30, span97, 0);
			if (num110 < 5)
			{
				span97[num110 - 1] |= 128;
				while (num110 < 4)
				{
					span97[num110++] = 128;
				}
				span97[4] = 0;
			}
		}
		if (instance.snowmobile != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(6);
			BufferStream.RangeHandle range98 = stream.GetRange(1);
			int position98 = stream.Position;
			Snowmobile.Serialize(stream, instance.snowmobile);
			int num111 = stream.Position - position98;
			if (num111 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field snowmobile (ProtoBuf.Snowmobile)");
			}
			Span<byte> span98 = range98.GetSpan();
			ProtocolParser.WriteUInt32((uint)num111, span98, 0);
		}
		if (instance.createdThisFrame)
		{
			stream.WriteByte(160);
			stream.WriteByte(6);
			ProtocolParser.WriteBool(stream, instance.createdThisFrame);
		}
		if (instance.patternFirework != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(6);
			BufferStream.RangeHandle range99 = stream.GetRange(3);
			int position99 = stream.Position;
			PatternFirework.Serialize(stream, instance.patternFirework);
			int num112 = stream.Position - position99;
			if (num112 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field patternFirework (ProtoBuf.PatternFirework)");
			}
			Span<byte> span99 = range99.GetSpan();
			int num113 = ProtocolParser.WriteUInt32((uint)num112, span99, 0);
			if (num113 < 3)
			{
				span99[num113 - 1] |= 128;
				while (num113 < 2)
				{
					span99[num113++] = 128;
				}
				span99[2] = 0;
			}
		}
		if (instance.cargoPlane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(6);
			BufferStream.RangeHandle range100 = stream.GetRange(1);
			int position100 = stream.Position;
			CargoPlane.Serialize(stream, instance.cargoPlane);
			int num114 = stream.Position - position100;
			if (num114 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoPlane (ProtoBuf.CargoPlane)");
			}
			Span<byte> span100 = range100.GetSpan();
			ProtocolParser.WriteUInt32((uint)num114, span100, 0);
		}
		if (instance.paintedItem != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(6);
			BufferStream.RangeHandle range101 = stream.GetRange(1);
			int position101 = stream.Position;
			PaintedItem.Serialize(stream, instance.paintedItem);
			int num115 = stream.Position - position101;
			if (num115 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintedItem (ProtoBuf.PaintedItem)");
			}
			Span<byte> span101 = range101.GetSpan();
			ProtocolParser.WriteUInt32((uint)num115, span101, 0);
		}
		if (instance.clanManager != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(6);
			BufferStream.RangeHandle range102 = stream.GetRange(5);
			int position102 = stream.Position;
			ClanManager.Serialize(stream, instance.clanManager);
			int val31 = stream.Position - position102;
			Span<byte> span102 = range102.GetSpan();
			int num116 = ProtocolParser.WriteUInt32((uint)val31, span102, 0);
			if (num116 < 5)
			{
				span102[num116 - 1] |= 128;
				while (num116 < 4)
				{
					span102[num116++] = 128;
				}
				span102[4] = 0;
			}
		}
		if (instance.spray != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(6);
			BufferStream.RangeHandle range103 = stream.GetRange(1);
			int position103 = stream.Position;
			Spray.Serialize(stream, instance.spray);
			int num117 = stream.Position - position103;
			if (num117 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spray (ProtoBuf.Spray)");
			}
			Span<byte> span103 = range103.GetSpan();
			ProtocolParser.WriteUInt32((uint)num117, span103, 0);
		}
		if (instance.baseTrain != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(6);
			BufferStream.RangeHandle range104 = stream.GetRange(1);
			int position104 = stream.Position;
			BaseTrain.Serialize(stream, instance.baseTrain);
			int num118 = stream.Position - position104;
			if (num118 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseTrain (ProtoBuf.BaseTrain)");
			}
			Span<byte> span104 = range104.GetSpan();
			ProtocolParser.WriteUInt32((uint)num118, span104, 0);
		}
		if (instance.zipline != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(6);
			BufferStream.RangeHandle range105 = stream.GetRange(3);
			int position105 = stream.Position;
			Zipline.Serialize(stream, instance.zipline);
			int num119 = stream.Position - position105;
			if (num119 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field zipline (ProtoBuf.Zipline)");
			}
			Span<byte> span105 = range105.GetSpan();
			int num120 = ProtocolParser.WriteUInt32((uint)num119, span105, 0);
			if (num120 < 3)
			{
				span105[num120 - 1] |= 128;
				while (num120 < 2)
				{
					span105[num120++] = 128;
				}
				span105[2] = 0;
			}
		}
		if (instance.ziplineMountable != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(6);
			BufferStream.RangeHandle range106 = stream.GetRange(3);
			int position106 = stream.Position;
			ZiplineMountable.Serialize(stream, instance.ziplineMountable);
			int num121 = stream.Position - position106;
			if (num121 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ziplineMountable (ProtoBuf.ZiplineMountable)");
			}
			Span<byte> span106 = range106.GetSpan();
			int num122 = ProtocolParser.WriteUInt32((uint)num121, span106, 0);
			if (num122 < 3)
			{
				span106[num122 - 1] |= 128;
				while (num122 < 2)
				{
					span106[num122++] = 128;
				}
				span106[2] = 0;
			}
		}
		if (instance.ZiplineArrival != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(6);
			BufferStream.RangeHandle range107 = stream.GetRange(3);
			int position107 = stream.Position;
			ZiplineArrivalPoint.Serialize(stream, instance.ZiplineArrival);
			int num123 = stream.Position - position107;
			if (num123 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ZiplineArrival (ProtoBuf.ZiplineArrivalPoint)");
			}
			Span<byte> span107 = range107.GetSpan();
			int num124 = ProtocolParser.WriteUInt32((uint)num123, span107, 0);
			if (num124 < 3)
			{
				span107[num124 - 1] |= 128;
				while (num124 < 2)
				{
					span107[num124++] = 128;
				}
				span107[2] = 0;
			}
		}
		if (instance.sprayLine != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(6);
			BufferStream.RangeHandle range108 = stream.GetRange(3);
			int position108 = stream.Position;
			SprayLine.Serialize(stream, instance.sprayLine);
			int num125 = stream.Position - position108;
			if (num125 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sprayLine (ProtoBuf.SprayLine)");
			}
			Span<byte> span108 = range108.GetSpan();
			int num126 = ProtocolParser.WriteUInt32((uint)num125, span108, 0);
			if (num126 < 3)
			{
				span108[num126 - 1] |= 128;
				while (num126 < 2)
				{
					span108[num126++] = 128;
				}
				span108[2] = 0;
			}
		}
		if (instance.coalingTower != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(6);
			BufferStream.RangeHandle range109 = stream.GetRange(1);
			int position109 = stream.Position;
			CoalingTower.Serialize(stream, instance.coalingTower);
			int num127 = stream.Position - position109;
			if (num127 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field coalingTower (ProtoBuf.CoalingTower)");
			}
			Span<byte> span109 = range109.GetSpan();
			ProtocolParser.WriteUInt32((uint)num127, span109, 0);
		}
		if (instance.simpleInt != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(7);
			BufferStream.RangeHandle range110 = stream.GetRange(1);
			int position110 = stream.Position;
			SimpleInt.Serialize(stream, instance.simpleInt);
			int num128 = stream.Position - position110;
			if (num128 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleInt (ProtoBuf.SimpleInt)");
			}
			Span<byte> span110 = range110.GetSpan();
			ProtocolParser.WriteUInt32((uint)num128, span110, 0);
		}
		if (instance.baseOven != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(7);
			BufferStream.RangeHandle range111 = stream.GetRange(3);
			int position111 = stream.Position;
			BaseOven.Serialize(stream, instance.baseOven);
			int num129 = stream.Position - position111;
			if (num129 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseOven (ProtoBuf.BaseOven)");
			}
			Span<byte> span111 = range111.GetSpan();
			int num130 = ProtocolParser.WriteUInt32((uint)num129, span111, 0);
			if (num130 < 3)
			{
				span111[num130 - 1] |= 128;
				while (num130 < 2)
				{
					span111[num130++] = 128;
				}
				span111[2] = 0;
			}
		}
		if (instance.brainComponent != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(7);
			BufferStream.RangeHandle range112 = stream.GetRange(1);
			int position112 = stream.Position;
			BrainComponent.Serialize(stream, instance.brainComponent);
			int num131 = stream.Position - position112;
			if (num131 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field brainComponent (ProtoBuf.BrainComponent)");
			}
			Span<byte> span112 = range112.GetSpan();
			ProtocolParser.WriteUInt32((uint)num131, span112, 0);
		}
		if (instance.proceduralDungeon != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(7);
			BufferStream.RangeHandle range113 = stream.GetRange(1);
			int position113 = stream.Position;
			ProceduralDungeon.Serialize(stream, instance.proceduralDungeon);
			int num132 = stream.Position - position113;
			if (num132 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field proceduralDungeon (ProtoBuf.ProceduralDungeon)");
			}
			Span<byte> span113 = range113.GetSpan();
			ProtocolParser.WriteUInt32((uint)num132, span113, 0);
		}
		if (instance.industrialConveyor != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(7);
			BufferStream.RangeHandle range114 = stream.GetRange(3);
			int position114 = stream.Position;
			IndustrialConveyor.Serialize(stream, instance.industrialConveyor);
			int num133 = stream.Position - position114;
			if (num133 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialConveyor (ProtoBuf.IndustrialConveyor)");
			}
			Span<byte> span114 = range114.GetSpan();
			int num134 = ProtocolParser.WriteUInt32((uint)num133, span114, 0);
			if (num134 < 3)
			{
				span114[num134 - 1] |= 128;
				while (num134 < 2)
				{
					span114[num134++] = 128;
				}
				span114[2] = 0;
			}
		}
		if (instance.industrialCrafter != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(7);
			BufferStream.RangeHandle range115 = stream.GetRange(1);
			int position115 = stream.Position;
			IndustrialCrafter.Serialize(stream, instance.industrialCrafter);
			int num135 = stream.Position - position115;
			if (num135 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialCrafter (ProtoBuf.IndustrialCrafter)");
			}
			Span<byte> span115 = range115.GetSpan();
			ProtocolParser.WriteUInt32((uint)num135, span115, 0);
		}
		if (instance.drone != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(7);
			BufferStream.RangeHandle range116 = stream.GetRange(1);
			int position116 = stream.Position;
			Drone.Serialize(stream, instance.drone);
			int num136 = stream.Position - position116;
			if (num136 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field drone (ProtoBuf.Drone)");
			}
			Span<byte> span116 = range116.GetSpan();
			ProtocolParser.WriteUInt32((uint)num136, span116, 0);
		}
		if (instance.explosive != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(7);
			BufferStream.RangeHandle range117 = stream.GetRange(1);
			int position117 = stream.Position;
			TimedExplosive.Serialize(stream, instance.explosive);
			int num137 = stream.Position - position117;
			if (num137 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field explosive (ProtoBuf.TimedExplosive)");
			}
			Span<byte> span117 = range117.GetSpan();
			ProtocolParser.WriteUInt32((uint)num137, span117, 0);
		}
		if (instance.simpleUint != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(7);
			BufferStream.RangeHandle range118 = stream.GetRange(1);
			int position118 = stream.Position;
			SimpleUInt.Serialize(stream, instance.simpleUint);
			int num138 = stream.Position - position118;
			if (num138 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUint (ProtoBuf.SimpleUInt)");
			}
			Span<byte> span118 = range118.GetSpan();
			ProtocolParser.WriteUInt32((uint)num138, span118, 0);
		}
		if (instance.weaponRack != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(7);
			BufferStream.RangeHandle range119 = stream.GetRange(3);
			int position119 = stream.Position;
			WeaponRack.Serialize(stream, instance.weaponRack);
			int num139 = stream.Position - position119;
			if (num139 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field weaponRack (ProtoBuf.WeaponRack)");
			}
			Span<byte> span119 = range119.GetSpan();
			int num140 = ProtocolParser.WriteUInt32((uint)num139, span119, 0);
			if (num140 < 3)
			{
				span119[num140 - 1] |= 128;
				while (num140 < 2)
				{
					span119[num140++] = 128;
				}
				span119[2] = 0;
			}
		}
		if (instance.attackHeli != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(7);
			BufferStream.RangeHandle range120 = stream.GetRange(1);
			int position120 = stream.Position;
			AttackHeli.Serialize(stream, instance.attackHeli);
			int num141 = stream.Position - position120;
			if (num141 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeli (ProtoBuf.AttackHeli)");
			}
			Span<byte> span120 = range120.GetSpan();
			ProtocolParser.WriteUInt32((uint)num141, span120, 0);
		}
		if (instance.attackHeliTurret != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(7);
			BufferStream.RangeHandle range121 = stream.GetRange(1);
			int position121 = stream.Position;
			AttackHeliTurret.Serialize(stream, instance.attackHeliTurret);
			int num142 = stream.Position - position121;
			if (num142 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliTurret (ProtoBuf.AttackHeliTurret)");
			}
			Span<byte> span121 = range121.GetSpan();
			ProtocolParser.WriteUInt32((uint)num142, span121, 0);
		}
		if (instance.attackHeliRockets != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(7);
			BufferStream.RangeHandle range122 = stream.GetRange(1);
			int position122 = stream.Position;
			AttackHeliRockets.Serialize(stream, instance.attackHeliRockets);
			int num143 = stream.Position - position122;
			if (num143 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliRockets (ProtoBuf.AttackHeliRockets)");
			}
			Span<byte> span122 = range122.GetSpan();
			ProtocolParser.WriteUInt32((uint)num143, span122, 0);
		}
		if (instance.baseBoat != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(7);
			BufferStream.RangeHandle range123 = stream.GetRange(1);
			int position123 = stream.Position;
			BaseBoat.Serialize(stream, instance.baseBoat);
			int num144 = stream.Position - position123;
			if (num144 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseBoat (ProtoBuf.BaseBoat)");
			}
			Span<byte> span123 = range123.GetSpan();
			ProtocolParser.WriteUInt32((uint)num144, span123, 0);
		}
		if (instance.ragdoll != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(7);
			BufferStream.RangeHandle range124 = stream.GetRange(3);
			int position124 = stream.Position;
			Ragdoll.Serialize(stream, instance.ragdoll);
			int num145 = stream.Position - position124;
			if (num145 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ragdoll (ProtoBuf.Ragdoll)");
			}
			Span<byte> span124 = range124.GetSpan();
			int num146 = ProtocolParser.WriteUInt32((uint)num145, span124, 0);
			if (num146 < 3)
			{
				span124[num146 - 1] |= 128;
				while (num146 < 2)
				{
					span124[num146++] = 128;
				}
				span124[2] = 0;
			}
		}
		if (instance.dieselEngine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(7);
			BufferStream.RangeHandle range125 = stream.GetRange(1);
			int position125 = stream.Position;
			DieselEngine.Serialize(stream, instance.dieselEngine);
			int num147 = stream.Position - position125;
			if (num147 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dieselEngine (ProtoBuf.DieselEngine)");
			}
			Span<byte> span125 = range125.GetSpan();
			ProtocolParser.WriteUInt32((uint)num147, span125, 0);
		}
		if (instance.associatedFiles != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(9);
			BufferStream.RangeHandle range126 = stream.GetRange(5);
			int position126 = stream.Position;
			AssociatedFiles.Serialize(stream, instance.associatedFiles);
			int val32 = stream.Position - position126;
			Span<byte> span126 = range126.GetSpan();
			int num148 = ProtocolParser.WriteUInt32((uint)val32, span126, 0);
			if (num148 < 5)
			{
				span126[num148 - 1] |= 128;
				while (num148 < 4)
				{
					span126[num148++] = 128;
				}
				span126[4] = 0;
			}
		}
		if (instance.nexusFerry != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(9);
			BufferStream.RangeHandle range127 = stream.GetRange(5);
			int position127 = stream.Position;
			NexusFerry.Serialize(stream, instance.nexusFerry);
			int val33 = stream.Position - position127;
			Span<byte> span127 = range127.GetSpan();
			int num149 = ProtocolParser.WriteUInt32((uint)val33, span127, 0);
			if (num149 < 5)
			{
				span127[num149 - 1] |= 128;
				while (num149 < 4)
				{
					span127[num149++] = 128;
				}
				span127[4] = 0;
			}
		}
		if (instance.nexusIsland != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(9);
			BufferStream.RangeHandle range128 = stream.GetRange(5);
			int position128 = stream.Position;
			NexusIsland.Serialize(stream, instance.nexusIsland);
			int val34 = stream.Position - position128;
			Span<byte> span128 = range128.GetSpan();
			int num150 = ProtocolParser.WriteUInt32((uint)val34, span128, 0);
			if (num150 < 5)
			{
				span128[num150 - 1] |= 128;
				while (num150 < 4)
				{
					span128[num150++] = 128;
				}
				span128[4] = 0;
			}
		}
		if (instance.nexusDockTerminal != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(9);
			BufferStream.RangeHandle range129 = stream.GetRange(3);
			int position129 = stream.Position;
			NexusDockTerminal.Serialize(stream, instance.nexusDockTerminal);
			int num151 = stream.Position - position129;
			if (num151 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field nexusDockTerminal (ProtoBuf.NexusDockTerminal)");
			}
			Span<byte> span129 = range129.GetSpan();
			int num152 = ProtocolParser.WriteUInt32((uint)num151, span129, 0);
			if (num152 < 3)
			{
				span129[num152 - 1] |= 128;
				while (num152 < 2)
				{
					span129[num152++] = 128;
				}
				span129[2] = 0;
			}
		}
		if (instance.rockingChair != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(9);
			BufferStream.RangeHandle range130 = stream.GetRange(1);
			int position130 = stream.Position;
			RockingChair.Serialize(stream, instance.rockingChair);
			int num153 = stream.Position - position130;
			if (num153 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rockingChair (ProtoBuf.RockingChair)");
			}
			Span<byte> span130 = range130.GetSpan();
			ProtocolParser.WriteUInt32((uint)num153, span130, 0);
		}
		if (instance.headData != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(9);
			BufferStream.RangeHandle range131 = stream.GetRange(5);
			int position131 = stream.Position;
			HeadData.Serialize(stream, instance.headData);
			int val35 = stream.Position - position131;
			Span<byte> span131 = range131.GetSpan();
			int num154 = ProtocolParser.WriteUInt32((uint)val35, span131, 0);
			if (num154 < 5)
			{
				span131[num154 - 1] |= 128;
				while (num154 < 4)
				{
					span131[num154++] = 128;
				}
				span131[4] = 0;
			}
		}
		if (instance.wantedPoster != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(9);
			BufferStream.RangeHandle range132 = stream.GetRange(5);
			int position132 = stream.Position;
			WantedPoster.Serialize(stream, instance.wantedPoster);
			int val36 = stream.Position - position132;
			Span<byte> span132 = range132.GetSpan();
			int num155 = ProtocolParser.WriteUInt32((uint)val36, span132, 0);
			if (num155 < 5)
			{
				span132[num155 - 1] |= 128;
				while (num155 < 4)
				{
					span132[num155++] = 128;
				}
				span132[4] = 0;
			}
		}
		if (instance.waypointRace != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(9);
			BufferStream.RangeHandle range133 = stream.GetRange(3);
			int position133 = stream.Position;
			WaypointRace.Serialize(stream, instance.waypointRace);
			int num156 = stream.Position - position133;
			if (num156 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waypointRace (ProtoBuf.WaypointRace)");
			}
			Span<byte> span133 = range133.GetSpan();
			int num157 = ProtocolParser.WriteUInt32((uint)num156, span133, 0);
			if (num157 < 3)
			{
				span133[num157 - 1] |= 128;
				while (num157 < 2)
				{
					span133[num157++] = 128;
				}
				span133[2] = 0;
			}
		}
		if (instance.legacyShelter != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(9);
			BufferStream.RangeHandle range134 = stream.GetRange(1);
			int position134 = stream.Position;
			LegacyShelter.Serialize(stream, instance.legacyShelter);
			int num158 = stream.Position - position134;
			if (num158 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field legacyShelter (ProtoBuf.LegacyShelter)");
			}
			Span<byte> span134 = range134.GetSpan();
			ProtocolParser.WriteUInt32((uint)num158, span134, 0);
		}
		if (instance.metalDetectorSource != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(10);
			BufferStream.RangeHandle range135 = stream.GetRange(3);
			int position135 = stream.Position;
			MetalDetectorSource.Serialize(stream, instance.metalDetectorSource);
			int num159 = stream.Position - position135;
			if (num159 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field metalDetectorSource (ProtoBuf.MetalDetectorSource)");
			}
			Span<byte> span135 = range135.GetSpan();
			int num160 = ProtocolParser.WriteUInt32((uint)num159, span135, 0);
			if (num160 < 3)
			{
				span135[num160 - 1] |= 128;
				while (num160 < 2)
				{
					span135[num160++] = 128;
				}
				span135[2] = 0;
			}
		}
		if (instance.tutorialIsland != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(10);
			BufferStream.RangeHandle range136 = stream.GetRange(1);
			int position136 = stream.Position;
			TutorialIsland.Serialize(stream, instance.tutorialIsland);
			int num161 = stream.Position - position136;
			if (num161 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tutorialIsland (ProtoBuf.TutorialIsland)");
			}
			Span<byte> span136 = range136.GetSpan();
			ProtocolParser.WriteUInt32((uint)num161, span136, 0);
		}
		if (instance.cinematicEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(10);
			BufferStream.RangeHandle range137 = stream.GetRange(1);
			int position137 = stream.Position;
			CinematicEntity.Serialize(stream, instance.cinematicEntity);
			int num162 = stream.Position - position137;
			if (num162 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cinematicEntity (ProtoBuf.CinematicEntity)");
			}
			Span<byte> span137 = range137.GetSpan();
			ProtocolParser.WriteUInt32((uint)num162, span137, 0);
		}
		if (instance.buildingPrivilegeRetro != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(10);
			BufferStream.RangeHandle range138 = stream.GetRange(3);
			int position138 = stream.Position;
			BuildingPrivilegeRetro.Serialize(stream, instance.buildingPrivilegeRetro);
			int num163 = stream.Position - position138;
			if (num163 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingPrivilegeRetro (ProtoBuf.BuildingPrivilegeRetro)");
			}
			Span<byte> span138 = range138.GetSpan();
			int num164 = ProtocolParser.WriteUInt32((uint)num163, span138, 0);
			if (num164 < 3)
			{
				span138[num164 - 1] |= 128;
				while (num164 < 2)
				{
					span138[num164++] = 128;
				}
				span138[2] = 0;
			}
		}
		if (instance.harborCrane != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(10);
			BufferStream.RangeHandle range139 = stream.GetRange(3);
			int position139 = stream.Position;
			HarborCrane.Serialize(stream, instance.harborCrane);
			int num165 = stream.Position - position139;
			if (num165 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field harborCrane (ProtoBuf.HarborCrane)");
			}
			Span<byte> span139 = range139.GetSpan();
			int num166 = ProtocolParser.WriteUInt32((uint)num165, span139, 0);
			if (num166 < 3)
			{
				span139[num166 - 1] |= 128;
				while (num166 < 2)
				{
					span139[num166++] = 128;
				}
				span139[2] = 0;
			}
		}
		if (instance.cargoShip != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(10);
			BufferStream.RangeHandle range140 = stream.GetRange(3);
			int position140 = stream.Position;
			CargoShip.Serialize(stream, instance.cargoShip);
			int num167 = stream.Position - position140;
			if (num167 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShip (ProtoBuf.CargoShip)");
			}
			Span<byte> span140 = range140.GetSpan();
			int num168 = ProtocolParser.WriteUInt32((uint)num167, span140, 0);
			if (num168 < 3)
			{
				span140[num168 - 1] |= 128;
				while (num168 < 2)
				{
					span140[num168++] = 128;
				}
				span140[2] = 0;
			}
		}
		if (instance.cargoShipContainer != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(10);
			BufferStream.RangeHandle range141 = stream.GetRange(1);
			int position141 = stream.Position;
			CargoShipContainer.Serialize(stream, instance.cargoShipContainer);
			int num169 = stream.Position - position141;
			if (num169 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShipContainer (ProtoBuf.CargoShipContainer)");
			}
			Span<byte> span141 = range141.GetSpan();
			ProtocolParser.WriteUInt32((uint)num169, span141, 0);
		}
		if (instance.missionMapMarker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(10);
			BufferStream.RangeHandle range142 = stream.GetRange(5);
			int position142 = stream.Position;
			MissionMapMarker.Serialize(stream, instance.missionMapMarker);
			int val37 = stream.Position - position142;
			Span<byte> span142 = range142.GetSpan();
			int num170 = ProtocolParser.WriteUInt32((uint)val37, span142, 0);
			if (num170 < 5)
			{
				span142[num170 - 1] |= 128;
				while (num170 < 4)
				{
					span142[num170++] = 128;
				}
				span142[4] = 0;
			}
		}
		if (instance.bike != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(10);
			BufferStream.RangeHandle range143 = stream.GetRange(1);
			int position143 = stream.Position;
			Bike.Serialize(stream, instance.bike);
			int num171 = stream.Position - position143;
			if (num171 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bike (ProtoBuf.Bike)");
			}
			Span<byte> span143 = range143.GetSpan();
			ProtocolParser.WriteUInt32((uint)num171, span143, 0);
		}
		if (instance.diverPropulsionVehicle != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(10);
			BufferStream.RangeHandle range144 = stream.GetRange(1);
			int position144 = stream.Position;
			DiverPropulsionVehicle.Serialize(stream, instance.diverPropulsionVehicle);
			int num172 = stream.Position - position144;
			if (num172 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field diverPropulsionVehicle (ProtoBuf.DiverPropulsionVehicle)");
			}
			Span<byte> span144 = range144.GetSpan();
			ProtocolParser.WriteUInt32((uint)num172, span144, 0);
		}
		if (instance.travellingVendor != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(10);
			BufferStream.RangeHandle range145 = stream.GetRange(1);
			int position145 = stream.Position;
			TravellingVendor.Serialize(stream, instance.travellingVendor);
			int num173 = stream.Position - position145;
			if (num173 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field travellingVendor (ProtoBuf.TravellingVendor)");
			}
			Span<byte> span145 = range145.GetSpan();
			ProtocolParser.WriteUInt32((uint)num173, span145, 0);
		}
		if (instance.vendingDynamicPricing != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(10);
			BufferStream.RangeHandle range146 = stream.GetRange(3);
			int position146 = stream.Position;
			VendingDynamicPricing.Serialize(stream, instance.vendingDynamicPricing);
			int num174 = stream.Position - position146;
			if (num174 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingDynamicPricing (ProtoBuf.VendingDynamicPricing)");
			}
			Span<byte> span146 = range146.GetSpan();
			int num175 = ProtocolParser.WriteUInt32((uint)num174, span146, 0);
			if (num175 < 3)
			{
				span146[num175 - 1] |= 128;
				while (num175 < 2)
				{
					span146[num175++] = 128;
				}
				span146[2] = 0;
			}
		}
		if (instance.tinCanAlarm != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(11);
			BufferStream.RangeHandle range147 = stream.GetRange(1);
			int position147 = stream.Position;
			TinCanAlarm.Serialize(stream, instance.tinCanAlarm);
			int num176 = stream.Position - position147;
			if (num176 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tinCanAlarm (ProtoBuf.TinCanAlarm)");
			}
			Span<byte> span147 = range147.GetSpan();
			ProtocolParser.WriteUInt32((uint)num176, span147, 0);
		}
		if (instance.digitalClock != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(11);
			BufferStream.RangeHandle range148 = stream.GetRange(3);
			int position148 = stream.Position;
			DigitalClock.Serialize(stream, instance.digitalClock);
			int num177 = stream.Position - position148;
			if (num177 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field digitalClock (ProtoBuf.DigitalClock)");
			}
			Span<byte> span148 = range148.GetSpan();
			int num178 = ProtocolParser.WriteUInt32((uint)num177, span148, 0);
			if (num178 < 3)
			{
				span148[num178 - 1] |= 128;
				while (num178 < 2)
				{
					span148[num178++] = 128;
				}
				span148[2] = 0;
			}
		}
		if (instance.elevatorLift != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(11);
			BufferStream.RangeHandle range149 = stream.GetRange(1);
			int position149 = stream.Position;
			ElevatorLift.Serialize(stream, instance.elevatorLift);
			int num179 = stream.Position - position149;
			if (num179 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevatorLift (ProtoBuf.ElevatorLift)");
			}
			Span<byte> span149 = range149.GetSpan();
			ProtocolParser.WriteUInt32((uint)num179, span149, 0);
		}
		if (instance.npcVendingMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(11);
			BufferStream.RangeHandle range150 = stream.GetRange(1);
			int position150 = stream.Position;
			NPCVendingMachine.Serialize(stream, instance.npcVendingMachine);
			int num180 = stream.Position - position150;
			if (num180 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcVendingMachine (ProtoBuf.NPCVendingMachine)");
			}
			Span<byte> span150 = range150.GetSpan();
			ProtocolParser.WriteUInt32((uint)num180, span150, 0);
		}
		if (instance.mailbox != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(11);
			BufferStream.RangeHandle range151 = stream.GetRange(5);
			int position151 = stream.Position;
			Mailbox.Serialize(stream, instance.mailbox);
			int val38 = stream.Position - position151;
			Span<byte> span151 = range151.GetSpan();
			int num181 = ProtocolParser.WriteUInt32((uint)val38, span151, 0);
			if (num181 < 5)
			{
				span151[num181 - 1] |= 128;
				while (num181 < 4)
				{
					span151[num181++] = 128;
				}
				span151[4] = 0;
			}
		}
		if (instance.projectileWeaponMod != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(11);
			BufferStream.RangeHandle range152 = stream.GetRange(1);
			int position152 = stream.Position;
			GunWeaponMod.Serialize(stream, instance.projectileWeaponMod);
			int num182 = stream.Position - position152;
			if (num182 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field projectileWeaponMod (ProtoBuf.GunWeaponMod)");
			}
			Span<byte> span152 = range152.GetSpan();
			ProtocolParser.WriteUInt32((uint)num182, span152, 0);
		}
		if (instance.baseSculpture != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(11);
			BufferStream.RangeHandle range153 = stream.GetRange(1);
			int position153 = stream.Position;
			BaseSculpture.Serialize(stream, instance.baseSculpture);
			int num183 = stream.Position - position153;
			if (num183 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseSculpture (ProtoBuf.BaseSculpture)");
			}
			Span<byte> span153 = range153.GetSpan();
			ProtocolParser.WriteUInt32((uint)num183, span153, 0);
		}
		if (instance.vendingMachineStats != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(11);
			BufferStream.RangeHandle range154 = stream.GetRange(3);
			int position154 = stream.Position;
			VendingMachineStats.Serialize(stream, instance.vendingMachineStats);
			int num184 = stream.Position - position154;
			if (num184 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingMachineStats (ProtoBuf.VendingMachineStats)");
			}
			Span<byte> span154 = range154.GetSpan();
			int num185 = ProtocolParser.WriteUInt32((uint)num184, span154, 0);
			if (num185 < 3)
			{
				span154[num185 - 1] |= 128;
				while (num185 < 2)
				{
					span154[num185++] = 128;
				}
				span154[2] = 0;
			}
		}
		if (instance.catapult != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(11);
			BufferStream.RangeHandle range155 = stream.GetRange(1);
			int position155 = stream.Position;
			Catapult.Serialize(stream, instance.catapult);
			int num186 = stream.Position - position155;
			if (num186 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field catapult (ProtoBuf.Catapult)");
			}
			Span<byte> span155 = range155.GetSpan();
			ProtocolParser.WriteUInt32((uint)num186, span155, 0);
		}
		if (instance.siegeTower != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(11);
			BufferStream.RangeHandle range156 = stream.GetRange(1);
			int position156 = stream.Position;
			SiegeTower.Serialize(stream, instance.siegeTower);
			int num187 = stream.Position - position156;
			if (num187 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field siegeTower (ProtoBuf.SiegeTower)");
			}
			Span<byte> span156 = range156.GetSpan();
			ProtocolParser.WriteUInt32((uint)num187, span156, 0);
		}
		if (instance.ballista != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(11);
			BufferStream.RangeHandle range157 = stream.GetRange(1);
			int position157 = stream.Position;
			Ballista.Serialize(stream, instance.ballista);
			int num188 = stream.Position - position157;
			if (num188 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballista (ProtoBuf.Ballista)");
			}
			Span<byte> span157 = range157.GetSpan();
			ProtocolParser.WriteUInt32((uint)num188, span157, 0);
		}
		if (instance.ballistaGun != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(11);
			BufferStream.RangeHandle range158 = stream.GetRange(1);
			int position158 = stream.Position;
			BallistaGun.Serialize(stream, instance.ballistaGun);
			int num189 = stream.Position - position158;
			if (num189 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballistaGun (ProtoBuf.BallistaGun)");
			}
			Span<byte> span158 = range158.GetSpan();
			ProtocolParser.WriteUInt32((uint)num189, span158, 0);
		}
		if (instance.batteringRam != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(11);
			BufferStream.RangeHandle range159 = stream.GetRange(1);
			int position159 = stream.Position;
			BatteringRam.Serialize(stream, instance.batteringRam);
			int num190 = stream.Position - position159;
			if (num190 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field batteringRam (ProtoBuf.BatteringRam)");
			}
			Span<byte> span159 = range159.GetSpan();
			ProtocolParser.WriteUInt32((uint)num190, span159, 0);
		}
		if (instance.temporaryRagdoll != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(11);
			BufferStream.RangeHandle range160 = stream.GetRange(1);
			int position160 = stream.Position;
			TemporaryRagdoll.Serialize(stream, instance.temporaryRagdoll);
			int num191 = stream.Position - position160;
			if (num191 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field temporaryRagdoll (ProtoBuf.TemporaryRagdoll)");
			}
			Span<byte> span160 = range160.GetSpan();
			ProtocolParser.WriteUInt32((uint)num191, span160, 0);
		}
		if (instance.constructableEntity != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(11);
			BufferStream.RangeHandle range161 = stream.GetRange(3);
			int position161 = stream.Position;
			ConstructableEntity.Serialize(stream, instance.constructableEntity);
			int num192 = stream.Position - position161;
			if (num192 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field constructableEntity (ProtoBuf.ConstructableEntity)");
			}
			Span<byte> span161 = range161.GetSpan();
			int num193 = ProtocolParser.WriteUInt32((uint)num192, span161, 0);
			if (num193 < 3)
			{
				span161[num193 - 1] |= 128;
				while (num193 < 2)
				{
					span161[num193++] = 128;
				}
				span161[2] = 0;
			}
		}
		if (instance.chickenCoop != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(12);
			BufferStream.RangeHandle range162 = stream.GetRange(3);
			int position162 = stream.Position;
			ChickenCoop.Serialize(stream, instance.chickenCoop);
			int num194 = stream.Position - position162;
			if (num194 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field chickenCoop (ProtoBuf.ChickenCoop)");
			}
			Span<byte> span162 = range162.GetSpan();
			int num195 = ProtocolParser.WriteUInt32((uint)num194, span162, 0);
			if (num195 < 3)
			{
				span162[num195 - 1] |= 128;
				while (num195 < 2)
				{
					span162[num195++] = 128;
				}
				span162[2] = 0;
			}
		}
		if (instance.farmableAnimal != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(12);
			BufferStream.RangeHandle range163 = stream.GetRange(5);
			int position163 = stream.Position;
			FarmableAnimal.Serialize(stream, instance.farmableAnimal);
			int val39 = stream.Position - position163;
			Span<byte> span163 = range163.GetSpan();
			int num196 = ProtocolParser.WriteUInt32((uint)val39, span163, 0);
			if (num196 < 5)
			{
				span163[num196 - 1] |= 128;
				while (num196 < 4)
				{
					span163[num196++] = 128;
				}
				span163[4] = 0;
			}
		}
		if (instance.ownership != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(12);
			BufferStream.RangeHandle range164 = stream.GetRange(5);
			int position164 = stream.Position;
			ItemOwnershipAmount.Serialize(stream, instance.ownership);
			int val40 = stream.Position - position164;
			Span<byte> span164 = range164.GetSpan();
			int num197 = ProtocolParser.WriteUInt32((uint)val40, span164, 0);
			if (num197 < 5)
			{
				span164[num197 - 1] |= 128;
				while (num197 < 4)
				{
					span164[num197++] = 128;
				}
				span164[4] = 0;
			}
		}
		if (instance.beehive != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(12);
			BufferStream.RangeHandle range165 = stream.GetRange(1);
			int position165 = stream.Position;
			Beehive.Serialize(stream, instance.beehive);
			int num198 = stream.Position - position165;
			if (num198 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beehive (ProtoBuf.Beehive)");
			}
			Span<byte> span165 = range165.GetSpan();
			ProtocolParser.WriteUInt32((uint)num198, span165, 0);
		}
		if (instance.beeMasterSwarm != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(12);
			BufferStream.RangeHandle range166 = stream.GetRange(1);
			int position166 = stream.Position;
			BeeMasterSwarm.Serialize(stream, instance.beeMasterSwarm);
			int num199 = stream.Position - position166;
			if (num199 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beeMasterSwarm (ProtoBuf.BeeMasterSwarm)");
			}
			Span<byte> span166 = range166.GetSpan();
			ProtocolParser.WriteUInt32((uint)num199, span166, 0);
		}
		if (instance.containerCorpse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(12);
			BufferStream.RangeHandle range167 = stream.GetRange(5);
			int position167 = stream.Position;
			ContainerCorpseData.Serialize(stream, instance.containerCorpse);
			int val41 = stream.Position - position167;
			Span<byte> span167 = range167.GetSpan();
			int num200 = ProtocolParser.WriteUInt32((uint)val41, span167, 0);
			if (num200 < 5)
			{
				span167[num200 - 1] |= 128;
				while (num200 < 4)
				{
					span167[num200++] = 128;
				}
				span167[4] = 0;
			}
		}
		if (instance.npcSensesState != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(12);
			BufferStream.RangeHandle range168 = stream.GetRange(1);
			int position168 = stream.Position;
			NPCSensesState.Serialize(stream, instance.npcSensesState);
			int num201 = stream.Position - position168;
			if (num201 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcSensesState (ProtoBuf.NPCSensesState)");
			}
			Span<byte> span168 = range168.GetSpan();
			ProtocolParser.WriteUInt32((uint)num201, span168, 0);
		}
		if (instance.vineMountable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(12);
			BufferStream.RangeHandle range169 = stream.GetRange(3);
			int position169 = stream.Position;
			VineMountable.Serialize(stream, instance.vineMountable);
			int num202 = stream.Position - position169;
			if (num202 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineMountable (ProtoBuf.VineMountable)");
			}
			Span<byte> span169 = range169.GetSpan();
			int num203 = ProtocolParser.WriteUInt32((uint)num202, span169, 0);
			if (num203 < 3)
			{
				span169[num203 - 1] |= 128;
				while (num203 < 2)
				{
					span169[num203++] = 128;
				}
				span169[2] = 0;
			}
		}
		if (instance.vineTree != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(12);
			BufferStream.RangeHandle range170 = stream.GetRange(3);
			int position170 = stream.Position;
			VineTree.Serialize(stream, instance.vineTree);
			int num204 = stream.Position - position170;
			if (num204 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineTree (ProtoBuf.VineTree)");
			}
			Span<byte> span170 = range170.GetSpan();
			int num205 = ProtocolParser.WriteUInt32((uint)num204, span170, 0);
			if (num205 < 3)
			{
				span170[num205 - 1] |= 128;
				while (num205 < 2)
				{
					span170[num205++] = 128;
				}
				span170[2] = 0;
			}
		}
		if (instance.treeRespawn != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(12);
			BufferStream.RangeHandle range171 = stream.GetRange(1);
			int position171 = stream.Position;
			TreeRespawn.Serialize(stream, instance.treeRespawn);
			int num206 = stream.Position - position171;
			if (num206 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field treeRespawn (ProtoBuf.TreeRespawn)");
			}
			Span<byte> span171 = range171.GetSpan();
			ProtocolParser.WriteUInt32((uint)num206, span171, 0);
		}
		if (instance.wallpaperTool != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(12);
			BufferStream.RangeHandle range172 = stream.GetRange(1);
			int position172 = stream.Position;
			WallpaperTool.Serialize(stream, instance.wallpaperTool);
			int num207 = stream.Position - position172;
			if (num207 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field wallpaperTool (ProtoBuf.WallpaperTool)");
			}
			Span<byte> span172 = range172.GetSpan();
			ProtocolParser.WriteUInt32((uint)num207, span172, 0);
		}
		if (instance.commandBlock != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(12);
			BufferStream.RangeHandle range173 = stream.GetRange(5);
			int position173 = stream.Position;
			CommandBlock.Serialize(stream, instance.commandBlock);
			int val42 = stream.Position - position173;
			Span<byte> span173 = range173.GetSpan();
			int num208 = ProtocolParser.WriteUInt32((uint)val42, span173, 0);
			if (num208 < 5)
			{
				span173[num208 - 1] |= 128;
				while (num208 < 4)
				{
					span173[num208++] = 128;
				}
				span173[4] = 0;
			}
		}
		if (instance.staticRespawn != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(12);
			BufferStream.RangeHandle range174 = stream.GetRange(3);
			int position174 = stream.Position;
			StaticRespawnAreaData.Serialize(stream, instance.staticRespawn);
			int num209 = stream.Position - position174;
			if (num209 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field staticRespawn (ProtoBuf.StaticRespawnAreaData)");
			}
			Span<byte> span174 = range174.GetSpan();
			int num210 = ProtocolParser.WriteUInt32((uint)num209, span174, 0);
			if (num210 < 3)
			{
				span174[num210 - 1] |= 128;
				while (num210 < 2)
				{
					span174[num210++] = 128;
				}
				span174[2] = 0;
			}
		}
		if (instance.buriedItemStorage != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(12);
			BufferStream.RangeHandle range175 = stream.GetRange(5);
			int position175 = stream.Position;
			BuriedItems.Serialize(stream, instance.buriedItemStorage);
			int val43 = stream.Position - position175;
			Span<byte> span175 = range175.GetSpan();
			int num211 = ProtocolParser.WriteUInt32((uint)val43, span175, 0);
			if (num211 < 5)
			{
				span175[num211 - 1] |= 128;
				while (num211 < 4)
				{
					span175[num211++] = 128;
				}
				span175[4] = 0;
			}
		}
		if (instance.mannequin != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(12);
			BufferStream.RangeHandle range176 = stream.GetRange(3);
			int position176 = stream.Position;
			Mannequin.Serialize(stream, instance.mannequin);
			int num212 = stream.Position - position176;
			if (num212 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mannequin (ProtoBuf.Mannequin)");
			}
			Span<byte> span176 = range176.GetSpan();
			int num213 = ProtocolParser.WriteUInt32((uint)num212, span176, 0);
			if (num213 < 3)
			{
				span176[num213 - 1] |= 128;
				while (num213 < 2)
				{
					span176[num213++] = 128;
				}
				span176[2] = 0;
			}
		}
		if (instance.baseMelee != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(12);
			BufferStream.RangeHandle range177 = stream.GetRange(1);
			int position177 = stream.Position;
			BaseMelee.Serialize(stream, instance.baseMelee);
			int num214 = stream.Position - position177;
			if (num214 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseMelee (ProtoBuf.BaseMelee)");
			}
			Span<byte> span177 = range177.GetSpan();
			ProtocolParser.WriteUInt32((uint)num214, span177, 0);
		}
		if (instance.door != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(13);
			BufferStream.RangeHandle range178 = stream.GetRange(1);
			int position178 = stream.Position;
			Door.Serialize(stream, instance.door);
			int num215 = stream.Position - position178;
			if (num215 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field door (ProtoBuf.Door)");
			}
			Span<byte> span178 = range178.GetSpan();
			ProtocolParser.WriteUInt32((uint)num215, span178, 0);
		}
		if (instance.storageAdaptor != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(13);
			BufferStream.RangeHandle range179 = stream.GetRange(5);
			int position179 = stream.Position;
			StorageAdaptor.Serialize(stream, instance.storageAdaptor);
			int val44 = stream.Position - position179;
			Span<byte> span179 = range179.GetSpan();
			int num216 = ProtocolParser.WriteUInt32((uint)val44, span179, 0);
			if (num216 < 5)
			{
				span179[num216 - 1] |= 128;
				while (num216 < 4)
				{
					span179[num216++] = 128;
				}
				span179[4] = 0;
			}
		}
		if (instance.helicopterFlares != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(13);
			BufferStream.RangeHandle range180 = stream.GetRange(1);
			int position180 = stream.Position;
			HelicopterFlares.Serialize(stream, instance.helicopterFlares);
			int num217 = stream.Position - position180;
			if (num217 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field helicopterFlares (ProtoBuf.HelicopterFlares)");
			}
			Span<byte> span180 = range180.GetSpan();
			ProtocolParser.WriteUInt32((uint)num217, span180, 0);
		}
		if (instance.wipeLaptop != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(13);
			BufferStream.RangeHandle range181 = stream.GetRange(1);
			int position181 = stream.Position;
			WipeLaptop.Serialize(stream, instance.wipeLaptop);
			int num218 = stream.Position - position181;
			if (num218 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field wipeLaptop (ProtoBuf.WipeLaptop)");
			}
			Span<byte> span181 = range181.GetSpan();
			ProtocolParser.WriteUInt32((uint)num218, span181, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		baseNetworkable?.InspectUids(action);
		baseEntity?.InspectUids(action);
		basePlayer?.InspectUids(action);
		worldItem?.InspectUids(action);
		resource?.InspectUids(action);
		buildingBlock?.InspectUids(action);
		environment?.InspectUids(action);
		corpse?.InspectUids(action);
		parent?.InspectUids(action);
		keyLock?.InspectUids(action);
		codeLock?.InspectUids(action);
		entitySlots?.InspectUids(action);
		buildingPrivilege?.InspectUids(action);
		storageBox?.InspectUids(action);
		heldEntity?.InspectUids(action);
		baseProjectile?.InspectUids(action);
		baseNPC?.InspectUids(action);
		loot?.InspectUids(action);
		genericSpawner?.InspectUids(action);
		sleepingBag?.InspectUids(action);
		lootableCorpse?.InspectUids(action);
		sign?.InspectUids(action);
		baseCombat?.InspectUids(action);
		mapEntity?.InspectUids(action);
		researchTable?.InspectUids(action);
		dudExplosive?.InspectUids(action);
		miningQuarry?.InspectUids(action);
		baseVehicle?.InspectUids(action);
		helicopter?.InspectUids(action);
		landmine?.InspectUids(action);
		autoturret?.InspectUids(action);
		sphereEntity?.InspectUids(action);
		stabilityEntity?.InspectUids(action);
		ownerInfo?.InspectUids(action);
		decayEntity?.InspectUids(action);
		spawnable?.InspectUids(action);
		servergib?.InspectUids(action);
		vendingMachine?.InspectUids(action);
		spinnerWheel?.InspectUids(action);
		lift?.InspectUids(action);
		bradley?.InspectUids(action);
		waterwell?.InspectUids(action);
		motorBoat?.InspectUids(action);
		ioEntity?.InspectUids(action);
		puzzleReset?.InspectUids(action);
		relationshipManager?.InspectUids(action);
		hotAirBalloon?.InspectUids(action);
		samSite?.InspectUids(action);
		eggHunt?.InspectUids(action);
		arcadeMachine?.InspectUids(action);
		miniCopter?.InspectUids(action);
		horse?.InspectUids(action);
		smartAlarm?.InspectUids(action);
		lightString?.InspectUids(action);
		lightDeployer?.InspectUids(action);
		rcEntity?.InspectUids(action);
		computerStation?.InspectUids(action);
		growableEntity?.InspectUids(action);
		composter?.InspectUids(action);
		modularVehicle?.InspectUids(action);
		modularCar?.InspectUids(action);
		simpleUID?.InspectUids(action);
		vehicleLift?.InspectUids(action);
		engineStorage?.InspectUids(action);
		vehicleVendor?.InspectUids(action);
		WaterPool?.InspectUids(action);
		photo?.InspectUids(action);
		photoFrame?.InspectUids(action);
		vehicleModule?.InspectUids(action);
		mixingTable?.InspectUids(action);
		shopKeeper?.InspectUids(action);
		elevator?.InspectUids(action);
		skullTrophy?.InspectUids(action);
		cassette?.InspectUids(action);
		telephone?.InspectUids(action);
		boomBox?.InspectUids(action);
		neonSign?.InspectUids(action);
		subEntityList?.InspectUids(action);
		marketTerminal?.InspectUids(action);
		deliveryDrone?.InspectUids(action);
		reclaimTerminal?.InspectUids(action);
		slotMachine?.InspectUids(action);
		trainEngine?.InspectUids(action);
		cardGame?.InspectUids(action);
		crane?.InspectUids(action);
		connectedSpeaker?.InspectUids(action);
		audioEntity?.InspectUids(action);
		microphoneStand?.InspectUids(action);
		submarine?.InspectUids(action);
		sleepingBagCamper?.InspectUids(action);
		camperModule?.InspectUids(action);
		paintableSign?.InspectUids(action);
		whitelist?.InspectUids(action);
		FrankensteinTable?.InspectUids(action);
		mlrs?.InspectUids(action);
		reclaimManager?.InspectUids(action);
		gameMode?.InspectUids(action);
		snowmobile?.InspectUids(action);
		patternFirework?.InspectUids(action);
		cargoPlane?.InspectUids(action);
		paintedItem?.InspectUids(action);
		clanManager?.InspectUids(action);
		spray?.InspectUids(action);
		baseTrain?.InspectUids(action);
		zipline?.InspectUids(action);
		ziplineMountable?.InspectUids(action);
		ZiplineArrival?.InspectUids(action);
		sprayLine?.InspectUids(action);
		coalingTower?.InspectUids(action);
		simpleInt?.InspectUids(action);
		baseOven?.InspectUids(action);
		brainComponent?.InspectUids(action);
		proceduralDungeon?.InspectUids(action);
		industrialConveyor?.InspectUids(action);
		industrialCrafter?.InspectUids(action);
		drone?.InspectUids(action);
		explosive?.InspectUids(action);
		simpleUint?.InspectUids(action);
		weaponRack?.InspectUids(action);
		attackHeli?.InspectUids(action);
		attackHeliTurret?.InspectUids(action);
		attackHeliRockets?.InspectUids(action);
		baseBoat?.InspectUids(action);
		ragdoll?.InspectUids(action);
		dieselEngine?.InspectUids(action);
		associatedFiles?.InspectUids(action);
		nexusFerry?.InspectUids(action);
		nexusIsland?.InspectUids(action);
		nexusDockTerminal?.InspectUids(action);
		rockingChair?.InspectUids(action);
		headData?.InspectUids(action);
		wantedPoster?.InspectUids(action);
		waypointRace?.InspectUids(action);
		legacyShelter?.InspectUids(action);
		metalDetectorSource?.InspectUids(action);
		tutorialIsland?.InspectUids(action);
		cinematicEntity?.InspectUids(action);
		buildingPrivilegeRetro?.InspectUids(action);
		harborCrane?.InspectUids(action);
		cargoShip?.InspectUids(action);
		cargoShipContainer?.InspectUids(action);
		missionMapMarker?.InspectUids(action);
		bike?.InspectUids(action);
		diverPropulsionVehicle?.InspectUids(action);
		travellingVendor?.InspectUids(action);
		vendingDynamicPricing?.InspectUids(action);
		tinCanAlarm?.InspectUids(action);
		digitalClock?.InspectUids(action);
		elevatorLift?.InspectUids(action);
		npcVendingMachine?.InspectUids(action);
		mailbox?.InspectUids(action);
		projectileWeaponMod?.InspectUids(action);
		baseSculpture?.InspectUids(action);
		vendingMachineStats?.InspectUids(action);
		catapult?.InspectUids(action);
		siegeTower?.InspectUids(action);
		ballista?.InspectUids(action);
		ballistaGun?.InspectUids(action);
		batteringRam?.InspectUids(action);
		temporaryRagdoll?.InspectUids(action);
		constructableEntity?.InspectUids(action);
		chickenCoop?.InspectUids(action);
		farmableAnimal?.InspectUids(action);
		ownership?.InspectUids(action);
		beehive?.InspectUids(action);
		beeMasterSwarm?.InspectUids(action);
		containerCorpse?.InspectUids(action);
		npcSensesState?.InspectUids(action);
		vineMountable?.InspectUids(action);
		vineTree?.InspectUids(action);
		treeRespawn?.InspectUids(action);
		wallpaperTool?.InspectUids(action);
		commandBlock?.InspectUids(action);
		staticRespawn?.InspectUids(action);
		buriedItemStorage?.InspectUids(action);
		mannequin?.InspectUids(action);
		baseMelee?.InspectUids(action);
		door?.InspectUids(action);
		storageAdaptor?.InspectUids(action);
		helicopterFlares?.InspectUids(action);
		wipeLaptop?.InspectUids(action);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class EntityIdList : IDisposable, IPooled, IProto<EntityIdList>, IProto
{
	[NonSerialized]
	public List<NetworkableId> entityIds;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(EntityIdList instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.entityIds != null)
			{
				List<NetworkableId> list = instance.entityIds;
				Pool.FreeUnmanaged<NetworkableId>(ref list);
				instance.entityIds = list;
			}
			Pool.Free<EntityIdList>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose EntityIdList with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(EntityIdList instance)
	{
		if (entityIds != null)
		{
			instance.entityIds = Pool.Get<List<NetworkableId>>();
			for (int i = 0; i < entityIds.Count; i++)
			{
				NetworkableId item = entityIds[i];
				instance.entityIds.Add(item);
			}
		}
		else
		{
			instance.entityIds = null;
		}
	}

	public EntityIdList Copy()
	{
		EntityIdList entityIdList = Pool.Get<EntityIdList>();
		CopyTo(entityIdList);
		return entityIdList;
	}

	public static EntityIdList Deserialize(BufferStream stream)
	{
		EntityIdList entityIdList = Pool.Get<EntityIdList>();
		Deserialize(stream, entityIdList, isDelta: false);
		return entityIdList;
	}

	public static EntityIdList DeserializeLengthDelimited(BufferStream stream)
	{
		EntityIdList entityIdList = Pool.Get<EntityIdList>();
		DeserializeLengthDelimited(stream, entityIdList, isDelta: false);
		return entityIdList;
	}

	public static EntityIdList DeserializeLength(BufferStream stream, int length)
	{
		EntityIdList entityIdList = Pool.Get<EntityIdList>();
		DeserializeLength(stream, length, entityIdList, isDelta: false);
		return entityIdList;
	}

	public static EntityIdList Deserialize(byte[] buffer)
	{
		EntityIdList entityIdList = Pool.Get<EntityIdList>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, entityIdList, isDelta: false);
		return entityIdList;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, EntityIdList previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static EntityIdList Deserialize(BufferStream stream, EntityIdList instance, bool isDelta)
	{
		if (!isDelta && instance.entityIds == null)
		{
			instance.entityIds = Pool.Get<List<NetworkableId>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.entityIds.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static EntityIdList DeserializeLengthDelimited(BufferStream stream, EntityIdList instance, bool isDelta)
	{
		if (!isDelta && instance.entityIds == null)
		{
			instance.entityIds = Pool.Get<List<NetworkableId>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.entityIds.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static EntityIdList DeserializeLength(BufferStream stream, int length, EntityIdList instance, bool isDelta)
	{
		if (!isDelta && instance.entityIds == null)
		{
			instance.entityIds = Pool.Get<List<NetworkableId>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.entityIds.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, EntityIdList instance, EntityIdList previous)
	{
		if (instance.entityIds != null)
		{
			for (int i = 0; i < instance.entityIds.Count; i++)
			{
				NetworkableId networkableId = instance.entityIds[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, networkableId.Value);
			}
		}
	}

	public static void Serialize(BufferStream stream, EntityIdList instance)
	{
		if (instance.entityIds != null)
		{
			for (int i = 0; i < instance.entityIds.Count; i++)
			{
				NetworkableId networkableId = instance.entityIds[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, networkableId.Value);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		for (int i = 0; i < entityIds.Count; i++)
		{
			NetworkableId value = entityIds[i];
			action(UidType.NetworkableId, ref value.Value);
			entityIds[i] = value;
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class EntityList : IDisposable, IPooled, IProto<EntityList>, IProto
{
	[NonSerialized]
	public List<Entity> entity;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(EntityList instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.entity != null)
		{
			for (int i = 0; i < instance.entity.Count; i++)
			{
				if (instance.entity[i] != null)
				{
					instance.entity[i].ResetToPool();
					instance.entity[i] = null;
				}
			}
			List<Entity> list = instance.entity;
			Pool.Free<Entity>(ref list, false);
			instance.entity = list;
		}
		Pool.Free<EntityList>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose EntityList with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(EntityList instance)
	{
		if (entity != null)
		{
			instance.entity = Pool.Get<List<Entity>>();
			for (int i = 0; i < entity.Count; i++)
			{
				Entity item = entity[i].Copy();
				instance.entity.Add(item);
			}
		}
		else
		{
			instance.entity = null;
		}
	}

	public EntityList Copy()
	{
		EntityList entityList = Pool.Get<EntityList>();
		CopyTo(entityList);
		return entityList;
	}

	public static EntityList Deserialize(BufferStream stream)
	{
		EntityList entityList = Pool.Get<EntityList>();
		Deserialize(stream, entityList, isDelta: false);
		return entityList;
	}

	public static EntityList DeserializeLengthDelimited(BufferStream stream)
	{
		EntityList entityList = Pool.Get<EntityList>();
		DeserializeLengthDelimited(stream, entityList, isDelta: false);
		return entityList;
	}

	public static EntityList DeserializeLength(BufferStream stream, int length)
	{
		EntityList entityList = Pool.Get<EntityList>();
		DeserializeLength(stream, length, entityList, isDelta: false);
		return entityList;
	}

	public static EntityList Deserialize(byte[] buffer)
	{
		EntityList entityList = Pool.Get<EntityList>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, entityList, isDelta: false);
		return entityList;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, EntityList previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static EntityList Deserialize(BufferStream stream, EntityList instance, bool isDelta)
	{
		if (!isDelta && instance.entity == null)
		{
			instance.entity = Pool.Get<List<Entity>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.entity.Add(Entity.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static EntityList DeserializeLengthDelimited(BufferStream stream, EntityList instance, bool isDelta)
	{
		if (!isDelta && instance.entity == null)
		{
			instance.entity = Pool.Get<List<Entity>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.entity.Add(Entity.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static EntityList DeserializeLength(BufferStream stream, int length, EntityList instance, bool isDelta)
	{
		if (!isDelta && instance.entity == null)
		{
			instance.entity = Pool.Get<List<Entity>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.entity.Add(Entity.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, EntityList instance, EntityList previous)
	{
		if (instance.entity == null)
		{
			return;
		}
		for (int i = 0; i < instance.entity.Count; i++)
		{
			Entity entity = instance.entity[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Entity.SerializeDelta(stream, entity, entity);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
	}

	public static void Serialize(BufferStream stream, EntityList instance)
	{
		if (instance.entity == null)
		{
			return;
		}
		for (int i = 0; i < instance.entity.Count; i++)
		{
			Entity instance2 = instance.entity[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Entity.Serialize(stream, instance2);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (entity != null)
		{
			for (int i = 0; i < entity.Count; i++)
			{
				entity[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class EntitySlots : IDisposable, IPooled, IProto<EntitySlots>, IProto
{
	[NonSerialized]
	public NetworkableId slotLock;

	[NonSerialized]
	public NetworkableId slotFireMod;

	[NonSerialized]
	public NetworkableId slotUpperModification;

	[NonSerialized]
	public NetworkableId centerDecoration;

	[NonSerialized]
	public NetworkableId lowerCenterDecoration;

	[NonSerialized]
	public NetworkableId storageMonitor;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(EntitySlots instance)
	{
		if (instance.ShouldPool)
		{
			instance.slotLock = default(NetworkableId);
			instance.slotFireMod = default(NetworkableId);
			instance.slotUpperModification = default(NetworkableId);
			instance.centerDecoration = default(NetworkableId);
			instance.lowerCenterDecoration = default(NetworkableId);
			instance.storageMonitor = default(NetworkableId);
			Pool.Free<EntitySlots>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose EntitySlots with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(EntitySlots instance)
	{
		instance.slotLock = slotLock;
		instance.slotFireMod = slotFireMod;
		instance.slotUpperModification = slotUpperModification;
		instance.centerDecoration = centerDecoration;
		instance.lowerCenterDecoration = lowerCenterDecoration;
		instance.storageMonitor = storageMonitor;
	}

	public EntitySlots Copy()
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		CopyTo(entitySlots);
		return entitySlots;
	}

	public static EntitySlots Deserialize(BufferStream stream)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		Deserialize(stream, entitySlots, isDelta: false);
		return entitySlots;
	}

	public static EntitySlots DeserializeLengthDelimited(BufferStream stream)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		DeserializeLengthDelimited(stream, entitySlots, isDelta: false);
		return entitySlots;
	}

	public static EntitySlots DeserializeLength(BufferStream stream, int length)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		DeserializeLength(stream, length, entitySlots, isDelta: false);
		return entitySlots;
	}

	public static EntitySlots Deserialize(byte[] buffer)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, entitySlots, isDelta: false);
		return entitySlots;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, EntitySlots previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static EntitySlots Deserialize(BufferStream stream, EntitySlots instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.slotLock = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slotFireMod = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.slotUpperModification = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.centerDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.lowerCenterDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.storageMonitor = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static EntitySlots DeserializeLengthDelimited(BufferStream stream, EntitySlots instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.slotLock = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slotFireMod = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.slotUpperModification = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.centerDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.lowerCenterDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.storageMonitor = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static EntitySlots DeserializeLength(BufferStream stream, int length, EntitySlots instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.slotLock = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slotFireMod = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.slotUpperModification = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.centerDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.lowerCenterDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.storageMonitor = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, EntitySlots instance, EntitySlots previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.slotLock.Value);
		stream.WriteByte(16);
		ProtocolParser.WriteUInt64(stream, instance.slotFireMod.Value);
		stream.WriteByte(24);
		ProtocolParser.WriteUInt64(stream, instance.slotUpperModification.Value);
		stream.WriteByte(32);
		ProtocolParser.WriteUInt64(stream, instance.centerDecoration.Value);
		stream.WriteByte(40);
		ProtocolParser.WriteUInt64(stream, instance.lowerCenterDecoration.Value);
		stream.WriteByte(48);
		ProtocolParser.WriteUInt64(stream, instance.storageMonitor.Value);
	}

	public static void Serialize(BufferStream stream, EntitySlots instance)
	{
		if (instance.slotLock != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.slotLock.Value);
		}
		if (instance.slotFireMod != default(NetworkableId))
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.slotFireMod.Value);
		}
		if (instance.slotUpperModification != default(NetworkableId))
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.slotUpperModification.Value);
		}
		if (instance.centerDecoration != default(NetworkableId))
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, instance.centerDecoration.Value);
		}
		if (instance.lowerCenterDecoration != default(NetworkableId))
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, instance.lowerCenterDecoration.Value);
		}
		if (instance.storageMonitor != default(NetworkableId))
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, instance.storageMonitor.Value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref slotLock.Value);
		action(UidType.NetworkableId, ref slotFireMod.Value);
		action(UidType.NetworkableId, ref slotUpperModification.Value);
		action(UidType.NetworkableId, ref centerDecoration.Value);
		action(UidType.NetworkableId, ref lowerCenterDecoration.Value);
		action(UidType.NetworkableId, ref storageMonitor.Value);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Environment : IDisposable, IPooled, IProto<ProtoBuf.Environment>, IProto
{
	[NonSerialized]
	public long dateTime;

	[NonSerialized]
	public float clouds;

	[NonSerialized]
	public float fog;

	[NonSerialized]
	public float wind;

	[NonSerialized]
	public float rain;

	[NonSerialized]
	public float engineTime;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ProtoBuf.Environment instance)
	{
		if (instance.ShouldPool)
		{
			instance.dateTime = 0L;
			instance.clouds = 0f;
			instance.fog = 0f;
			instance.wind = 0f;
			instance.rain = 0f;
			instance.engineTime = 0f;
			Pool.Free<ProtoBuf.Environment>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Environment with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ProtoBuf.Environment instance)
	{
		instance.dateTime = dateTime;
		instance.clouds = clouds;
		instance.fog = fog;
		instance.wind = wind;
		instance.rain = rain;
		instance.engineTime = engineTime;
	}

	public ProtoBuf.Environment Copy()
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		CopyTo(environment);
		return environment;
	}

	public static ProtoBuf.Environment Deserialize(BufferStream stream)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		Deserialize(stream, environment, isDelta: false);
		return environment;
	}

	public static ProtoBuf.Environment DeserializeLengthDelimited(BufferStream stream)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		DeserializeLengthDelimited(stream, environment, isDelta: false);
		return environment;
	}

	public static ProtoBuf.Environment DeserializeLength(BufferStream stream, int length)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		DeserializeLength(stream, length, environment, isDelta: false);
		return environment;
	}

	public static ProtoBuf.Environment Deserialize(byte[] buffer)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, environment, isDelta: false);
		return environment;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ProtoBuf.Environment previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ProtoBuf.Environment Deserialize(BufferStream stream, ProtoBuf.Environment instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.dateTime = (long)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.clouds = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.fog = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.wind = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.rain = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.engineTime = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static ProtoBuf.Environment DeserializeLengthDelimited(BufferStream stream, ProtoBuf.Environment instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.dateTime = (long)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.clouds = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.fog = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.wind = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.rain = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.engineTime = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ProtoBuf.Environment DeserializeLength(BufferStream stream, int length, ProtoBuf.Environment instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.dateTime = (long)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.clouds = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.fog = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.wind = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.rain = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.engineTime = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ProtoBuf.Environment instance, ProtoBuf.Environment previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, (ulong)instance.dateTime);
		if (instance.clouds != previous.clouds)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.clouds);
		}
		if (instance.fog != previous.fog)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.fog);
		}
		if (instance.wind != previous.wind)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.wind);
		}
		if (instance.rain != previous.rain)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.rain);
		}
		if (instance.engineTime != previous.engineTime)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.engineTime);
		}
	}

	public static void Serialize(BufferStream stream, ProtoBuf.Environment instance)
	{
		if (instance.dateTime != 0L)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.dateTime);
		}
		if (instance.clouds != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.clouds);
		}
		if (instance.fog != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.fog);
		}
		if (instance.wind != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.wind);
		}
		if (instance.rain != 0f)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.rain);
		}
		if (instance.engineTime != 0f)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.engineTime);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class FarmableAnimal : IDisposable, IPooled, IProto<FarmableAnimal>, IProto
{
	[NonSerialized]
	public float hunger;

	[NonSerialized]
	public float thirst;

	[NonSerialized]
	public float love;

	[NonSerialized]
	public float sunlight;

	[NonSerialized]
	public string animalName;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(FarmableAnimal instance)
	{
		if (instance.ShouldPool)
		{
			instance.hunger = 0f;
			instance.thirst = 0f;
			instance.love = 0f;
			instance.sunlight = 0f;
			instance.animalName = string.Empty;
			Pool.Free<FarmableAnimal>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose FarmableAnimal with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(FarmableAnimal instance)
	{
		instance.hunger = hunger;
		instance.thirst = thirst;
		instance.love = love;
		instance.sunlight = sunlight;
		instance.animalName = animalName;
	}

	public FarmableAnimal Copy()
	{
		FarmableAnimal farmableAnimal = Pool.Get<FarmableAnimal>();
		CopyTo(farmableAnimal);
		return farmableAnimal;
	}

	public static FarmableAnimal Deserialize(BufferStream stream)
	{
		FarmableAnimal farmableAnimal = Pool.Get<FarmableAnimal>();
		Deserialize(stream, farmableAnimal, isDelta: false);
		return farmableAnimal;
	}

	public static FarmableAnimal DeserializeLengthDelimited(BufferStream stream)
	{
		FarmableAnimal farmableAnimal = Pool.Get<FarmableAnimal>();
		DeserializeLengthDelimited(stream, farmableAnimal, isDelta: false);
		return farmableAnimal;
	}

	public static FarmableAnimal DeserializeLength(BufferStream stream, int length)
	{
		FarmableAnimal farmableAnimal = Pool.Get<FarmableAnimal>();
		DeserializeLength(stream, length, farmableAnimal, isDelta: false);
		return farmableAnimal;
	}

	public static FarmableAnimal Deserialize(byte[] buffer)
	{
		FarmableAnimal farmableAnimal = Pool.Get<FarmableAnimal>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, farmableAnimal, isDelta: false);
		return farmableAnimal;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, FarmableAnimal previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static FarmableAnimal Deserialize(BufferStream stream, FarmableAnimal instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.hunger = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.thirst = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.love = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.sunlight = ProtocolParser.ReadSingle(stream);
				continue;
			case 42:
				instance.animalName = ProtocolParser.ReadString(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static FarmableAnimal DeserializeLengthDelimited(BufferStream stream, FarmableAnimal instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.hunger = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.thirst = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.love = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.sunlight = ProtocolParser.ReadSingle(stream);
				continue;
			case 42:
				instance.animalName = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static FarmableAnimal DeserializeLength(BufferStream stream, int length, FarmableAnimal instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.hunger = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.thirst = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.love = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.sunlight = ProtocolParser.ReadSingle(stream);
				continue;
			case 42:
				instance.animalName = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, FarmableAnimal instance, FarmableAnimal previous)
	{
		if (instance.hunger != previous.hunger)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.hunger);
		}
		if (instance.thirst != previous.thirst)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.thirst);
		}
		if (instance.love != previous.love)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.love);
		}
		if (instance.sunlight != previous.sunlight)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.sunlight);
		}
		if (instance.animalName != null && instance.animalName != previous.animalName)
		{
			stream.WriteByte(42);
			ProtocolParser.WriteString(stream, instance.animalName);
		}
	}

	public static void Serialize(BufferStream stream, FarmableAnimal instance)
	{
		if (instance.hunger != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.hunger);
		}
		if (instance.thirst != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.thirst);
		}
		if (instance.love != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.love);
		}
		if (instance.sunlight != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.sunlight);
		}
		if (instance.animalName != null)
		{
			stream.WriteByte(42);
			ProtocolParser.WriteString(stream, instance.animalName);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class FarmableAnimalStatus : IDisposable, IPooled, IProto<FarmableAnimalStatus>, IProto
{
	[NonSerialized]
	public NetworkableId animal;

	[NonSerialized]
	public FarmableAnimal data;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(FarmableAnimalStatus instance)
	{
		if (instance.ShouldPool)
		{
			instance.animal = default(NetworkableId);
			if (instance.data != null)
			{
				instance.data.ResetToPool();
				instance.data = null;
			}
			Pool.Free<FarmableAnimalStatus>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose FarmableAnimalStatus with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(FarmableAnimalStatus instance)
	{
		instance.animal = animal;
		if (data != null)
		{
			if (instance.data == null)
			{
				instance.data = data.Copy();
			}
			else
			{
				data.CopyTo(instance.data);
			}
		}
		else
		{
			instance.data = null;
		}
	}

	public FarmableAnimalStatus Copy()
	{
		FarmableAnimalStatus farmableAnimalStatus = Pool.Get<FarmableAnimalStatus>();
		CopyTo(farmableAnimalStatus);
		return farmableAnimalStatus;
	}

	public static FarmableAnimalStatus Deserialize(BufferStream stream)
	{
		FarmableAnimalStatus farmableAnimalStatus = Pool.Get<FarmableAnimalStatus>();
		Deserialize(stream, farmableAnimalStatus, isDelta: false);
		return farmableAnimalStatus;
	}

	public static FarmableAnimalStatus DeserializeLengthDelimited(BufferStream stream)
	{
		FarmableAnimalStatus farmableAnimalStatus = Pool.Get<FarmableAnimalStatus>();
		DeserializeLengthDelimited(stream, farmableAnimalStatus, isDelta: false);
		return farmableAnimalStatus;
	}

	public static FarmableAnimalStatus DeserializeLength(BufferStream stream, int length)
	{
		FarmableAnimalStatus farmableAnimalStatus = Pool.Get<FarmableAnimalStatus>();
		DeserializeLength(stream, length, farmableAnimalStatus, isDelta: false);
		return farmableAnimalStatus;
	}

	public static FarmableAnimalStatus Deserialize(byte[] buffer)
	{
		FarmableAnimalStatus farmableAnimalStatus = Pool.Get<FarmableAnimalStatus>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, farmableAnimalStatus, isDelta: false);
		return farmableAnimalStatus;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, FarmableAnimalStatus previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static FarmableAnimalStatus Deserialize(BufferStream stream, FarmableAnimalStatus instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.animal = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 18:
				if (instance.data == null)
				{
					instance.data = FarmableAnimal.DeserializeLengthDelimited(stream);
				}
				else
				{
					FarmableAnimal.DeserializeLengthDelimited(stream, instance.data, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static FarmableAnimalStatus DeserializeLengthDelimited(BufferStream stream, FarmableAnimalStatus instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.animal = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 18:
				if (instance.data == null)
				{
					instance.data = FarmableAnimal.DeserializeLengthDelimited(stream);
				}
				else
				{
					FarmableAnimal.DeserializeLengthDelimited(stream, instance.data, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static FarmableAnimalStatus DeserializeLength(BufferStream stream, int length, FarmableAnimalStatus instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.animal = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 18:
				if (instance.data == null)
				{
					instance.data = FarmableAnimal.DeserializeLengthDelimited(stream);
				}
				else
				{
					FarmableAnimal.DeserializeLengthDelimited(stream, instance.data, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, FarmableAnimalStatus instance, FarmableAnimalStatus previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.animal.Value);
		if (instance.data == null)
		{
			return;
		}
		stream.WriteByte(18);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		FarmableAnimal.SerializeDelta(stream, instance.data, previous.data);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public static void Serialize(BufferStream stream, FarmableAnimalStatus instance)
	{
		if (instance.animal != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.animal.Value);
		}
		if (instance.data == null)
		{
			return;
		}
		stream.WriteByte(18);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		FarmableAnimal.Serialize(stream, instance.data);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref animal.Value);
		data?.InspectUids(action);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class FileStorageCacheData : IDisposable, IPooled, IProto<FileStorageCacheData>, IProto
{
	[NonSerialized]
	public byte[] data;

	[NonSerialized]
	public NetworkableId entityId;

	[NonSerialized]
	public uint numId;

	[NonSerialized]
	public uint crc;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(FileStorageCacheData instance)
	{
		if (instance.ShouldPool)
		{
			instance.data = null;
			instance.entityId = default(NetworkableId);
			instance.numId = 0u;
			instance.crc = 0u;
			Pool.Free<FileStorageCacheData>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose FileStorageCacheData with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(FileStorageCacheData instance)
	{
		if (data == null)
		{
			instance.data = null;
		}
		else
		{
			instance.data = new byte[data.Length];
			Array.Copy(data, instance.data, instance.data.Length);
		}
		instance.entityId = entityId;
		instance.numId = numId;
		instance.crc = crc;
	}

	public FileStorageCacheData Copy()
	{
		FileStorageCacheData fileStorageCacheData = Pool.Get<FileStorageCacheData>();
		CopyTo(fileStorageCacheData);
		return fileStorageCacheData;
	}

	public static FileStorageCacheData Deserialize(BufferStream stream)
	{
		FileStorageCacheData fileStorageCacheData = Pool.Get<FileStorageCacheData>();
		Deserialize(stream, fileStorageCacheData, isDelta: false);
		return fileStorageCacheData;
	}

	public static FileStorageCacheData DeserializeLengthDelimited(BufferStream stream)
	{
		FileStorageCacheData fileStorageCacheData = Pool.Get<FileStorageCacheData>();
		DeserializeLengthDelimited(stream, fileStorageCacheData, isDelta: false);
		return fileStorageCacheData;
	}

	public static FileStorageCacheData DeserializeLength(BufferStream stream, int length)
	{
		FileStorageCacheData fileStorageCacheData = Pool.Get<FileStorageCacheData>();
		DeserializeLength(stream, length, fileStorageCacheData, isDelta: false);
		return fileStorageCacheData;
	}

	public static FileStorageCacheData Deserialize(byte[] buffer)
	{
		FileStorageCacheData fileStorageCacheData = Pool.Get<FileStorageCacheData>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, fileStorageCacheData, isDelta: false);
		return fileStorageCacheData;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, FileStorageCacheData previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static FileStorageCacheData Deserialize(BufferStream stream, FileStorageCacheData instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.data = ProtocolParser.ReadBytes(stream);
				continue;
			case 16:
				instance.entityId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.numId = ProtocolParser.ReadUInt32(stream);
				continue;
			case 32:
				instance.crc = ProtocolParser.ReadUInt32(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static FileStorageCacheData DeserializeLengthDelimited(BufferStream stream, FileStorageCacheData instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.data = ProtocolParser.ReadBytes(stream);
				continue;
			case 16:
				instance.entityId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.numId = ProtocolParser.ReadUInt32(stream);
				continue;
			case 32:
				instance.crc = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static FileStorageCacheData DeserializeLength(BufferStream stream, int length, FileStorageCacheData instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.data = ProtocolParser.ReadBytes(stream);
				continue;
			case 16:
				instance.entityId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.numId = ProtocolParser.ReadUInt32(stream);
				continue;
			case 32:
				instance.crc = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, FileStorageCacheData instance, FileStorageCacheData previous)
	{
		if (instance.data == null)
		{
			throw new ArgumentNullException("data", "Required by proto specification.");
		}
		stream.WriteByte(10);
		ProtocolParser.WriteBytes(stream, instance.data);
		stream.WriteByte(16);
		ProtocolParser.WriteUInt64(stream, instance.entityId.Value);
		if (instance.numId != previous.numId)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.numId);
		}
		if (instance.crc != previous.crc)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt32(stream, instance.crc);
		}
	}

	public static void Serialize(BufferStream stream, FileStorageCacheData instance)
	{
		if (instance.data == null)
		{
			throw new ArgumentNullException("data", "Required by proto specification.");
		}
		stream.WriteByte(10);
		ProtocolParser.WriteBytes(stream, instance.data);
		if (instance.entityId != default(NetworkableId))
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.entityId.Value);
		}
		if (instance.numId != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.numId);
		}
		if (instance.crc != 0)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt32(stream, instance.crc);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref entityId.Value);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class FrankensteinTable : IDisposable, IPooled, IProto<FrankensteinTable>, IProto
{
	[NonSerialized]
	public List<int> itemIds;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(FrankensteinTable instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.itemIds != null)
			{
				List<int> list = instance.itemIds;
				Pool.FreeUnmanaged<int>(ref list);
				instance.itemIds = list;
			}
			Pool.Free<FrankensteinTable>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose FrankensteinTable with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(FrankensteinTable instance)
	{
		if (itemIds != null)
		{
			instance.itemIds = Pool.Get<List<int>>();
			for (int i = 0; i < itemIds.Count; i++)
			{
				int item = itemIds[i];
				instance.itemIds.Add(item);
			}
		}
		else
		{
			instance.itemIds = null;
		}
	}

	public FrankensteinTable Copy()
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		CopyTo(frankensteinTable);
		return frankensteinTable;
	}

	public static FrankensteinTable Deserialize(BufferStream stream)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		Deserialize(stream, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public static FrankensteinTable DeserializeLengthDelimited(BufferStream stream)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		DeserializeLengthDelimited(stream, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public static FrankensteinTable DeserializeLength(BufferStream stream, int length)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		DeserializeLength(stream, length, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public static FrankensteinTable Deserialize(byte[] buffer)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, FrankensteinTable previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static FrankensteinTable Deserialize(BufferStream stream, FrankensteinTable instance, bool isDelta)
	{
		if (!isDelta && instance.itemIds == null)
		{
			instance.itemIds = Pool.Get<List<int>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.itemIds.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static FrankensteinTable DeserializeLengthDelimited(BufferStream stream, FrankensteinTable instance, bool isDelta)
	{
		if (!isDelta && instance.itemIds == null)
		{
			instance.itemIds = Pool.Get<List<int>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemIds.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static FrankensteinTable DeserializeLength(BufferStream stream, int length, FrankensteinTable instance, bool isDelta)
	{
		if (!isDelta && instance.itemIds == null)
		{
			instance.itemIds = Pool.Get<List<int>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemIds.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, FrankensteinTable instance, FrankensteinTable previous)
	{
		if (instance.itemIds != null)
		{
			for (int i = 0; i < instance.itemIds.Count; i++)
			{
				int num = instance.itemIds[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
	}

	public static void Serialize(BufferStream stream, FrankensteinTable instance)
	{
		if (instance.itemIds != null)
		{
			for (int i = 0; i < instance.itemIds.Count; i++)
			{
				int num = instance.itemIds[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class GameMode : IDisposable, IPooled, IProto<GameMode>, IProto
{
	public class PlayerScore : IDisposable, IPooled, IProto<PlayerScore>, IProto
	{
		[NonSerialized]
		public string playerName;

		[NonSerialized]
		public ulong userid;

		[NonSerialized]
		public List<int> scores;

		[NonSerialized]
		public int team;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(PlayerScore instance)
		{
			if (instance.ShouldPool)
			{
				instance.playerName = string.Empty;
				instance.userid = 0uL;
				if (instance.scores != null)
				{
					List<int> list = instance.scores;
					Pool.FreeUnmanaged<int>(ref list);
					instance.scores = list;
				}
				instance.team = 0;
				Pool.Free<PlayerScore>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose PlayerScore with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(PlayerScore instance)
		{
			instance.playerName = playerName;
			instance.userid = userid;
			if (scores != null)
			{
				instance.scores = Pool.Get<List<int>>();
				for (int i = 0; i < scores.Count; i++)
				{
					int item = scores[i];
					instance.scores.Add(item);
				}
			}
			else
			{
				instance.scores = null;
			}
			instance.team = team;
		}

		public PlayerScore Copy()
		{
			PlayerScore playerScore = Pool.Get<PlayerScore>();
			CopyTo(playerScore);
			return playerScore;
		}

		public static PlayerScore Deserialize(BufferStream stream)
		{
			PlayerScore playerScore = Pool.Get<PlayerScore>();
			Deserialize(stream, playerScore, isDelta: false);
			return playerScore;
		}

		public static PlayerScore DeserializeLengthDelimited(BufferStream stream)
		{
			PlayerScore playerScore = Pool.Get<PlayerScore>();
			DeserializeLengthDelimited(stream, playerScore, isDelta: false);
			return playerScore;
		}

		public static PlayerScore DeserializeLength(BufferStream stream, int length)
		{
			PlayerScore playerScore = Pool.Get<PlayerScore>();
			DeserializeLength(stream, length, playerScore, isDelta: false);
			return playerScore;
		}

		public static PlayerScore Deserialize(byte[] buffer)
		{
			PlayerScore playerScore = Pool.Get<PlayerScore>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, playerScore, isDelta: false);
			return playerScore;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, PlayerScore previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static PlayerScore Deserialize(BufferStream stream, PlayerScore instance, bool isDelta)
		{
			if (!isDelta && instance.scores == null)
			{
				instance.scores = Pool.Get<List<int>>();
			}
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 10:
					instance.playerName = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.userid = ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.scores.Add((int)ProtocolParser.ReadUInt64(stream));
					continue;
				case 32:
					instance.team = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static PlayerScore DeserializeLengthDelimited(BufferStream stream, PlayerScore instance, bool isDelta)
		{
			if (!isDelta && instance.scores == null)
			{
				instance.scores = Pool.Get<List<int>>();
			}
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.playerName = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.userid = ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.scores.Add((int)ProtocolParser.ReadUInt64(stream));
					continue;
				case 32:
					instance.team = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static PlayerScore DeserializeLength(BufferStream stream, int length, PlayerScore instance, bool isDelta)
		{
			if (!isDelta && instance.scores == null)
			{
				instance.scores = Pool.Get<List<int>>();
			}
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.playerName = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.userid = ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.scores.Add((int)ProtocolParser.ReadUInt64(stream));
					continue;
				case 32:
					instance.team = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, PlayerScore instance, PlayerScore previous)
		{
			if (instance.playerName != previous.playerName)
			{
				if (instance.playerName == null)
				{
					throw new ArgumentNullException("playerName", "Required by proto specification.");
				}
				stream.WriteByte(10);
				ProtocolParser.WriteString(stream, instance.playerName);
			}
			if (instance.userid != previous.userid)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, instance.userid);
			}
			if (instance.scores != null)
			{
				for (int i = 0; i < instance.scores.Count; i++)
				{
					int num = instance.scores[i];
					stream.WriteByte(24);
					ProtocolParser.WriteUInt64(stream, (ulong)num);
				}
			}
			if (instance.team != previous.team)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.team);
			}
		}

		public static void Serialize(BufferStream stream, PlayerScore instance)
		{
			if (instance.playerName == null)
			{
				throw new ArgumentNullException("playerName", "Required by proto specification.");
			}
			stream.WriteByte(10);
			ProtocolParser.WriteString(stream, instance.playerName);
			if (instance.userid != 0L)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, instance.userid);
			}
			if (instance.scores != null)
			{
				for (int i = 0; i < instance.scores.Count; i++)
				{
					int num = instance.scores[i];
					stream.WriteByte(24);
					ProtocolParser.WriteUInt64(stream, (ulong)num);
				}
			}
			if (instance.team != 0)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.team);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	public class ScoreColumn : IDisposable, IPooled, IProto<ScoreColumn>, IProto
	{
		[NonSerialized]
		public string name;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(ScoreColumn instance)
		{
			if (instance.ShouldPool)
			{
				instance.name = string.Empty;
				Pool.Free<ScoreColumn>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose ScoreColumn with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(ScoreColumn instance)
		{
			instance.name = name;
		}

		public ScoreColumn Copy()
		{
			ScoreColumn scoreColumn = Pool.Get<ScoreColumn>();
			CopyTo(scoreColumn);
			return scoreColumn;
		}

		public static ScoreColumn Deserialize(BufferStream stream)
		{
			ScoreColumn scoreColumn = Pool.Get<ScoreColumn>();
			Deserialize(stream, scoreColumn, isDelta: false);
			return scoreColumn;
		}

		public static ScoreColumn DeserializeLengthDelimited(BufferStream stream)
		{
			ScoreColumn scoreColumn = Pool.Get<ScoreColumn>();
			DeserializeLengthDelimited(stream, scoreColumn, isDelta: false);
			return scoreColumn;
		}

		public static ScoreColumn DeserializeLength(BufferStream stream, int length)
		{
			ScoreColumn scoreColumn = Pool.Get<ScoreColumn>();
			DeserializeLength(stream, length, scoreColumn, isDelta: false);
			return scoreColumn;
		}

		public static ScoreColumn Deserialize(byte[] buffer)
		{
			ScoreColumn scoreColumn = Pool.Get<ScoreColumn>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, scoreColumn, isDelta: false);
			return scoreColumn;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, ScoreColumn previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static ScoreColumn Deserialize(BufferStream stream, ScoreColumn instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 10:
					instance.name = ProtocolParser.ReadString(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static ScoreColumn DeserializeLengthDelimited(BufferStream stream, ScoreColumn instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.name = ProtocolParser.ReadString(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static ScoreColumn DeserializeLength(BufferStream stream, int length, ScoreColumn instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.name = ProtocolParser.ReadString(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, ScoreColumn instance, ScoreColumn previous)
		{
			if (instance.name != previous.name)
			{
				if (instance.name == null)
				{
					throw new ArgumentNullException("name", "Required by proto specification.");
				}
				stream.WriteByte(10);
				ProtocolParser.WriteString(stream, instance.name);
			}
		}

		public static void Serialize(BufferStream stream, ScoreColumn instance)
		{
			if (instance.name == null)
			{
				throw new ArgumentNullException("name", "Required by proto specification.");
			}
			stream.WriteByte(10);
			ProtocolParser.WriteString(stream, instance.name);
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	public class TeamInfo : IDisposable, IPooled, IProto<TeamInfo>, IProto
	{
		[NonSerialized]
		public int score;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(TeamInfo instance)
		{
			if (instance.ShouldPool)
			{
				instance.score = 0;
				Pool.Free<TeamInfo>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose TeamInfo with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(TeamInfo instance)
		{
			instance.score = score;
		}

		public TeamInfo Copy()
		{
			TeamInfo teamInfo = Pool.Get<TeamInfo>();
			CopyTo(teamInfo);
			return teamInfo;
		}

		public static TeamInfo Deserialize(BufferStream stream)
		{
			TeamInfo teamInfo = Pool.Get<TeamInfo>();
			Deserialize(stream, teamInfo, isDelta: false);
			return teamInfo;
		}

		public static TeamInfo DeserializeLengthDelimited(BufferStream stream)
		{
			TeamInfo teamInfo = Pool.Get<TeamInfo>();
			DeserializeLengthDelimited(stream, teamInfo, isDelta: false);
			return teamInfo;
		}

		public static TeamInfo DeserializeLength(BufferStream stream, int length)
		{
			TeamInfo teamInfo = Pool.Get<TeamInfo>();
			DeserializeLength(stream, length, teamInfo, isDelta: false);
			return teamInfo;
		}

		public static TeamInfo Deserialize(byte[] buffer)
		{
			TeamInfo teamInfo = Pool.Get<TeamInfo>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, teamInfo, isDelta: false);
			return teamInfo;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, TeamInfo previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static TeamInfo Deserialize(BufferStream stream, TeamInfo instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.score = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static TeamInfo DeserializeLengthDelimited(BufferStream stream, TeamInfo instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.score = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static TeamInfo DeserializeLength(BufferStream stream, int length, TeamInfo instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.score = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, TeamInfo instance, TeamInfo previous)
		{
			if (instance.score != previous.score)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.score);
			}
		}

		public static void Serialize(BufferStream stream, TeamInfo instance)
		{
			if (instance.score != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.score);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	[NonSerialized]
	public List<TeamInfo> teams;

	[NonSerialized]
	public List<ScoreColumn> scoreColumns;

	[NonSerialized]
	public List<PlayerScore> playerScores;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GameMode instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.teams != null)
		{
			for (int i = 0; i < instance.teams.Count; i++)
			{
				if (instance.teams[i] != null)
				{
					instance.teams[i].ResetToPool();
					instance.teams[i] = null;
				}
			}
			List<TeamInfo> list = instance.teams;
			Pool.Free<TeamInfo>(ref list, false);
			instance.teams = list;
		}
		if (instance.scoreColumns != null)
		{
			for (int j = 0; j < instance.scoreColumns.Count; j++)
			{
				if (instance.scoreColumns[j] != null)
				{
					instance.scoreColumns[j].ResetToPool();
					instance.scoreColumns[j] = null;
				}
			}
			List<ScoreColumn> list2 = instance.scoreColumns;
			Pool.Free<ScoreColumn>(ref list2, false);
			instance.scoreColumns = list2;
		}
		if (instance.playerScores != null)
		{
			for (int k = 0; k < instance.playerScores.Count; k++)
			{
				if (instance.playerScores[k] != null)
				{
					instance.playerScores[k].ResetToPool();
					instance.playerScores[k] = null;
				}
			}
			List<PlayerScore> list3 = instance.playerScores;
			Pool.Free<PlayerScore>(ref list3, false);
			instance.playerScores = list3;
		}
		Pool.Free<GameMode>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GameMode with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GameMode instance)
	{
		if (teams != null)
		{
			instance.teams = Pool.Get<List<TeamInfo>>();
			for (int i = 0; i < teams.Count; i++)
			{
				TeamInfo item = teams[i].Copy();
				instance.teams.Add(item);
			}
		}
		else
		{
			instance.teams = null;
		}
		if (scoreColumns != null)
		{
			instance.scoreColumns = Pool.Get<List<ScoreColumn>>();
			for (int j = 0; j < scoreColumns.Count; j++)
			{
				ScoreColumn item2 = scoreColumns[j].Copy();
				instance.scoreColumns.Add(item2);
			}
		}
		else
		{
			instance.scoreColumns = null;
		}
		if (playerScores != null)
		{
			instance.playerScores = Pool.Get<List<PlayerScore>>();
			for (int k = 0; k < playerScores.Count; k++)
			{
				PlayerScore item3 = playerScores[k].Copy();
				instance.playerScores.Add(item3);
			}
		}
		else
		{
			instance.playerScores = null;
		}
	}

	public GameMode Copy()
	{
		GameMode gameMode = Pool.Get<GameMode>();
		CopyTo(gameMode);
		return gameMode;
	}

	public static GameMode Deserialize(BufferStream stream)
	{
		GameMode gameMode = Pool.Get<GameMode>();
		Deserialize(stream, gameMode, isDelta: false);
		return gameMode;
	}

	public static GameMode DeserializeLengthDelimited(BufferStream stream)
	{
		GameMode gameMode = Pool.Get<GameMode>();
		DeserializeLengthDelimited(stream, gameMode, isDelta: false);
		return gameMode;
	}

	public static GameMode DeserializeLength(BufferStream stream, int length)
	{
		GameMode gameMode = Pool.Get<GameMode>();
		DeserializeLength(stream, length, gameMode, isDelta: false);
		return gameMode;
	}

	public static GameMode Deserialize(byte[] buffer)
	{
		GameMode gameMode = Pool.Get<GameMode>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, gameMode, isDelta: false);
		return gameMode;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GameMode previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GameMode Deserialize(BufferStream stream, GameMode instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.teams == null)
			{
				instance.teams = Pool.Get<List<TeamInfo>>();
			}
			if (instance.scoreColumns == null)
			{
				instance.scoreColumns = Pool.Get<List<ScoreColumn>>();
			}
			if (instance.playerScores == null)
			{
				instance.playerScores = Pool.Get<List<PlayerScore>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.teams.Add(TeamInfo.DeserializeLengthDelimited(stream));
				continue;
			case 18:
				instance.scoreColumns.Add(ScoreColumn.DeserializeLengthDelimited(stream));
				continue;
			case 26:
				instance.playerScores.Add(PlayerScore.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static GameMode DeserializeLengthDelimited(BufferStream stream, GameMode instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.teams == null)
			{
				instance.teams = Pool.Get<List<TeamInfo>>();
			}
			if (instance.scoreColumns == null)
			{
				instance.scoreColumns = Pool.Get<List<ScoreColumn>>();
			}
			if (instance.playerScores == null)
			{
				instance.playerScores = Pool.Get<List<PlayerScore>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.teams.Add(TeamInfo.DeserializeLengthDelimited(stream));
				continue;
			case 18:
				instance.scoreColumns.Add(ScoreColumn.DeserializeLengthDelimited(stream));
				continue;
			case 26:
				instance.playerScores.Add(PlayerScore.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GameMode DeserializeLength(BufferStream stream, int length, GameMode instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.teams == null)
			{
				instance.teams = Pool.Get<List<TeamInfo>>();
			}
			if (instance.scoreColumns == null)
			{
				instance.scoreColumns = Pool.Get<List<ScoreColumn>>();
			}
			if (instance.playerScores == null)
			{
				instance.playerScores = Pool.Get<List<PlayerScore>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.teams.Add(TeamInfo.DeserializeLengthDelimited(stream));
				continue;
			case 18:
				instance.scoreColumns.Add(ScoreColumn.DeserializeLengthDelimited(stream));
				continue;
			case 26:
				instance.playerScores.Add(PlayerScore.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GameMode instance, GameMode previous)
	{
		if (instance.teams != null)
		{
			for (int i = 0; i < instance.teams.Count; i++)
			{
				TeamInfo teamInfo = instance.teams[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				TeamInfo.SerializeDelta(stream, teamInfo, teamInfo);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field teams (ProtoBuf.GameMode.TeamInfo)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.scoreColumns != null)
		{
			for (int j = 0; j < instance.scoreColumns.Count; j++)
			{
				ScoreColumn scoreColumn = instance.scoreColumns[j];
				stream.WriteByte(18);
				BufferStream.RangeHandle range2 = stream.GetRange(5);
				int position2 = stream.Position;
				ScoreColumn.SerializeDelta(stream, scoreColumn, scoreColumn);
				int val = stream.Position - position2;
				Span<byte> span2 = range2.GetSpan();
				int num2 = ProtocolParser.WriteUInt32((uint)val, span2, 0);
				if (num2 < 5)
				{
					span2[num2 - 1] |= 128;
					while (num2 < 4)
					{
						span2[num2++] = 128;
					}
					span2[4] = 0;
				}
			}
		}
		if (instance.playerScores == null)
		{
			return;
		}
		for (int k = 0; k < instance.playerScores.Count; k++)
		{
			PlayerScore playerScore = instance.playerScores[k];
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			PlayerScore.SerializeDelta(stream, playerScore, playerScore);
			int val2 = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val2, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
	}

	public static void Serialize(BufferStream stream, GameMode instance)
	{
		if (instance.teams != null)
		{
			for (int i = 0; i < instance.teams.Count; i++)
			{
				TeamInfo instance2 = instance.teams[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				TeamInfo.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field teams (ProtoBuf.GameMode.TeamInfo)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.scoreColumns != null)
		{
			for (int j = 0; j < instance.scoreColumns.Count; j++)
			{
				ScoreColumn instance3 = instance.scoreColumns[j];
				stream.WriteByte(18);
				BufferStream.RangeHandle range2 = stream.GetRange(5);
				int position2 = stream.Position;
				ScoreColumn.Serialize(stream, instance3);
				int val = stream.Position - position2;
				Span<byte> span2 = range2.GetSpan();
				int num2 = ProtocolParser.WriteUInt32((uint)val, span2, 0);
				if (num2 < 5)
				{
					span2[num2 - 1] |= 128;
					while (num2 < 4)
					{
						span2[num2++] = 128;
					}
					span2[4] = 0;
				}
			}
		}
		if (instance.playerScores == null)
		{
			return;
		}
		for (int k = 0; k < instance.playerScores.Count; k++)
		{
			PlayerScore instance4 = instance.playerScores[k];
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			PlayerScore.Serialize(stream, instance4);
			int val2 = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val2, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (teams != null)
		{
			for (int i = 0; i < teams.Count; i++)
			{
				teams[i]?.InspectUids(action);
			}
		}
		if (scoreColumns != null)
		{
			for (int j = 0; j < scoreColumns.Count; j++)
			{
				scoreColumns[j]?.InspectUids(action);
			}
		}
		if (playerScores != null)
		{
			for (int k = 0; k < playerScores.Count; k++)
			{
				playerScores[k]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class GenericSpawner : IDisposable, IPooled, IProto<GenericSpawner>, IProto
{
	public class SpawnedEnt : IDisposable, IPooled, IProto<SpawnedEnt>, IProto
	{
		[NonSerialized]
		public uint uid;

		[NonSerialized]
		public uint spawnPointIndex;

		[NonSerialized]
		public bool mobile;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(SpawnedEnt instance)
		{
			if (instance.ShouldPool)
			{
				instance.uid = 0u;
				instance.spawnPointIndex = 0u;
				instance.mobile = false;
				Pool.Free<SpawnedEnt>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose SpawnedEnt with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(SpawnedEnt instance)
		{
			instance.uid = uid;
			instance.spawnPointIndex = spawnPointIndex;
			instance.mobile = mobile;
		}

		public SpawnedEnt Copy()
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			CopyTo(spawnedEnt);
			return spawnedEnt;
		}

		public static SpawnedEnt Deserialize(BufferStream stream)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			Deserialize(stream, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public static SpawnedEnt DeserializeLengthDelimited(BufferStream stream)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			DeserializeLengthDelimited(stream, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public static SpawnedEnt DeserializeLength(BufferStream stream, int length)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			DeserializeLength(stream, length, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public static SpawnedEnt Deserialize(byte[] buffer)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, SpawnedEnt previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static SpawnedEnt Deserialize(BufferStream stream, SpawnedEnt instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.uid = ProtocolParser.ReadUInt32(stream);
					continue;
				case 16:
					instance.spawnPointIndex = ProtocolParser.ReadUInt32(stream);
					continue;
				case 24:
					instance.mobile = ProtocolParser.ReadBool(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static SpawnedEnt DeserializeLengthDelimited(BufferStream stream, SpawnedEnt instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.uid = ProtocolParser.ReadUInt32(stream);
					continue;
				case 16:
					instance.spawnPointIndex = ProtocolParser.ReadUInt32(stream);
					continue;
				case 24:
					instance.mobile = ProtocolParser.ReadBool(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static SpawnedEnt DeserializeLength(BufferStream stream, int length, SpawnedEnt instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.uid = ProtocolParser.ReadUInt32(stream);
					continue;
				case 16:
					instance.spawnPointIndex = ProtocolParser.ReadUInt32(stream);
					continue;
				case 24:
					instance.mobile = ProtocolParser.ReadBool(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, SpawnedEnt instance, SpawnedEnt previous)
		{
			if (instance.uid != previous.uid)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt32(stream, instance.uid);
			}
			if (instance.spawnPointIndex != previous.spawnPointIndex)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt32(stream, instance.spawnPointIndex);
			}
			stream.WriteByte(24);
			ProtocolParser.WriteBool(stream, instance.mobile);
		}

		public static void Serialize(BufferStream stream, SpawnedEnt instance)
		{
			if (instance.uid != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt32(stream, instance.uid);
			}
			if (instance.spawnPointIndex != 0)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt32(stream, instance.spawnPointIndex);
			}
			if (instance.mobile)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteBool(stream, instance.mobile);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	[NonSerialized]
	public List<SpawnedEnt> ents;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GenericSpawner instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.ents != null)
		{
			for (int i = 0; i < instance.ents.Count; i++)
			{
				if (instance.ents[i] != null)
				{
					instance.ents[i].ResetToPool();
					instance.ents[i] = null;
				}
			}
			List<SpawnedEnt> list = instance.ents;
			Pool.Free<SpawnedEnt>(ref list, false);
			instance.ents = list;
		}
		Pool.Free<GenericSpawner>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GenericSpawner with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GenericSpawner instance)
	{
		if (ents != null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
			for (int i = 0; i < ents.Count; i++)
			{
				SpawnedEnt item = ents[i].Copy();
				instance.ents.Add(item);
			}
		}
		else
		{
			instance.ents = null;
		}
	}

	public GenericSpawner Copy()
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		CopyTo(genericSpawner);
		return genericSpawner;
	}

	public static GenericSpawner Deserialize(BufferStream stream)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		Deserialize(stream, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public static GenericSpawner DeserializeLengthDelimited(BufferStream stream)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		DeserializeLengthDelimited(stream, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public static GenericSpawner DeserializeLength(BufferStream stream, int length)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		DeserializeLength(stream, length, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public static GenericSpawner Deserialize(byte[] buffer)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GenericSpawner previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GenericSpawner Deserialize(BufferStream stream, GenericSpawner instance, bool isDelta)
	{
		if (!isDelta && instance.ents == null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.ents.Add(SpawnedEnt.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static GenericSpawner DeserializeLengthDelimited(BufferStream stream, GenericSpawner instance, bool isDelta)
	{
		if (!isDelta && instance.ents == null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.ents.Add(SpawnedEnt.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GenericSpawner DeserializeLength(BufferStream stream, int length, GenericSpawner instance, bool isDelta)
	{
		if (!isDelta && instance.ents == null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.ents.Add(SpawnedEnt.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GenericSpawner instance, GenericSpawner previous)
	{
		if (instance.ents == null)
		{
			return;
		}
		for (int i = 0; i < instance.ents.Count; i++)
		{
			SpawnedEnt spawnedEnt = instance.ents[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			SpawnedEnt.SerializeDelta(stream, spawnedEnt, spawnedEnt);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ents (ProtoBuf.GenericSpawner.SpawnedEnt)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, GenericSpawner instance)
	{
		if (instance.ents == null)
		{
			return;
		}
		for (int i = 0; i < instance.ents.Count; i++)
		{
			SpawnedEnt instance2 = instance.ents[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			SpawnedEnt.Serialize(stream, instance2);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ents (ProtoBuf.GenericSpawner.SpawnedEnt)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (ents != null)
		{
			for (int i = 0; i < ents.Count; i++)
			{
				ents[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class GlobalEntityCollection : IDisposable, IPooled, IProto<GlobalEntityCollection>, IProto
{
	[NonSerialized]
	public List<GlobalEntityData> entities;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GlobalEntityCollection instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.entities != null)
		{
			for (int i = 0; i < instance.entities.Count; i++)
			{
				if (instance.entities[i] != null)
				{
					instance.entities[i].ResetToPool();
					instance.entities[i] = null;
				}
			}
			List<GlobalEntityData> list = instance.entities;
			Pool.Free<GlobalEntityData>(ref list, false);
			instance.entities = list;
		}
		Pool.Free<GlobalEntityCollection>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GlobalEntityCollection with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GlobalEntityCollection instance)
	{
		if (entities != null)
		{
			instance.entities = Pool.Get<List<GlobalEntityData>>();
			for (int i = 0; i < entities.Count; i++)
			{
				GlobalEntityData item = entities[i].Copy();
				instance.entities.Add(item);
			}
		}
		else
		{
			instance.entities = null;
		}
	}

	public GlobalEntityCollection Copy()
	{
		GlobalEntityCollection globalEntityCollection = Pool.Get<GlobalEntityCollection>();
		CopyTo(globalEntityCollection);
		return globalEntityCollection;
	}

	public static GlobalEntityCollection Deserialize(BufferStream stream)
	{
		GlobalEntityCollection globalEntityCollection = Pool.Get<GlobalEntityCollection>();
		Deserialize(stream, globalEntityCollection, isDelta: false);
		return globalEntityCollection;
	}

	public static GlobalEntityCollection DeserializeLengthDelimited(BufferStream stream)
	{
		GlobalEntityCollection globalEntityCollection = Pool.Get<GlobalEntityCollection>();
		DeserializeLengthDelimited(stream, globalEntityCollection, isDelta: false);
		return globalEntityCollection;
	}

	public static GlobalEntityCollection DeserializeLength(BufferStream stream, int length)
	{
		GlobalEntityCollection globalEntityCollection = Pool.Get<GlobalEntityCollection>();
		DeserializeLength(stream, length, globalEntityCollection, isDelta: false);
		return globalEntityCollection;
	}

	public static GlobalEntityCollection Deserialize(byte[] buffer)
	{
		GlobalEntityCollection globalEntityCollection = Pool.Get<GlobalEntityCollection>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, globalEntityCollection, isDelta: false);
		return globalEntityCollection;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GlobalEntityCollection previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GlobalEntityCollection Deserialize(BufferStream stream, GlobalEntityCollection instance, bool isDelta)
	{
		if (!isDelta && instance.entities == null)
		{
			instance.entities = Pool.Get<List<GlobalEntityData>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.entities.Add(GlobalEntityData.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static GlobalEntityCollection DeserializeLengthDelimited(BufferStream stream, GlobalEntityCollection instance, bool isDelta)
	{
		if (!isDelta && instance.entities == null)
		{
			instance.entities = Pool.Get<List<GlobalEntityData>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.entities.Add(GlobalEntityData.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GlobalEntityCollection DeserializeLength(BufferStream stream, int length, GlobalEntityCollection instance, bool isDelta)
	{
		if (!isDelta && instance.entities == null)
		{
			instance.entities = Pool.Get<List<GlobalEntityData>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.entities.Add(GlobalEntityData.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GlobalEntityCollection instance, GlobalEntityCollection previous)
	{
		if (instance.entities == null)
		{
			return;
		}
		for (int i = 0; i < instance.entities.Count; i++)
		{
			GlobalEntityData globalEntityData = instance.entities[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			GlobalEntityData.SerializeDelta(stream, globalEntityData, globalEntityData);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field entities (ProtoBuf.GlobalEntityData)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, GlobalEntityCollection instance)
	{
		if (instance.entities == null)
		{
			return;
		}
		for (int i = 0; i < instance.entities.Count; i++)
		{
			GlobalEntityData instance2 = instance.entities[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			GlobalEntityData.Serialize(stream, instance2);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field entities (ProtoBuf.GlobalEntityData)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (entities != null)
		{
			for (int i = 0; i < entities.Count; i++)
			{
				entities[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class GlobalEntityData : IDisposable, IPooled, IProto<GlobalEntityData>, IProto
{
	[NonSerialized]
	public uint prefabId;

	[NonSerialized]
	public NetworkableId uid;

	[NonSerialized]
	public Vector3 pos;

	[NonSerialized]
	public Vector3 rot;

	[NonSerialized]
	public ulong modelState;

	[NonSerialized]
	public int grade;

	[NonSerialized]
	public int flags;

	[NonSerialized]
	public ulong skin;

	[NonSerialized]
	public int customColor;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GlobalEntityData instance)
	{
		//IL_0022: Unknown result type (might be due to invalid IL or missing references)
		//IL_002e: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.prefabId = 0u;
			instance.uid = default(NetworkableId);
			instance.pos = default(Vector3);
			instance.rot = default(Vector3);
			instance.modelState = 0uL;
			instance.grade = 0;
			instance.flags = 0;
			instance.skin = 0uL;
			instance.customColor = 0;
			Pool.Free<GlobalEntityData>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GlobalEntityData with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GlobalEntityData instance)
	{
		//IL_001a: Unknown result type (might be due to invalid IL or missing references)
		//IL_001f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0026: Unknown result type (might be due to invalid IL or missing references)
		//IL_002b: Unknown result type (might be due to invalid IL or missing references)
		instance.prefabId = prefabId;
		instance.uid = uid;
		instance.pos = pos;
		instance.rot = rot;
		instance.modelState = modelState;
		instance.grade = grade;
		instance.flags = flags;
		instance.skin = skin;
		instance.customColor = customColor;
	}

	public GlobalEntityData Copy()
	{
		GlobalEntityData globalEntityData = Pool.Get<GlobalEntityData>();
		CopyTo(globalEntityData);
		return globalEntityData;
	}

	public static GlobalEntityData Deserialize(BufferStream stream)
	{
		GlobalEntityData globalEntityData = Pool.Get<GlobalEntityData>();
		Deserialize(stream, globalEntityData, isDelta: false);
		return globalEntityData;
	}

	public static GlobalEntityData DeserializeLengthDelimited(BufferStream stream)
	{
		GlobalEntityData globalEntityData = Pool.Get<GlobalEntityData>();
		DeserializeLengthDelimited(stream, globalEntityData, isDelta: false);
		return globalEntityData;
	}

	public static GlobalEntityData DeserializeLength(BufferStream stream, int length)
	{
		GlobalEntityData globalEntityData = Pool.Get<GlobalEntityData>();
		DeserializeLength(stream, length, globalEntityData, isDelta: false);
		return globalEntityData;
	}

	public static GlobalEntityData Deserialize(byte[] buffer)
	{
		GlobalEntityData globalEntityData = Pool.Get<GlobalEntityData>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, globalEntityData, isDelta: false);
		return globalEntityData;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GlobalEntityData previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GlobalEntityData Deserialize(BufferStream stream, GlobalEntityData instance, bool isDelta)
	{
		//IL_009a: Unknown result type (might be due to invalid IL or missing references)
		//IL_00ad: Unknown result type (might be due to invalid IL or missing references)
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.prefabId = ProtocolParser.ReadUInt32(stream);
				continue;
			case 16:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.pos, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rot, isDelta);
				continue;
			case 40:
				instance.modelState = ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.grade = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 64:
				instance.skin = ProtocolParser.ReadUInt64(stream);
				continue;
			case 72:
				instance.customColor = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static GlobalEntityData DeserializeLengthDelimited(BufferStream stream, GlobalEntityData instance, bool isDelta)
	{
		//IL_00d1: Unknown result type (might be due to invalid IL or missing references)
		//IL_00e4: Unknown result type (might be due to invalid IL or missing references)
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.prefabId = ProtocolParser.ReadUInt32(stream);
				continue;
			case 16:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.pos, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rot, isDelta);
				continue;
			case 40:
				instance.modelState = ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.grade = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 64:
				instance.skin = ProtocolParser.ReadUInt64(stream);
				continue;
			case 72:
				instance.customColor = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GlobalEntityData DeserializeLength(BufferStream stream, int length, GlobalEntityData instance, bool isDelta)
	{
		//IL_00c9: Unknown result type (might be due to invalid IL or missing references)
		//IL_00dc: Unknown result type (might be due to invalid IL or missing references)
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.prefabId = ProtocolParser.ReadUInt32(stream);
				continue;
			case 16:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.pos, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rot, isDelta);
				continue;
			case 40:
				instance.modelState = ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.grade = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 64:
				instance.skin = ProtocolParser.ReadUInt64(stream);
				continue;
			case 72:
				instance.customColor = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GlobalEntityData instance, GlobalEntityData previous)
	{
		//IL_003b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0041: Unknown result type (might be due to invalid IL or missing references)
		//IL_009f: Unknown result type (might be due to invalid IL or missing references)
		//IL_00a5: Unknown result type (might be due to invalid IL or missing references)
		//IL_0066: Unknown result type (might be due to invalid IL or missing references)
		//IL_006c: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cb: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d1: Unknown result type (might be due to invalid IL or missing references)
		if (instance.prefabId != previous.prefabId)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.prefabId);
		}
		stream.WriteByte(16);
		ProtocolParser.WriteUInt64(stream, instance.uid.Value);
		if (instance.pos != previous.pos)
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.pos, previous.pos);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field pos (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.rot != previous.rot)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.rot, previous.rot);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rot (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.modelState != previous.modelState)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, instance.modelState);
		}
		if (instance.grade != previous.grade)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.grade);
		}
		if (instance.flags != previous.flags)
		{
			stream.WriteByte(56);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.skin != previous.skin)
		{
			stream.WriteByte(64);
			ProtocolParser.WriteUInt64(stream, instance.skin);
		}
		if (instance.customColor != previous.customColor)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.customColor);
		}
	}

	public static void Serialize(BufferStream stream, GlobalEntityData instance)
	{
		//IL_004b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0052: Unknown result type (might be due to invalid IL or missing references)
		//IL_0058: Unknown result type (might be due to invalid IL or missing references)
		//IL_00ae: Unknown result type (might be due to invalid IL or missing references)
		//IL_00b5: Unknown result type (might be due to invalid IL or missing references)
		//IL_00bb: Unknown result type (might be due to invalid IL or missing references)
		//IL_0079: Unknown result type (might be due to invalid IL or missing references)
		//IL_00de: Unknown result type (might be due to invalid IL or missing references)
		if (instance.prefabId != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.prefabId);
		}
		if (instance.uid != default(NetworkableId))
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.uid.Value);
		}
		if (instance.pos != default(Vector3))
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.pos);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field pos (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.rot != default(Vector3))
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.rot);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rot (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.modelState != 0L)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, instance.modelState);
		}
		if (instance.grade != 0)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.grade);
		}
		if (instance.flags != 0)
		{
			stream.WriteByte(56);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.skin != 0L)
		{
			stream.WriteByte(64);
			ProtocolParser.WriteUInt64(stream, instance.skin);
		}
		if (instance.customColor != 0)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.customColor);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref uid.Value);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class GrowableEntity : IDisposable, IPooled, IProto<GrowableEntity>, IProto
{
	[NonSerialized]
	public int state;

	[NonSerialized]
	public float age;

	[NonSerialized]
	public int water;

	[NonSerialized]
	public float healthy;

	[NonSerialized]
	public float totalAge;

	[NonSerialized]
	public float growthAge;

	[NonSerialized]
	public float yieldFraction;

	[NonSerialized]
	public float stageAge;

	[NonSerialized]
	public int genes;

	[NonSerialized]
	public float lightModifier;

	[NonSerialized]
	public float waterModifier;

	[NonSerialized]
	public float groundModifier;

	[NonSerialized]
	public float happiness;

	[NonSerialized]
	public float temperatureModifier;

	[NonSerialized]
	public float waterConsumption;

	[NonSerialized]
	public float yieldPool;

	[NonSerialized]
	public bool fertilized;

	[NonSerialized]
	public int previousGenes;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GrowableEntity instance)
	{
		if (instance.ShouldPool)
		{
			instance.state = 0;
			instance.age = 0f;
			instance.water = 0;
			instance.healthy = 0f;
			instance.totalAge = 0f;
			instance.growthAge = 0f;
			instance.yieldFraction = 0f;
			instance.stageAge = 0f;
			instance.genes = 0;
			instance.lightModifier = 0f;
			instance.waterModifier = 0f;
			instance.groundModifier = 0f;
			instance.happiness = 0f;
			instance.temperatureModifier = 0f;
			instance.waterConsumption = 0f;
			instance.yieldPool = 0f;
			instance.fertilized = false;
			instance.previousGenes = 0;
			Pool.Free<GrowableEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GrowableEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GrowableEntity instance)
	{
		instance.state = state;
		instance.age = age;
		instance.water = water;
		instance.healthy = healthy;
		instance.totalAge = totalAge;
		instance.growthAge = growthAge;
		instance.yieldFraction = yieldFraction;
		instance.stageAge = stageAge;
		instance.genes = genes;
		instance.lightModifier = lightModifier;
		instance.waterModifier = waterModifier;
		instance.groundModifier = groundModifier;
		instance.happiness = happiness;
		instance.temperatureModifier = temperatureModifier;
		instance.waterConsumption = waterConsumption;
		instance.yieldPool = yieldPool;
		instance.fertilized = fertilized;
		instance.previousGenes = previousGenes;
	}

	public GrowableEntity Copy()
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		CopyTo(growableEntity);
		return growableEntity;
	}

	public static GrowableEntity Deserialize(BufferStream stream)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		Deserialize(stream, growableEntity, isDelta: false);
		return growableEntity;
	}

	public static GrowableEntity DeserializeLengthDelimited(BufferStream stream)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		DeserializeLengthDelimited(stream, growableEntity, isDelta: false);
		return growableEntity;
	}

	public static GrowableEntity DeserializeLength(BufferStream stream, int length)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		DeserializeLength(stream, length, growableEntity, isDelta: false);
		return growableEntity;
	}

	public static GrowableEntity Deserialize(byte[] buffer)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, growableEntity, isDelta: false);
		return growableEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GrowableEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GrowableEntity Deserialize(BufferStream stream, GrowableEntity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.age = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.water = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.healthy = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.totalAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.growthAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.yieldFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.stageAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.genes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 85:
				instance.lightModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 93:
				instance.waterModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 101:
				instance.groundModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 109:
				instance.happiness = ProtocolParser.ReadSingle(stream);
				continue;
			case 117:
				instance.temperatureModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 125:
				instance.waterConsumption = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.yieldPool = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Varint)
				{
					instance.fertilized = ProtocolParser.ReadBool(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.Varint)
				{
					instance.previousGenes = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
	}

	public static GrowableEntity DeserializeLengthDelimited(BufferStream stream, GrowableEntity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.age = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.water = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.healthy = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.totalAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.growthAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.yieldFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.stageAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.genes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 85:
				instance.lightModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 93:
				instance.waterModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 101:
				instance.groundModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 109:
				instance.happiness = ProtocolParser.ReadSingle(stream);
				continue;
			case 117:
				instance.temperatureModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 125:
				instance.waterConsumption = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.yieldPool = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Varint)
				{
					instance.fertilized = ProtocolParser.ReadBool(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.Varint)
				{
					instance.previousGenes = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GrowableEntity DeserializeLength(BufferStream stream, int length, GrowableEntity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.age = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.water = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.healthy = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.totalAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.growthAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.yieldFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.stageAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.genes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 85:
				instance.lightModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 93:
				instance.waterModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 101:
				instance.groundModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 109:
				instance.happiness = ProtocolParser.ReadSingle(stream);
				continue;
			case 117:
				instance.temperatureModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 125:
				instance.waterConsumption = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.yieldPool = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Varint)
				{
					instance.fertilized = ProtocolParser.ReadBool(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.Varint)
				{
					instance.previousGenes = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GrowableEntity instance, GrowableEntity previous)
	{
		if (instance.state != previous.state)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.state);
		}
		if (instance.age != previous.age)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.age);
		}
		if (instance.water != previous.water)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.water);
		}
		if (instance.healthy != previous.healthy)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.healthy);
		}
		if (instance.totalAge != previous.totalAge)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.totalAge);
		}
		if (instance.growthAge != previous.growthAge)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.growthAge);
		}
		if (instance.yieldFraction != previous.yieldFraction)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.yieldFraction);
		}
		if (instance.stageAge != previous.stageAge)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.stageAge);
		}
		if (instance.genes != previous.genes)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genes);
		}
		if (instance.lightModifier != previous.lightModifier)
		{
			stream.WriteByte(85);
			ProtocolParser.WriteSingle(stream, instance.lightModifier);
		}
		if (instance.waterModifier != previous.waterModifier)
		{
			stream.WriteByte(93);
			ProtocolParser.WriteSingle(stream, instance.waterModifier);
		}
		if (instance.groundModifier != previous.groundModifier)
		{
			stream.WriteByte(101);
			ProtocolParser.WriteSingle(stream, instance.groundModifier);
		}
		if (instance.happiness != previous.happiness)
		{
			stream.WriteByte(109);
			ProtocolParser.WriteSingle(stream, instance.happiness);
		}
		if (instance.temperatureModifier != previous.temperatureModifier)
		{
			stream.WriteByte(117);
			ProtocolParser.WriteSingle(stream, instance.temperatureModifier);
		}
		if (instance.waterConsumption != previous.waterConsumption)
		{
			stream.WriteByte(125);
			ProtocolParser.WriteSingle(stream, instance.waterConsumption);
		}
		if (instance.yieldPool != previous.yieldPool)
		{
			stream.WriteByte(133);
			stream.WriteByte(1);
			ProtocolParser.WriteSingle(stream, instance.yieldPool);
		}
		stream.WriteByte(136);
		stream.WriteByte(1);
		ProtocolParser.WriteBool(stream, instance.fertilized);
		if (instance.previousGenes != previous.previousGenes)
		{
			stream.WriteByte(144);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.previousGenes);
		}
	}

	public static void Serialize(BufferStream stream, GrowableEntity instance)
	{
		if (instance.state != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.state);
		}
		if (instance.age != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.age);
		}
		if (instance.water != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.water);
		}
		if (instance.healthy != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.healthy);
		}
		if (instance.totalAge != 0f)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.totalAge);
		}
		if (instance.growthAge != 0f)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.growthAge);
		}
		if (instance.yieldFraction != 0f)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.yieldFraction);
		}
		if (instance.stageAge != 0f)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.stageAge);
		}
		if (instance.genes != 0)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genes);
		}
		if (instance.lightModifier != 0f)
		{
			stream.WriteByte(85);
			ProtocolParser.WriteSingle(stream, instance.lightModifier);
		}
		if (instance.waterModifier != 0f)
		{
			stream.WriteByte(93);
			ProtocolParser.WriteSingle(stream, instance.waterModifier);
		}
		if (instance.groundModifier != 0f)
		{
			stream.WriteByte(101);
			ProtocolParser.WriteSingle(stream, instance.groundModifier);
		}
		if (instance.happiness != 0f)
		{
			stream.WriteByte(109);
			ProtocolParser.WriteSingle(stream, instance.happiness);
		}
		if (instance.temperatureModifier != 0f)
		{
			stream.WriteByte(117);
			ProtocolParser.WriteSingle(stream, instance.temperatureModifier);
		}
		if (instance.waterConsumption != 0f)
		{
			stream.WriteByte(125);
			ProtocolParser.WriteSingle(stream, instance.waterConsumption);
		}
		if (instance.yieldPool != 0f)
		{
			stream.WriteByte(133);
			stream.WriteByte(1);
			ProtocolParser.WriteSingle(stream, instance.yieldPool);
		}
		if (instance.fertilized)
		{
			stream.WriteByte(136);
			stream.WriteByte(1);
			ProtocolParser.WriteBool(stream, instance.fertilized);
		}
		if (instance.previousGenes != 0)
		{
			stream.WriteByte(144);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.previousGenes);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class GunWeaponMod : IDisposable, IPooled, IProto<GunWeaponMod>, IProto
{
	[NonSerialized]
	public int zoomLevel;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GunWeaponMod instance)
	{
		if (instance.ShouldPool)
		{
			instance.zoomLevel = 0;
			Pool.Free<GunWeaponMod>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GunWeaponMod with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GunWeaponMod instance)
	{
		instance.zoomLevel = zoomLevel;
	}

	public GunWeaponMod Copy()
	{
		GunWeaponMod gunWeaponMod = Pool.Get<GunWeaponMod>();
		CopyTo(gunWeaponMod);
		return gunWeaponMod;
	}

	public static GunWeaponMod Deserialize(BufferStream stream)
	{
		GunWeaponMod gunWeaponMod = Pool.Get<GunWeaponMod>();
		Deserialize(stream, gunWeaponMod, isDelta: false);
		return gunWeaponMod;
	}

	public static GunWeaponMod DeserializeLengthDelimited(BufferStream stream)
	{
		GunWeaponMod gunWeaponMod = Pool.Get<GunWeaponMod>();
		DeserializeLengthDelimited(stream, gunWeaponMod, isDelta: false);
		return gunWeaponMod;
	}

	public static GunWeaponMod DeserializeLength(BufferStream stream, int length)
	{
		GunWeaponMod gunWeaponMod = Pool.Get<GunWeaponMod>();
		DeserializeLength(stream, length, gunWeaponMod, isDelta: false);
		return gunWeaponMod;
	}

	public static GunWeaponMod Deserialize(byte[] buffer)
	{
		GunWeaponMod gunWeaponMod = Pool.Get<GunWeaponMod>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, gunWeaponMod, isDelta: false);
		return gunWeaponMod;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GunWeaponMod previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GunWeaponMod Deserialize(BufferStream stream, GunWeaponMod instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.zoomLevel = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static GunWeaponMod DeserializeLengthDelimited(BufferStream stream, GunWeaponMod instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.zoomLevel = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GunWeaponMod DeserializeLength(BufferStream stream, int length, GunWeaponMod instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.zoomLevel = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GunWeaponMod instance, GunWeaponMod previous)
	{
		if (instance.zoomLevel != previous.zoomLevel)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.zoomLevel);
		}
	}

	public static void Serialize(BufferStream stream, GunWeaponMod instance)
	{
		if (instance.zoomLevel != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.zoomLevel);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public struct Half3 : IProto<Half3>, IProto, IEquatable<Half3>
{
	[NonSerialized]
	public uint x;

	[NonSerialized]
	public uint y;

	[NonSerialized]
	public uint z;

	public static void ResetToPool(Half3 instance)
	{
		instance.x = 0u;
		instance.y = 0u;
		instance.z = 0u;
	}

	public void CopyTo(Half3 instance)
	{
		instance.x = x;
		instance.y = y;
		instance.z = z;
	}

	public Half3 Copy()
	{
		Half3 half = default(Half3);
		CopyTo(half);
		return half;
	}

	public static Half3 Deserialize(BufferStream stream)
	{
		Half3 instance = default(Half3);
		Deserialize(stream, ref instance, isDelta: false);
		return instance;
	}

	public static Half3 DeserializeLengthDelimited(BufferStream stream)
	{
		Half3 instance = default(Half3);
		DeserializeLengthDelimited(stream, ref instance, isDelta: false);
		return instance;
	}

	public static Half3 DeserializeLength(BufferStream stream, int length)
	{
		Half3 instance = default(Half3);
		DeserializeLength(stream, length, ref instance, isDelta: false);
		return instance;
	}

	public static Half3 Deserialize(byte[] buffer)
	{
		Half3 instance = default(Half3);
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, ref instance, isDelta: false);
		return instance;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, ref this, isDelta);
	}

	public void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void WriteToStreamDelta(BufferStream stream, Half3 previous)
	{
		SerializeDelta(stream, this, previous);
	}

	public void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, ref this, isDelta);
	}

	public void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, ref this, isDelta);
	}

	public static Half3 Deserialize(BufferStream stream, ref Half3 instance, bool isDelta)
	{
		if (!isDelta)
		{
			instance.x = 0u;
			instance.y = 0u;
			instance.z = 0u;
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.x = ProtocolParser.ReadUInt32(stream);
				continue;
			case 16:
				instance.y = ProtocolParser.ReadUInt32(stream);
				continue;
			case 24:
				instance.z = ProtocolParser.ReadUInt32(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Half3 DeserializeLengthDelimited(BufferStream stream, ref Half3 instance, bool isDelta)
	{
		if (!isDelta)
		{
			instance.x = 0u;
			instance.y = 0u;
			instance.z = 0u;
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.x = ProtocolParser.ReadUInt32(stream);
				continue;
			case 16:
				instance.y = ProtocolParser.ReadUInt32(stream);
				continue;
			case 24:
				instance.z = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Half3 DeserializeLength(BufferStream stream, int length, ref Half3 instance, bool isDelta)
	{
		if (!isDelta)
		{
			instance.x = 0u;
			instance.y = 0u;
			instance.z = 0u;
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.x = ProtocolParser.ReadUInt32(stream);
				continue;
			case 16:
				instance.y = ProtocolParser.ReadUInt32(stream);
				continue;
			case 24:
				instance.z = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Half3 instance, Half3 previous)
	{
		if (instance.x != previous.x)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.x);
		}
		if (instance.y != previous.y)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.y);
		}
		if (instance.z != previous.z)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.z);
		}
	}

	public static void Serialize(BufferStream stream, Half3 instance)
	{
		if (instance.x != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.x);
		}
		if (instance.y != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.y);
		}
		if (instance.z != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.z);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}

	public bool Equals(Half3 other)
	{
		if (x == other.x && y == other.y)
		{
			return z == other.z;
		}
		return false;
	}

	public override bool Equals(object obj)
	{
		if (obj is Half3)
		{
			return Equals((Half3)obj);
		}
		return false;
	}

	public static bool operator ==(Half3 a, Half3 b)
	{
		return a.Equals(b);
	}

	public static bool operator !=(Half3 a, Half3 b)
	{
		return !a.Equals(b);
	}

	public override int GetHashCode()
	{
		return HashCode.Combine(x, y, z);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class HarborCrane : IDisposable, IPooled, IProto<HarborCrane>, IProto
{
	public class QueuedMove : IDisposable, IPooled, IProto<QueuedMove>, IProto
	{
		[NonSerialized]
		public NetworkableId targetEntity;

		[NonSerialized]
		public Vector3 targetWorldPosition;

		[NonSerialized]
		public Vector4 targetWorldRotation;

		[NonSerialized]
		public bool hasTarget;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(QueuedMove instance)
		{
			//IL_001b: Unknown result type (might be due to invalid IL or missing references)
			//IL_0027: Unknown result type (might be due to invalid IL or missing references)
			if (instance.ShouldPool)
			{
				instance.targetEntity = default(NetworkableId);
				instance.targetWorldPosition = default(Vector3);
				instance.targetWorldRotation = default(Vector4);
				instance.hasTarget = false;
				Pool.Free<QueuedMove>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose QueuedMove with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(QueuedMove instance)
		{
			//IL_000e: Unknown result type (might be due to invalid IL or missing references)
			//IL_0013: Unknown result type (might be due to invalid IL or missing references)
			//IL_001a: Unknown result type (might be due to invalid IL or missing references)
			//IL_001f: Unknown result type (might be due to invalid IL or missing references)
			instance.targetEntity = targetEntity;
			instance.targetWorldPosition = targetWorldPosition;
			instance.targetWorldRotation = targetWorldRotation;
			instance.hasTarget = hasTarget;
		}

		public QueuedMove Copy()
		{
			QueuedMove queuedMove = Pool.Get<QueuedMove>();
			CopyTo(queuedMove);
			return queuedMove;
		}

		public static QueuedMove Deserialize(BufferStream stream)
		{
			QueuedMove queuedMove = Pool.Get<QueuedMove>();
			Deserialize(stream, queuedMove, isDelta: false);
			return queuedMove;
		}

		public static QueuedMove DeserializeLengthDelimited(BufferStream stream)
		{
			QueuedMove queuedMove = Pool.Get<QueuedMove>();
			DeserializeLengthDelimited(stream, queuedMove, isDelta: false);
			return queuedMove;
		}

		public static QueuedMove DeserializeLength(BufferStream stream, int length)
		{
			QueuedMove queuedMove = Pool.Get<QueuedMove>();
			DeserializeLength(stream, length, queuedMove, isDelta: false);
			return queuedMove;
		}

		public static QueuedMove Deserialize(byte[] buffer)
		{
			QueuedMove queuedMove = Pool.Get<QueuedMove>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, queuedMove, isDelta: false);
			return queuedMove;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, QueuedMove previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static QueuedMove Deserialize(BufferStream stream, QueuedMove instance, bool isDelta)
		{
			//IL_0057: Unknown result type (might be due to invalid IL or missing references)
			//IL_0047: Unknown result type (might be due to invalid IL or missing references)
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.targetEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 18:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.targetWorldPosition, isDelta);
					continue;
				case 26:
					Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.targetWorldRotation, isDelta);
					continue;
				case 32:
					instance.hasTarget = ProtocolParser.ReadBool(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static QueuedMove DeserializeLengthDelimited(BufferStream stream, QueuedMove instance, bool isDelta)
		{
			//IL_008e: Unknown result type (might be due to invalid IL or missing references)
			//IL_007e: Unknown result type (might be due to invalid IL or missing references)
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.targetEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 18:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.targetWorldPosition, isDelta);
					continue;
				case 26:
					Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.targetWorldRotation, isDelta);
					continue;
				case 32:
					instance.hasTarget = ProtocolParser.ReadBool(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static QueuedMove DeserializeLength(BufferStream stream, int length, QueuedMove instance, bool isDelta)
		{
			//IL_0086: Unknown result type (might be due to invalid IL or missing references)
			//IL_0076: Unknown result type (might be due to invalid IL or missing references)
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.targetEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 18:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.targetWorldPosition, isDelta);
					continue;
				case 26:
					Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.targetWorldRotation, isDelta);
					continue;
				case 32:
					instance.hasTarget = ProtocolParser.ReadBool(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, QueuedMove instance, QueuedMove previous)
		{
			//IL_0019: Unknown result type (might be due to invalid IL or missing references)
			//IL_001f: Unknown result type (might be due to invalid IL or missing references)
			//IL_007d: Unknown result type (might be due to invalid IL or missing references)
			//IL_0083: Unknown result type (might be due to invalid IL or missing references)
			//IL_0044: Unknown result type (might be due to invalid IL or missing references)
			//IL_004a: Unknown result type (might be due to invalid IL or missing references)
			//IL_00a9: Unknown result type (might be due to invalid IL or missing references)
			//IL_00af: Unknown result type (might be due to invalid IL or missing references)
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.targetEntity.Value);
			if (instance.targetWorldPosition != previous.targetWorldPosition)
			{
				stream.WriteByte(18);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				Vector3Serialized.SerializeDelta(stream, instance.targetWorldPosition, previous.targetWorldPosition);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field targetWorldPosition (UnityEngine.Vector3)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
			if (instance.targetWorldRotation != previous.targetWorldRotation)
			{
				stream.WriteByte(26);
				BufferStream.RangeHandle range2 = stream.GetRange(1);
				int position2 = stream.Position;
				Vector4Serialized.SerializeDelta(stream, instance.targetWorldRotation, previous.targetWorldRotation);
				int num2 = stream.Position - position2;
				if (num2 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field targetWorldRotation (UnityEngine.Vector4)");
				}
				Span<byte> span2 = range2.GetSpan();
				ProtocolParser.WriteUInt32((uint)num2, span2, 0);
			}
			stream.WriteByte(32);
			ProtocolParser.WriteBool(stream, instance.hasTarget);
		}

		public static void Serialize(BufferStream stream, QueuedMove instance)
		{
			//IL_002f: Unknown result type (might be due to invalid IL or missing references)
			//IL_0036: Unknown result type (might be due to invalid IL or missing references)
			//IL_003c: Unknown result type (might be due to invalid IL or missing references)
			//IL_0092: Unknown result type (might be due to invalid IL or missing references)
			//IL_0099: Unknown result type (might be due to invalid IL or missing references)
			//IL_009f: Unknown result type (might be due to invalid IL or missing references)
			//IL_005d: Unknown result type (might be due to invalid IL or missing references)
			//IL_00c3: Unknown result type (might be due to invalid IL or missing references)
			if (instance.targetEntity != default(NetworkableId))
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, instance.targetEntity.Value);
			}
			if (instance.targetWorldPosition != default(Vector3))
			{
				stream.WriteByte(18);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				Vector3Serialized.Serialize(stream, instance.targetWorldPosition);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field targetWorldPosition (UnityEngine.Vector3)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
			if (instance.targetWorldRotation != default(Vector4))
			{
				stream.WriteByte(26);
				BufferStream.RangeHandle range2 = stream.GetRange(1);
				int position2 = stream.Position;
				Vector4Serialized.Serialize(stream, instance.targetWorldRotation);
				int num2 = stream.Position - position2;
				if (num2 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field targetWorldRotation (UnityEngine.Vector4)");
				}
				Span<byte> span2 = range2.GetSpan();
				ProtocolParser.WriteUInt32((uint)num2, span2, 0);
			}
			if (instance.hasTarget)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteBool(stream, instance.hasTarget);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			action(UidType.NetworkableId, ref targetEntity.Value);
		}
	}

	[NonSerialized]
	public float time;

	[NonSerialized]
	public float yaw;

	[NonSerialized]
	public float depth;

	[NonSerialized]
	public float height;

	[NonSerialized]
	public QueuedMove currentMove;

	[NonSerialized]
	public int currentPickupState;

	[NonSerialized]
	public Vector3 startForward;

	[NonSerialized]
	public float maxMoveHeight;

	[NonSerialized]
	public NetworkableId toParent;

	[NonSerialized]
	public List<QueuedMove> queuedMoves;

	[NonSerialized]
	public float moveDelay;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HarborCrane instance)
	{
		//IL_005c: Unknown result type (might be due to invalid IL or missing references)
		if (!instance.ShouldPool)
		{
			return;
		}
		instance.time = 0f;
		instance.yaw = 0f;
		instance.depth = 0f;
		instance.height = 0f;
		if (instance.currentMove != null)
		{
			instance.currentMove.ResetToPool();
			instance.currentMove = null;
		}
		instance.currentPickupState = 0;
		instance.startForward = default(Vector3);
		instance.maxMoveHeight = 0f;
		instance.toParent = default(NetworkableId);
		if (instance.queuedMoves != null)
		{
			for (int i = 0; i < instance.queuedMoves.Count; i++)
			{
				if (instance.queuedMoves[i] != null)
				{
					instance.queuedMoves[i].ResetToPool();
					instance.queuedMoves[i] = null;
				}
			}
			List<QueuedMove> list = instance.queuedMoves;
			Pool.Free<QueuedMove>(ref list, false);
			instance.queuedMoves = list;
		}
		instance.moveDelay = 0f;
		Pool.Free<HarborCrane>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HarborCrane with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HarborCrane instance)
	{
		//IL_007b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0080: Unknown result type (might be due to invalid IL or missing references)
		instance.time = time;
		instance.yaw = yaw;
		instance.depth = depth;
		instance.height = height;
		if (currentMove != null)
		{
			if (instance.currentMove == null)
			{
				instance.currentMove = currentMove.Copy();
			}
			else
			{
				currentMove.CopyTo(instance.currentMove);
			}
		}
		else
		{
			instance.currentMove = null;
		}
		instance.currentPickupState = currentPickupState;
		instance.startForward = startForward;
		instance.maxMoveHeight = maxMoveHeight;
		instance.toParent = toParent;
		if (queuedMoves != null)
		{
			instance.queuedMoves = Pool.Get<List<QueuedMove>>();
			for (int i = 0; i < queuedMoves.Count; i++)
			{
				QueuedMove item = queuedMoves[i].Copy();
				instance.queuedMoves.Add(item);
			}
		}
		else
		{
			instance.queuedMoves = null;
		}
		instance.moveDelay = moveDelay;
	}

	public HarborCrane Copy()
	{
		HarborCrane harborCrane = Pool.Get<HarborCrane>();
		CopyTo(harborCrane);
		return harborCrane;
	}

	public static HarborCrane Deserialize(BufferStream stream)
	{
		HarborCrane harborCrane = Pool.Get<HarborCrane>();
		Deserialize(stream, harborCrane, isDelta: false);
		return harborCrane;
	}

	public static HarborCrane DeserializeLengthDelimited(BufferStream stream)
	{
		HarborCrane harborCrane = Pool.Get<HarborCrane>();
		DeserializeLengthDelimited(stream, harborCrane, isDelta: false);
		return harborCrane;
	}

	public static HarborCrane DeserializeLength(BufferStream stream, int length)
	{
		HarborCrane harborCrane = Pool.Get<HarborCrane>();
		DeserializeLength(stream, length, harborCrane, isDelta: false);
		return harborCrane;
	}

	public static HarborCrane Deserialize(byte[] buffer)
	{
		HarborCrane harborCrane = Pool.Get<HarborCrane>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, harborCrane, isDelta: false);
		return harborCrane;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HarborCrane previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HarborCrane Deserialize(BufferStream stream, HarborCrane instance, bool isDelta)
	{
		//IL_0123: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.queuedMoves == null)
		{
			instance.queuedMoves = Pool.Get<List<QueuedMove>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.time = ProtocolParser.ReadSingle(stream);
				break;
			case 21:
				instance.yaw = ProtocolParser.ReadSingle(stream);
				break;
			case 29:
				instance.depth = ProtocolParser.ReadSingle(stream);
				break;
			case 37:
				instance.height = ProtocolParser.ReadSingle(stream);
				break;
			case 42:
				if (instance.currentMove == null)
				{
					instance.currentMove = QueuedMove.DeserializeLengthDelimited(stream);
				}
				else
				{
					QueuedMove.DeserializeLengthDelimited(stream, instance.currentMove, isDelta);
				}
				break;
			case 48:
				instance.currentPickupState = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 58:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.startForward, isDelta);
				break;
			case 69:
				instance.maxMoveHeight = ProtocolParser.ReadSingle(stream);
				break;
			case 72:
				instance.toParent = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 90:
				instance.queuedMoves.Add(QueuedMove.DeserializeLengthDelimited(stream));
				break;
			case 101:
				instance.moveDelay = ProtocolParser.ReadSingle(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static HarborCrane DeserializeLengthDelimited(BufferStream stream, HarborCrane instance, bool isDelta)
	{
		//IL_0154: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.queuedMoves == null)
		{
			instance.queuedMoves = Pool.Get<List<QueuedMove>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.time = ProtocolParser.ReadSingle(stream);
				break;
			case 21:
				instance.yaw = ProtocolParser.ReadSingle(stream);
				break;
			case 29:
				instance.depth = ProtocolParser.ReadSingle(stream);
				break;
			case 37:
				instance.height = ProtocolParser.ReadSingle(stream);
				break;
			case 42:
				if (instance.currentMove == null)
				{
					instance.currentMove = QueuedMove.DeserializeLengthDelimited(stream);
				}
				else
				{
					QueuedMove.DeserializeLengthDelimited(stream, instance.currentMove, isDelta);
				}
				break;
			case 48:
				instance.currentPickupState = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 58:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.startForward, isDelta);
				break;
			case 69:
				instance.maxMoveHeight = ProtocolParser.ReadSingle(stream);
				break;
			case 72:
				instance.toParent = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 90:
				instance.queuedMoves.Add(QueuedMove.DeserializeLengthDelimited(stream));
				break;
			case 101:
				instance.moveDelay = ProtocolParser.ReadSingle(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HarborCrane DeserializeLength(BufferStream stream, int length, HarborCrane instance, bool isDelta)
	{
		//IL_014c: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.queuedMoves == null)
		{
			instance.queuedMoves = Pool.Get<List<QueuedMove>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.time = ProtocolParser.ReadSingle(stream);
				break;
			case 21:
				instance.yaw = ProtocolParser.ReadSingle(stream);
				break;
			case 29:
				instance.depth = ProtocolParser.ReadSingle(stream);
				break;
			case 37:
				instance.height = ProtocolParser.ReadSingle(stream);
				break;
			case 42:
				if (instance.currentMove == null)
				{
					instance.currentMove = QueuedMove.DeserializeLengthDelimited(stream);
				}
				else
				{
					QueuedMove.DeserializeLengthDelimited(stream, instance.currentMove, isDelta);
				}
				break;
			case 48:
				instance.currentPickupState = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 58:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.startForward, isDelta);
				break;
			case 69:
				instance.maxMoveHeight = ProtocolParser.ReadSingle(stream);
				break;
			case 72:
				instance.toParent = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 90:
				instance.queuedMoves.Add(QueuedMove.DeserializeLengthDelimited(stream));
				break;
			case 101:
				instance.moveDelay = ProtocolParser.ReadSingle(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HarborCrane instance, HarborCrane previous)
	{
		//IL_0105: Unknown result type (might be due to invalid IL or missing references)
		//IL_010b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0131: Unknown result type (might be due to invalid IL or missing references)
		//IL_0137: Unknown result type (might be due to invalid IL or missing references)
		if (instance.time != previous.time)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.time);
		}
		if (instance.yaw != previous.yaw)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.yaw);
		}
		if (instance.depth != previous.depth)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.depth);
		}
		if (instance.height != previous.height)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.height);
		}
		if (instance.currentMove != null)
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			QueuedMove.SerializeDelta(stream, instance.currentMove, previous.currentMove);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field currentMove (ProtoBuf.HarborCrane.QueuedMove)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.currentPickupState != previous.currentPickupState)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.currentPickupState);
		}
		if (instance.startForward != previous.startForward)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.startForward, previous.startForward);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field startForward (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.maxMoveHeight != previous.maxMoveHeight)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.maxMoveHeight);
		}
		stream.WriteByte(72);
		ProtocolParser.WriteUInt64(stream, instance.toParent.Value);
		if (instance.queuedMoves != null)
		{
			for (int i = 0; i < instance.queuedMoves.Count; i++)
			{
				QueuedMove queuedMove = instance.queuedMoves[i];
				stream.WriteByte(90);
				BufferStream.RangeHandle range3 = stream.GetRange(1);
				int position3 = stream.Position;
				QueuedMove.SerializeDelta(stream, queuedMove, queuedMove);
				int num3 = stream.Position - position3;
				if (num3 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field queuedMoves (ProtoBuf.HarborCrane.QueuedMove)");
				}
				Span<byte> span3 = range3.GetSpan();
				ProtocolParser.WriteUInt32((uint)num3, span3, 0);
			}
		}
		if (instance.moveDelay != previous.moveDelay)
		{
			stream.WriteByte(101);
			ProtocolParser.WriteSingle(stream, instance.moveDelay);
		}
	}

	public static void Serialize(BufferStream stream, HarborCrane instance)
	{
		//IL_00f5: Unknown result type (might be due to invalid IL or missing references)
		//IL_00fc: Unknown result type (might be due to invalid IL or missing references)
		//IL_0102: Unknown result type (might be due to invalid IL or missing references)
		//IL_0125: Unknown result type (might be due to invalid IL or missing references)
		if (instance.time != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.time);
		}
		if (instance.yaw != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.yaw);
		}
		if (instance.depth != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.depth);
		}
		if (instance.height != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.height);
		}
		if (instance.currentMove != null)
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			QueuedMove.Serialize(stream, instance.currentMove);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field currentMove (ProtoBuf.HarborCrane.QueuedMove)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.currentPickupState != 0)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.currentPickupState);
		}
		if (instance.startForward != default(Vector3))
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.startForward);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field startForward (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.maxMoveHeight != 0f)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.maxMoveHeight);
		}
		if (instance.toParent != default(NetworkableId))
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, instance.toParent.Value);
		}
		if (instance.queuedMoves != null)
		{
			for (int i = 0; i < instance.queuedMoves.Count; i++)
			{
				QueuedMove instance2 = instance.queuedMoves[i];
				stream.WriteByte(90);
				BufferStream.RangeHandle range3 = stream.GetRange(1);
				int position3 = stream.Position;
				QueuedMove.Serialize(stream, instance2);
				int num3 = stream.Position - position3;
				if (num3 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field queuedMoves (ProtoBuf.HarborCrane.QueuedMove)");
				}
				Span<byte> span3 = range3.GetSpan();
				ProtocolParser.WriteUInt32((uint)num3, span3, 0);
			}
		}
		if (instance.moveDelay != 0f)
		{
			stream.WriteByte(101);
			ProtocolParser.WriteSingle(stream, instance.moveDelay);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		currentMove?.InspectUids(action);
		action(UidType.NetworkableId, ref toParent.Value);
		if (queuedMoves != null)
		{
			for (int i = 0; i < queuedMoves.Count; i++)
			{
				queuedMoves[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class HeadData : IDisposable, IPooled, IProto<HeadData>, IProto
{
	[NonSerialized]
	public uint entitySource;

	[NonSerialized]
	public string playerName;

	[NonSerialized]
	public ulong playerId;

	[NonSerialized]
	public List<int> clothing;

	[NonSerialized]
	public uint count;

	[NonSerialized]
	public int horseBreed;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HeadData instance)
	{
		if (instance.ShouldPool)
		{
			instance.entitySource = 0u;
			instance.playerName = string.Empty;
			instance.playerId = 0uL;
			if (instance.clothing != null)
			{
				List<int> list = instance.clothing;
				Pool.FreeUnmanaged<int>(ref list);
				instance.clothing = list;
			}
			instance.count = 0u;
			instance.horseBreed = 0;
			Pool.Free<HeadData>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HeadData with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HeadData instance)
	{
		instance.entitySource = entitySource;
		instance.playerName = playerName;
		instance.playerId = playerId;
		if (clothing != null)
		{
			instance.clothing = Pool.Get<List<int>>();
			for (int i = 0; i < clothing.Count; i++)
			{
				int item = clothing[i];
				instance.clothing.Add(item);
			}
		}
		else
		{
			instance.clothing = null;
		}
		instance.count = count;
		instance.horseBreed = horseBreed;
	}

	public HeadData Copy()
	{
		HeadData headData = Pool.Get<HeadData>();
		CopyTo(headData);
		return headData;
	}

	public static HeadData Deserialize(BufferStream stream)
	{
		HeadData headData = Pool.Get<HeadData>();
		Deserialize(stream, headData, isDelta: false);
		return headData;
	}

	public static HeadData DeserializeLengthDelimited(BufferStream stream)
	{
		HeadData headData = Pool.Get<HeadData>();
		DeserializeLengthDelimited(stream, headData, isDelta: false);
		return headData;
	}

	public static HeadData DeserializeLength(BufferStream stream, int length)
	{
		HeadData headData = Pool.Get<HeadData>();
		DeserializeLength(stream, length, headData, isDelta: false);
		return headData;
	}

	public static HeadData Deserialize(byte[] buffer)
	{
		HeadData headData = Pool.Get<HeadData>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, headData, isDelta: false);
		return headData;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HeadData previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HeadData Deserialize(BufferStream stream, HeadData instance, bool isDelta)
	{
		if (!isDelta && instance.clothing == null)
		{
			instance.clothing = Pool.Get<List<int>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.entitySource = ProtocolParser.ReadUInt32(stream);
				continue;
			case 18:
				instance.playerName = ProtocolParser.ReadString(stream);
				continue;
			case 24:
				instance.playerId = ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.clothing.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.count = ProtocolParser.ReadUInt32(stream);
				continue;
			case 48:
				instance.horseBreed = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HeadData DeserializeLengthDelimited(BufferStream stream, HeadData instance, bool isDelta)
	{
		if (!isDelta && instance.clothing == null)
		{
			instance.clothing = Pool.Get<List<int>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.entitySource = ProtocolParser.ReadUInt32(stream);
				continue;
			case 18:
				instance.playerName = ProtocolParser.ReadString(stream);
				continue;
			case 24:
				instance.playerId = ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.clothing.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.count = ProtocolParser.ReadUInt32(stream);
				continue;
			case 48:
				instance.horseBreed = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HeadData DeserializeLength(BufferStream stream, int length, HeadData instance, bool isDelta)
	{
		if (!isDelta && instance.clothing == null)
		{
			instance.clothing = Pool.Get<List<int>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.entitySource = ProtocolParser.ReadUInt32(stream);
				continue;
			case 18:
				instance.playerName = ProtocolParser.ReadString(stream);
				continue;
			case 24:
				instance.playerId = ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.clothing.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.count = ProtocolParser.ReadUInt32(stream);
				continue;
			case 48:
				instance.horseBreed = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HeadData instance, HeadData previous)
	{
		if (instance.entitySource != previous.entitySource)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.entitySource);
		}
		if (instance.playerName != null && instance.playerName != previous.playerName)
		{
			stream.WriteByte(18);
			ProtocolParser.WriteString(stream, instance.playerName);
		}
		if (instance.playerId != previous.playerId)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.playerId);
		}
		if (instance.clothing != null)
		{
			for (int i = 0; i < instance.clothing.Count; i++)
			{
				int num = instance.clothing[i];
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
		if (instance.count != previous.count)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt32(stream, instance.count);
		}
		if (instance.horseBreed != previous.horseBreed)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.horseBreed);
		}
	}

	public static void Serialize(BufferStream stream, HeadData instance)
	{
		if (instance.entitySource != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.entitySource);
		}
		if (instance.playerName != null)
		{
			stream.WriteByte(18);
			ProtocolParser.WriteString(stream, instance.playerName);
		}
		if (instance.playerId != 0L)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.playerId);
		}
		if (instance.clothing != null)
		{
			for (int i = 0; i < instance.clothing.Count; i++)
			{
				int num = instance.clothing[i];
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
		if (instance.count != 0)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt32(stream, instance.count);
		}
		if (instance.horseBreed != 0)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.horseBreed);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class HealthBelowAIEventData : IDisposable, IPooled, IProto<HealthBelowAIEventData>, IProto
{
	[NonSerialized]
	public float healthFraction;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HealthBelowAIEventData instance)
	{
		if (instance.ShouldPool)
		{
			instance.healthFraction = 0f;
			Pool.Free<HealthBelowAIEventData>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HealthBelowAIEventData with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HealthBelowAIEventData instance)
	{
		instance.healthFraction = healthFraction;
	}

	public HealthBelowAIEventData Copy()
	{
		HealthBelowAIEventData healthBelowAIEventData = Pool.Get<HealthBelowAIEventData>();
		CopyTo(healthBelowAIEventData);
		return healthBelowAIEventData;
	}

	public static HealthBelowAIEventData Deserialize(BufferStream stream)
	{
		HealthBelowAIEventData healthBelowAIEventData = Pool.Get<HealthBelowAIEventData>();
		Deserialize(stream, healthBelowAIEventData, isDelta: false);
		return healthBelowAIEventData;
	}

	public static HealthBelowAIEventData DeserializeLengthDelimited(BufferStream stream)
	{
		HealthBelowAIEventData healthBelowAIEventData = Pool.Get<HealthBelowAIEventData>();
		DeserializeLengthDelimited(stream, healthBelowAIEventData, isDelta: false);
		return healthBelowAIEventData;
	}

	public static HealthBelowAIEventData DeserializeLength(BufferStream stream, int length)
	{
		HealthBelowAIEventData healthBelowAIEventData = Pool.Get<HealthBelowAIEventData>();
		DeserializeLength(stream, length, healthBelowAIEventData, isDelta: false);
		return healthBelowAIEventData;
	}

	public static HealthBelowAIEventData Deserialize(byte[] buffer)
	{
		HealthBelowAIEventData healthBelowAIEventData = Pool.Get<HealthBelowAIEventData>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, healthBelowAIEventData, isDelta: false);
		return healthBelowAIEventData;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HealthBelowAIEventData previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HealthBelowAIEventData Deserialize(BufferStream stream, HealthBelowAIEventData instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.healthFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HealthBelowAIEventData DeserializeLengthDelimited(BufferStream stream, HealthBelowAIEventData instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.healthFraction = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HealthBelowAIEventData DeserializeLength(BufferStream stream, int length, HealthBelowAIEventData instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.healthFraction = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HealthBelowAIEventData instance, HealthBelowAIEventData previous)
	{
		if (instance.healthFraction != previous.healthFraction)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.healthFraction);
		}
	}

	public static void Serialize(BufferStream stream, HealthBelowAIEventData instance)
	{
		if (instance.healthFraction != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.healthFraction);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class HeldEntity : IDisposable, IPooled, IProto<HeldEntity>, IProto
{
	[NonSerialized]
	public ItemId itemUID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HeldEntity instance)
	{
		if (instance.ShouldPool)
		{
			instance.itemUID = default(ItemId);
			Pool.Free<HeldEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HeldEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HeldEntity instance)
	{
		instance.itemUID = itemUID;
	}

	public HeldEntity Copy()
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		CopyTo(heldEntity);
		return heldEntity;
	}

	public static HeldEntity Deserialize(BufferStream stream)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		Deserialize(stream, heldEntity, isDelta: false);
		return heldEntity;
	}

	public static HeldEntity DeserializeLengthDelimited(BufferStream stream)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		DeserializeLengthDelimited(stream, heldEntity, isDelta: false);
		return heldEntity;
	}

	public static HeldEntity DeserializeLength(BufferStream stream, int length)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		DeserializeLength(stream, length, heldEntity, isDelta: false);
		return heldEntity;
	}

	public static HeldEntity Deserialize(byte[] buffer)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, heldEntity, isDelta: false);
		return heldEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HeldEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HeldEntity Deserialize(BufferStream stream, HeldEntity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.itemUID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HeldEntity DeserializeLengthDelimited(BufferStream stream, HeldEntity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemUID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HeldEntity DeserializeLength(BufferStream stream, int length, HeldEntity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemUID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HeldEntity instance, HeldEntity previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.itemUID.Value);
	}

	public static void Serialize(BufferStream stream, HeldEntity instance)
	{
		if (instance.itemUID != default(ItemId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.itemUID.Value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.ItemId, ref itemUID.Value);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class Helicopter : IDisposable, IPooled, IProto<Helicopter>, IProto
{
	[NonSerialized]
	public Vector3 tiltRot;

	[NonSerialized]
	public Vector3 leftGun;

	[NonSerialized]
	public Vector3 rightGun;

	[NonSerialized]
	public Vector3 spotlightVec;

	[NonSerialized]
	public List<float> weakspothealths;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Helicopter instance)
	{
		//IL_000f: Unknown result type (might be due to invalid IL or missing references)
		//IL_001b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0027: Unknown result type (might be due to invalid IL or missing references)
		//IL_0033: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.tiltRot = default(Vector3);
			instance.leftGun = default(Vector3);
			instance.rightGun = default(Vector3);
			instance.spotlightVec = default(Vector3);
			if (instance.weakspothealths != null)
			{
				List<float> list = instance.weakspothealths;
				Pool.FreeUnmanaged<float>(ref list);
				instance.weakspothealths = list;
			}
			Pool.Free<Helicopter>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Helicopter with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Helicopter instance)
	{
		//IL_0002: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0013: Unknown result type (might be due to invalid IL or missing references)
		//IL_001a: Unknown result type (might be due to invalid IL or missing references)
		//IL_001f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0026: Unknown result type (might be due to invalid IL or missing references)
		//IL_002b: Unknown result type (might be due to invalid IL or missing references)
		instance.tiltRot = tiltRot;
		instance.leftGun = leftGun;
		instance.rightGun = rightGun;
		instance.spotlightVec = spotlightVec;
		if (weakspothealths != null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
			for (int i = 0; i < weakspothealths.Count; i++)
			{
				float item = weakspothealths[i];
				instance.weakspothealths.Add(item);
			}
		}
		else
		{
			instance.weakspothealths = null;
		}
	}

	public Helicopter Copy()
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		CopyTo(helicopter);
		return helicopter;
	}

	public static Helicopter Deserialize(BufferStream stream)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		Deserialize(stream, helicopter, isDelta: false);
		return helicopter;
	}

	public static Helicopter DeserializeLengthDelimited(BufferStream stream)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		DeserializeLengthDelimited(stream, helicopter, isDelta: false);
		return helicopter;
	}

	public static Helicopter DeserializeLength(BufferStream stream, int length)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		DeserializeLength(stream, length, helicopter, isDelta: false);
		return helicopter;
	}

	public static Helicopter Deserialize(byte[] buffer)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, helicopter, isDelta: false);
		return helicopter;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Helicopter previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Helicopter Deserialize(BufferStream stream, Helicopter instance, bool isDelta)
	{
		//IL_0074: Unknown result type (might be due to invalid IL or missing references)
		//IL_0054: Unknown result type (might be due to invalid IL or missing references)
		//IL_0084: Unknown result type (might be due to invalid IL or missing references)
		//IL_0064: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.weakspothealths == null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.tiltRot, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftGun, isDelta);
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightGun, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spotlightVec, isDelta);
				continue;
			case 45:
				instance.weakspothealths.Add(ProtocolParser.ReadSingle(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Helicopter DeserializeLengthDelimited(BufferStream stream, Helicopter instance, bool isDelta)
	{
		//IL_00a5: Unknown result type (might be due to invalid IL or missing references)
		//IL_0085: Unknown result type (might be due to invalid IL or missing references)
		//IL_00b8: Unknown result type (might be due to invalid IL or missing references)
		//IL_0095: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.weakspothealths == null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.tiltRot, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftGun, isDelta);
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightGun, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spotlightVec, isDelta);
				continue;
			case 45:
				instance.weakspothealths.Add(ProtocolParser.ReadSingle(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Helicopter DeserializeLength(BufferStream stream, int length, Helicopter instance, bool isDelta)
	{
		//IL_009d: Unknown result type (might be due to invalid IL or missing references)
		//IL_007d: Unknown result type (might be due to invalid IL or missing references)
		//IL_00b0: Unknown result type (might be due to invalid IL or missing references)
		//IL_008d: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.weakspothealths == null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.tiltRot, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftGun, isDelta);
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightGun, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spotlightVec, isDelta);
				continue;
			case 45:
				instance.weakspothealths.Add(ProtocolParser.ReadSingle(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Helicopter instance, Helicopter previous)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_0065: Unknown result type (might be due to invalid IL or missing references)
		//IL_006b: Unknown result type (might be due to invalid IL or missing references)
		//IL_002c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0032: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cd: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d3: Unknown result type (might be due to invalid IL or missing references)
		//IL_0091: Unknown result type (might be due to invalid IL or missing references)
		//IL_0097: Unknown result type (might be due to invalid IL or missing references)
		//IL_0136: Unknown result type (might be due to invalid IL or missing references)
		//IL_013c: Unknown result type (might be due to invalid IL or missing references)
		//IL_00fa: Unknown result type (might be due to invalid IL or missing references)
		//IL_0100: Unknown result type (might be due to invalid IL or missing references)
		//IL_0163: Unknown result type (might be due to invalid IL or missing references)
		//IL_0169: Unknown result type (might be due to invalid IL or missing references)
		if (instance.tiltRot != previous.tiltRot)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.tiltRot, previous.tiltRot);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tiltRot (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.leftGun != previous.leftGun)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.leftGun, previous.leftGun);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftGun (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.rightGun != previous.rightGun)
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(1);
			int position3 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.rightGun, previous.rightGun);
			int num3 = stream.Position - position3;
			if (num3 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightGun (UnityEngine.Vector3)");
			}
			Span<byte> span3 = range3.GetSpan();
			ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		}
		if (instance.spotlightVec != previous.spotlightVec)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(1);
			int position4 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.spotlightVec, previous.spotlightVec);
			int num4 = stream.Position - position4;
			if (num4 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spotlightVec (UnityEngine.Vector3)");
			}
			Span<byte> span4 = range4.GetSpan();
			ProtocolParser.WriteUInt32((uint)num4, span4, 0);
		}
		if (instance.weakspothealths != null)
		{
			for (int i = 0; i < instance.weakspothealths.Count; i++)
			{
				float f = instance.weakspothealths[i];
				stream.WriteByte(45);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
	}

	public static void Serialize(BufferStream stream, Helicopter instance)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0008: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0062: Unknown result type (might be due to invalid IL or missing references)
		//IL_0069: Unknown result type (might be due to invalid IL or missing references)
		//IL_006f: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		//IL_00c8: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cf: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d5: Unknown result type (might be due to invalid IL or missing references)
		//IL_0092: Unknown result type (might be due to invalid IL or missing references)
		//IL_012e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0135: Unknown result type (might be due to invalid IL or missing references)
		//IL_013b: Unknown result type (might be due to invalid IL or missing references)
		//IL_00f8: Unknown result type (might be due to invalid IL or missing references)
		//IL_015e: Unknown result type (might be due to invalid IL or missing references)
		if (instance.tiltRot != default(Vector3))
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.tiltRot);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tiltRot (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.leftGun != default(Vector3))
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.leftGun);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftGun (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.rightGun != default(Vector3))
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(1);
			int position3 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.rightGun);
			int num3 = stream.Position - position3;
			if (num3 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightGun (UnityEngine.Vector3)");
			}
			Span<byte> span3 = range3.GetSpan();
			ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		}
		if (instance.spotlightVec != default(Vector3))
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(1);
			int position4 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.spotlightVec);
			int num4 = stream.Position - position4;
			if (num4 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spotlightVec (UnityEngine.Vector3)");
			}
			Span<byte> span4 = range4.GetSpan();
			ProtocolParser.WriteUInt32((uint)num4, span4, 0);
		}
		if (instance.weakspothealths != null)
		{
			for (int i = 0; i < instance.weakspothealths.Count; i++)
			{
				float f = instance.weakspothealths[i];
				stream.WriteByte(45);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class HelicopterFlares : IDisposable, IPooled, IProto<HelicopterFlares>, IProto
{
	[NonSerialized]
	public NetworkableId flareStorageID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HelicopterFlares instance)
	{
		if (instance.ShouldPool)
		{
			instance.flareStorageID = default(NetworkableId);
			Pool.Free<HelicopterFlares>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HelicopterFlares with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HelicopterFlares instance)
	{
		instance.flareStorageID = flareStorageID;
	}

	public HelicopterFlares Copy()
	{
		HelicopterFlares helicopterFlares = Pool.Get<HelicopterFlares>();
		CopyTo(helicopterFlares);
		return helicopterFlares;
	}

	public static HelicopterFlares Deserialize(BufferStream stream)
	{
		HelicopterFlares helicopterFlares = Pool.Get<HelicopterFlares>();
		Deserialize(stream, helicopterFlares, isDelta: false);
		return helicopterFlares;
	}

	public static HelicopterFlares DeserializeLengthDelimited(BufferStream stream)
	{
		HelicopterFlares helicopterFlares = Pool.Get<HelicopterFlares>();
		DeserializeLengthDelimited(stream, helicopterFlares, isDelta: false);
		return helicopterFlares;
	}

	public static HelicopterFlares DeserializeLength(BufferStream stream, int length)
	{
		HelicopterFlares helicopterFlares = Pool.Get<HelicopterFlares>();
		DeserializeLength(stream, length, helicopterFlares, isDelta: false);
		return helicopterFlares;
	}

	public static HelicopterFlares Deserialize(byte[] buffer)
	{
		HelicopterFlares helicopterFlares = Pool.Get<HelicopterFlares>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, helicopterFlares, isDelta: false);
		return helicopterFlares;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HelicopterFlares previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HelicopterFlares Deserialize(BufferStream stream, HelicopterFlares instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.flareStorageID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HelicopterFlares DeserializeLengthDelimited(BufferStream stream, HelicopterFlares instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.flareStorageID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HelicopterFlares DeserializeLength(BufferStream stream, int length, HelicopterFlares instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.flareStorageID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HelicopterFlares instance, HelicopterFlares previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.flareStorageID.Value);
	}

	public static void Serialize(BufferStream stream, HelicopterFlares instance)
	{
		if (instance.flareStorageID != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.flareStorageID.Value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref flareStorageID.Value);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Horse : IDisposable, IPooled, IProto<Horse>, IProto
{
	[NonSerialized]
	public float stamina;

	[NonSerialized]
	public float maxStamina;

	[NonSerialized]
	public int gait;

	[NonSerialized]
	public float equipmentSpeedMod;

	[NonSerialized]
	public int breedIndex;

	[NonSerialized]
	public NetworkableId towEntityId;

	[NonSerialized]
	public ItemContainer equipmentContainer;

	[NonSerialized]
	public ItemContainer storageContainer;

	[NonSerialized]
	public int numStorageSlots;

	[NonSerialized]
	public NetworkableId playerLeadingId;

	[NonSerialized]
	public HorseModifiers modifiers;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Horse instance)
	{
		if (instance.ShouldPool)
		{
			instance.stamina = 0f;
			instance.maxStamina = 0f;
			instance.gait = 0;
			instance.equipmentSpeedMod = 0f;
			instance.breedIndex = 0;
			instance.towEntityId = default(NetworkableId);
			if (instance.equipmentContainer != null)
			{
				instance.equipmentContainer.ResetToPool();
				instance.equipmentContainer = null;
			}
			if (instance.storageContainer != null)
			{
				instance.storageContainer.ResetToPool();
				instance.storageContainer = null;
			}
			instance.numStorageSlots = 0;
			instance.playerLeadingId = default(NetworkableId);
			if (instance.modifiers != null)
			{
				instance.modifiers.ResetToPool();
				instance.modifiers = null;
			}
			Pool.Free<Horse>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Horse with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Horse instance)
	{
		instance.stamina = stamina;
		instance.maxStamina = maxStamina;
		instance.gait = gait;
		instance.equipmentSpeedMod = equipmentSpeedMod;
		instance.breedIndex = breedIndex;
		instance.towEntityId = towEntityId;
		if (equipmentContainer != null)
		{
			if (instance.equipmentContainer == null)
			{
				instance.equipmentContainer = equipmentContainer.Copy();
			}
			else
			{
				equipmentContainer.CopyTo(instance.equipmentContainer);
			}
		}
		else
		{
			instance.equipmentContainer = null;
		}
		if (storageContainer != null)
		{
			if (instance.storageContainer == null)
			{
				instance.storageContainer = storageContainer.Copy();
			}
			else
			{
				storageContainer.CopyTo(instance.storageContainer);
			}
		}
		else
		{
			instance.storageContainer = null;
		}
		instance.numStorageSlots = numStorageSlots;
		instance.playerLeadingId = playerLeadingId;
		if (modifiers != null)
		{
			if (instance.modifiers == null)
			{
				instance.modifiers = modifiers.Copy();
			}
			else
			{
				modifiers.CopyTo(instance.modifiers);
			}
		}
		else
		{
			instance.modifiers = null;
		}
	}

	public Horse Copy()
	{
		Horse horse = Pool.Get<Horse>();
		CopyTo(horse);
		return horse;
	}

	public static Horse Deserialize(BufferStream stream)
	{
		Horse horse = Pool.Get<Horse>();
		Deserialize(stream, horse, isDelta: false);
		return horse;
	}

	public static Horse DeserializeLengthDelimited(BufferStream stream)
	{
		Horse horse = Pool.Get<Horse>();
		DeserializeLengthDelimited(stream, horse, isDelta: false);
		return horse;
	}

	public static Horse DeserializeLength(BufferStream stream, int length)
	{
		Horse horse = Pool.Get<Horse>();
		DeserializeLength(stream, length, horse, isDelta: false);
		return horse;
	}

	public static Horse Deserialize(byte[] buffer)
	{
		Horse horse = Pool.Get<Horse>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, horse, isDelta: false);
		return horse;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Horse previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Horse Deserialize(BufferStream stream, Horse instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.stamina = ProtocolParser.ReadSingle(stream);
				break;
			case 21:
				instance.maxStamina = ProtocolParser.ReadSingle(stream);
				break;
			case 24:
				instance.gait = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 37:
				instance.equipmentSpeedMod = ProtocolParser.ReadSingle(stream);
				break;
			case 40:
				instance.breedIndex = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 48:
				instance.towEntityId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 58:
				if (instance.equipmentContainer == null)
				{
					instance.equipmentContainer = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.equipmentContainer, isDelta);
				}
				break;
			case 66:
				if (instance.storageContainer == null)
				{
					instance.storageContainer = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.storageContainer, isDelta);
				}
				break;
			case 72:
				instance.numStorageSlots = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 80:
				instance.playerLeadingId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 90:
				if (instance.modifiers == null)
				{
					instance.modifiers = HorseModifiers.DeserializeLengthDelimited(stream);
				}
				else
				{
					HorseModifiers.DeserializeLengthDelimited(stream, instance.modifiers, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static Horse DeserializeLengthDelimited(BufferStream stream, Horse instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.stamina = ProtocolParser.ReadSingle(stream);
				break;
			case 21:
				instance.maxStamina = ProtocolParser.ReadSingle(stream);
				break;
			case 24:
				instance.gait = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 37:
				instance.equipmentSpeedMod = ProtocolParser.ReadSingle(stream);
				break;
			case 40:
				instance.breedIndex = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 48:
				instance.towEntityId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 58:
				if (instance.equipmentContainer == null)
				{
					instance.equipmentContainer = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.equipmentContainer, isDelta);
				}
				break;
			case 66:
				if (instance.storageContainer == null)
				{
					instance.storageContainer = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.storageContainer, isDelta);
				}
				break;
			case 72:
				instance.numStorageSlots = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 80:
				instance.playerLeadingId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 90:
				if (instance.modifiers == null)
				{
					instance.modifiers = HorseModifiers.DeserializeLengthDelimited(stream);
				}
				else
				{
					HorseModifiers.DeserializeLengthDelimited(stream, instance.modifiers, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Horse DeserializeLength(BufferStream stream, int length, Horse instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.stamina = ProtocolParser.ReadSingle(stream);
				break;
			case 21:
				instance.maxStamina = ProtocolParser.ReadSingle(stream);
				break;
			case 24:
				instance.gait = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 37:
				instance.equipmentSpeedMod = ProtocolParser.ReadSingle(stream);
				break;
			case 40:
				instance.breedIndex = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 48:
				instance.towEntityId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 58:
				if (instance.equipmentContainer == null)
				{
					instance.equipmentContainer = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.equipmentContainer, isDelta);
				}
				break;
			case 66:
				if (instance.storageContainer == null)
				{
					instance.storageContainer = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.storageContainer, isDelta);
				}
				break;
			case 72:
				instance.numStorageSlots = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 80:
				instance.playerLeadingId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 90:
				if (instance.modifiers == null)
				{
					instance.modifiers = HorseModifiers.DeserializeLengthDelimited(stream);
				}
				else
				{
					HorseModifiers.DeserializeLengthDelimited(stream, instance.modifiers, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Horse instance, Horse previous)
	{
		if (instance.stamina != previous.stamina)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.stamina);
		}
		if (instance.maxStamina != previous.maxStamina)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.maxStamina);
		}
		if (instance.gait != previous.gait)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.gait);
		}
		if (instance.equipmentSpeedMod != previous.equipmentSpeedMod)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.equipmentSpeedMod);
		}
		if (instance.breedIndex != previous.breedIndex)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.breedIndex);
		}
		stream.WriteByte(48);
		ProtocolParser.WriteUInt64(stream, instance.towEntityId.Value);
		if (instance.equipmentContainer != null)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			ItemContainer.SerializeDelta(stream, instance.equipmentContainer, previous.equipmentContainer);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.storageContainer != null)
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range2 = stream.GetRange(5);
			int position2 = stream.Position;
			ItemContainer.SerializeDelta(stream, instance.storageContainer, previous.storageContainer);
			int val2 = stream.Position - position2;
			Span<byte> span2 = range2.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)val2, span2, 0);
			if (num2 < 5)
			{
				span2[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span2[num2++] = 128;
				}
				span2[4] = 0;
			}
		}
		if (instance.numStorageSlots != previous.numStorageSlots)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.numStorageSlots);
		}
		stream.WriteByte(80);
		ProtocolParser.WriteUInt64(stream, instance.playerLeadingId.Value);
		if (instance.modifiers == null)
		{
			return;
		}
		stream.WriteByte(90);
		BufferStream.RangeHandle range3 = stream.GetRange(3);
		int position3 = stream.Position;
		HorseModifiers.SerializeDelta(stream, instance.modifiers, previous.modifiers);
		int num3 = stream.Position - position3;
		if (num3 > 2097151)
		{
			throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modifiers (ProtoBuf.HorseModifiers)");
		}
		Span<byte> span3 = range3.GetSpan();
		int num4 = ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		if (num4 < 3)
		{
			span3[num4 - 1] |= 128;
			while (num4 < 2)
			{
				span3[num4++] = 128;
			}
			span3[2] = 0;
		}
	}

	public static void Serialize(BufferStream stream, Horse instance)
	{
		if (instance.stamina != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.stamina);
		}
		if (instance.maxStamina != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.maxStamina);
		}
		if (instance.gait != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.gait);
		}
		if (instance.equipmentSpeedMod != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.equipmentSpeedMod);
		}
		if (instance.breedIndex != 0)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.breedIndex);
		}
		if (instance.towEntityId != default(NetworkableId))
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, instance.towEntityId.Value);
		}
		if (instance.equipmentContainer != null)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			ItemContainer.Serialize(stream, instance.equipmentContainer);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.storageContainer != null)
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range2 = stream.GetRange(5);
			int position2 = stream.Position;
			ItemContainer.Serialize(stream, instance.storageContainer);
			int val2 = stream.Position - position2;
			Span<byte> span2 = range2.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)val2, span2, 0);
			if (num2 < 5)
			{
				span2[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span2[num2++] = 128;
				}
				span2[4] = 0;
			}
		}
		if (instance.numStorageSlots != 0)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.numStorageSlots);
		}
		if (instance.playerLeadingId != default(NetworkableId))
		{
			stream.WriteByte(80);
			ProtocolParser.WriteUInt64(stream, instance.playerLeadingId.Value);
		}
		if (instance.modifiers == null)
		{
			return;
		}
		stream.WriteByte(90);
		BufferStream.RangeHandle range3 = stream.GetRange(3);
		int position3 = stream.Position;
		HorseModifiers.Serialize(stream, instance.modifiers);
		int num3 = stream.Position - position3;
		if (num3 > 2097151)
		{
			throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modifiers (ProtoBuf.HorseModifiers)");
		}
		Span<byte> span3 = range3.GetSpan();
		int num4 = ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		if (num4 < 3)
		{
			span3[num4 - 1] |= 128;
			while (num4 < 2)
			{
				span3[num4++] = 128;
			}
			span3[2] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref towEntityId.Value);
		equipmentContainer?.InspectUids(action);
		storageContainer?.InspectUids(action);
		action(UidType.NetworkableId, ref playerLeadingId.Value);
		modifiers?.InspectUids(action);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class HorseModifiers : IDisposable, IPooled, IProto<HorseModifiers>, IProto
{
	[NonSerialized]
	public List<Modifier> modifiers;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HorseModifiers instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.modifiers != null)
		{
			for (int i = 0; i < instance.modifiers.Count; i++)
			{
				if (instance.modifiers[i] != null)
				{
					instance.modifiers[i].ResetToPool();
					instance.modifiers[i] = null;
				}
			}
			List<Modifier> list = instance.modifiers;
			Pool.Free<Modifier>(ref list, false);
			instance.modifiers = list;
		}
		Pool.Free<HorseModifiers>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HorseModifiers with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HorseModifiers instance)
	{
		if (modifiers != null)
		{
			instance.modifiers = Pool.Get<List<Modifier>>();
			for (int i = 0; i < modifiers.Count; i++)
			{
				Modifier item = modifiers[i].Copy();
				instance.modifiers.Add(item);
			}
		}
		else
		{
			instance.modifiers = null;
		}
	}

	public HorseModifiers Copy()
	{
		HorseModifiers horseModifiers = Pool.Get<HorseModifiers>();
		CopyTo(horseModifiers);
		return horseModifiers;
	}

	public static HorseModifiers Deserialize(BufferStream stream)
	{
		HorseModifiers horseModifiers = Pool.Get<HorseModifiers>();
		Deserialize(stream, horseModifiers, isDelta: false);
		return horseModifiers;
	}

	public static HorseModifiers DeserializeLengthDelimited(BufferStream stream)
	{
		HorseModifiers horseModifiers = Pool.Get<HorseModifiers>();
		DeserializeLengthDelimited(stream, horseModifiers, isDelta: false);
		return horseModifiers;
	}

	public static HorseModifiers DeserializeLength(BufferStream stream, int length)
	{
		HorseModifiers horseModifiers = Pool.Get<HorseModifiers>();
		DeserializeLength(stream, length, horseModifiers, isDelta: false);
		return horseModifiers;
	}

	public static HorseModifiers Deserialize(byte[] buffer)
	{
		HorseModifiers horseModifiers = Pool.Get<HorseModifiers>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, horseModifiers, isDelta: false);
		return horseModifiers;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HorseModifiers previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HorseModifiers Deserialize(BufferStream stream, HorseModifiers instance, bool isDelta)
	{
		if (!isDelta && instance.modifiers == null)
		{
			instance.modifiers = Pool.Get<List<Modifier>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.modifiers.Add(Modifier.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HorseModifiers DeserializeLengthDelimited(BufferStream stream, HorseModifiers instance, bool isDelta)
	{
		if (!isDelta && instance.modifiers == null)
		{
			instance.modifiers = Pool.Get<List<Modifier>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.modifiers.Add(Modifier.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HorseModifiers DeserializeLength(BufferStream stream, int length, HorseModifiers instance, bool isDelta)
	{
		if (!isDelta && instance.modifiers == null)
		{
			instance.modifiers = Pool.Get<List<Modifier>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.modifiers.Add(Modifier.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HorseModifiers instance, HorseModifiers previous)
	{
		if (instance.modifiers == null)
		{
			return;
		}
		for (int i = 0; i < instance.modifiers.Count; i++)
		{
			Modifier modifier = instance.modifiers[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Modifier.SerializeDelta(stream, modifier, modifier);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modifiers (ProtoBuf.Modifier)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, HorseModifiers instance)
	{
		if (instance.modifiers == null)
		{
			return;
		}
		for (int i = 0; i < instance.modifiers.Count; i++)
		{
			Modifier instance2 = instance.modifiers[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Modifier.Serialize(stream, instance2);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modifiers (ProtoBuf.Modifier)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (modifiers != null)
		{
			for (int i = 0; i < modifiers.Count; i++)
			{
				modifiers[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class HotAirBalloon : IDisposable, IPooled, IProto<HotAirBalloon>, IProto
{
	[NonSerialized]
	public float inflationAmount;

	[NonSerialized]
	public Vector3 velocity;

	[NonSerialized]
	public float sinceLastBlast;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HotAirBalloon instance)
	{
		//IL_001a: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.inflationAmount = 0f;
			instance.velocity = default(Vector3);
			instance.sinceLastBlast = 0f;
			Pool.Free<HotAirBalloon>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HotAirBalloon with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HotAirBalloon instance)
	{
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0013: Unknown result type (might be due to invalid IL or missing references)
		instance.inflationAmount = inflationAmount;
		instance.velocity = velocity;
		instance.sinceLastBlast = sinceLastBlast;
	}

	public HotAirBalloon Copy()
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		CopyTo(hotAirBalloon);
		return hotAirBalloon;
	}

	public static HotAirBalloon Deserialize(BufferStream stream)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		Deserialize(stream, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public static HotAirBalloon DeserializeLengthDelimited(BufferStream stream)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		DeserializeLengthDelimited(stream, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public static HotAirBalloon DeserializeLength(BufferStream stream, int length)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		DeserializeLength(stream, length, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public static HotAirBalloon Deserialize(byte[] buffer)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HotAirBalloon previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HotAirBalloon Deserialize(BufferStream stream, HotAirBalloon instance, bool isDelta)
	{
		//IL_0037: Unknown result type (might be due to invalid IL or missing references)
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.inflationAmount = ProtocolParser.ReadSingle(stream);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.velocity, isDelta);
				continue;
			case 29:
				instance.sinceLastBlast = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HotAirBalloon DeserializeLengthDelimited(BufferStream stream, HotAirBalloon instance, bool isDelta)
	{
		//IL_006b: Unknown result type (might be due to invalid IL or missing references)
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.inflationAmount = ProtocolParser.ReadSingle(stream);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.velocity, isDelta);
				continue;
			case 29:
				instance.sinceLastBlast = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HotAirBalloon DeserializeLength(BufferStream stream, int length, HotAirBalloon instance, bool isDelta)
	{
		//IL_0063: Unknown result type (might be due to invalid IL or missing references)
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.inflationAmount = ProtocolParser.ReadSingle(stream);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.velocity, isDelta);
				continue;
			case 29:
				instance.sinceLastBlast = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HotAirBalloon instance, HotAirBalloon previous)
	{
		//IL_0023: Unknown result type (might be due to invalid IL or missing references)
		//IL_0029: Unknown result type (might be due to invalid IL or missing references)
		//IL_004e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0054: Unknown result type (might be due to invalid IL or missing references)
		if (instance.inflationAmount != previous.inflationAmount)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.inflationAmount);
		}
		if (instance.velocity != previous.velocity)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.velocity, previous.velocity);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field velocity (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.sinceLastBlast != previous.sinceLastBlast)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.sinceLastBlast);
		}
	}

	public static void Serialize(BufferStream stream, HotAirBalloon instance)
	{
		//IL_0022: Unknown result type (might be due to invalid IL or missing references)
		//IL_0029: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0050: Unknown result type (might be due to invalid IL or missing references)
		if (instance.inflationAmount != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.inflationAmount);
		}
		if (instance.velocity != default(Vector3))
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.velocity);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field velocity (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.sinceLastBlast != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.sinceLastBlast);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class HungerAboveAIEventData : IDisposable, IPooled, IProto<HungerAboveAIEventData>, IProto
{
	[NonSerialized]
	public float value;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HungerAboveAIEventData instance)
	{
		if (instance.ShouldPool)
		{
			instance.value = 0f;
			Pool.Free<HungerAboveAIEventData>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HungerAboveAIEventData with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HungerAboveAIEventData instance)
	{
		instance.value = value;
	}

	public HungerAboveAIEventData Copy()
	{
		HungerAboveAIEventData hungerAboveAIEventData = Pool.Get<HungerAboveAIEventData>();
		CopyTo(hungerAboveAIEventData);
		return hungerAboveAIEventData;
	}

	public static HungerAboveAIEventData Deserialize(BufferStream stream)
	{
		HungerAboveAIEventData hungerAboveAIEventData = Pool.Get<HungerAboveAIEventData>();
		Deserialize(stream, hungerAboveAIEventData, isDelta: false);
		return hungerAboveAIEventData;
	}

	public static HungerAboveAIEventData DeserializeLengthDelimited(BufferStream stream)
	{
		HungerAboveAIEventData hungerAboveAIEventData = Pool.Get<HungerAboveAIEventData>();
		DeserializeLengthDelimited(stream, hungerAboveAIEventData, isDelta: false);
		return hungerAboveAIEventData;
	}

	public static HungerAboveAIEventData DeserializeLength(BufferStream stream, int length)
	{
		HungerAboveAIEventData hungerAboveAIEventData = Pool.Get<HungerAboveAIEventData>();
		DeserializeLength(stream, length, hungerAboveAIEventData, isDelta: false);
		return hungerAboveAIEventData;
	}

	public static HungerAboveAIEventData Deserialize(byte[] buffer)
	{
		HungerAboveAIEventData hungerAboveAIEventData = Pool.Get<HungerAboveAIEventData>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, hungerAboveAIEventData, isDelta: false);
		return hungerAboveAIEventData;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HungerAboveAIEventData previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HungerAboveAIEventData Deserialize(BufferStream stream, HungerAboveAIEventData instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.value = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HungerAboveAIEventData DeserializeLengthDelimited(BufferStream stream, HungerAboveAIEventData instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.value = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HungerAboveAIEventData DeserializeLength(BufferStream stream, int length, HungerAboveAIEventData instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.value = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HungerAboveAIEventData instance, HungerAboveAIEventData previous)
	{
		if (instance.value != previous.value)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.value);
		}
	}

	public static void Serialize(BufferStream stream, HungerAboveAIEventData instance)
	{
		if (instance.value != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class IndustrialConveyor : IDisposable, IPooled, IProto<IndustrialConveyor>, IProto
{
	public class ItemFilter : IDisposable, IPooled, IProto<ItemFilter>, IProto
	{
		[NonSerialized]
		public int itemDef;

		[NonSerialized]
		public int itemCategory;

		[NonSerialized]
		public int maxAmountInDestination;

		[NonSerialized]
		public int isBlueprint;

		[NonSerialized]
		public int bufferAmount;

		[NonSerialized]
		public int retainMinimum;

		[NonSerialized]
		public int bufferTransferRemaining;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(ItemFilter instance)
		{
			if (instance.ShouldPool)
			{
				instance.itemDef = 0;
				instance.itemCategory = 0;
				instance.maxAmountInDestination = 0;
				instance.isBlueprint = 0;
				instance.bufferAmount = 0;
				instance.retainMinimum = 0;
				instance.bufferTransferRemaining = 0;
				Pool.Free<ItemFilter>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose ItemFilter with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(ItemFilter instance)
		{
			instance.itemDef = itemDef;
			instance.itemCategory = itemCategory;
			instance.maxAmountInDestination = maxAmountInDestination;
			instance.isBlueprint = isBlueprint;
			instance.bufferAmount = bufferAmount;
			instance.retainMinimum = retainMinimum;
			instance.bufferTransferRemaining = bufferTransferRemaining;
		}

		public ItemFilter Copy()
		{
			ItemFilter itemFilter = Pool.Get<ItemFilter>();
			CopyTo(itemFilter);
			return itemFilter;
		}

		public static ItemFilter Deserialize(BufferStream stream)
		{
			ItemFilter itemFilter = Pool.Get<ItemFilter>();
			Deserialize(stream, itemFilter, isDelta: false);
			return itemFilter;
		}

		public static ItemFilter DeserializeLengthDelimited(BufferStream stream)
		{
			ItemFilter itemFilter = Pool.Get<ItemFilter>();
			DeserializeLengthDelimited(stream, itemFilter, isDelta: false);
			return itemFilter;
		}

		public static ItemFilter DeserializeLength(BufferStream stream, int length)
		{
			ItemFilter itemFilter = Pool.Get<ItemFilter>();
			DeserializeLength(stream, length, itemFilter, isDelta: false);
			return itemFilter;
		}

		public static ItemFilter Deserialize(byte[] buffer)
		{
			ItemFilter itemFilter = Pool.Get<ItemFilter>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, itemFilter, isDelta: false);
			return itemFilter;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, ItemFilter previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static ItemFilter Deserialize(BufferStream stream, ItemFilter instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.itemDef = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.itemCategory = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.maxAmountInDestination = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.isBlueprint = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.bufferAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 48:
					instance.retainMinimum = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 56:
					instance.bufferTransferRemaining = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static ItemFilter DeserializeLengthDelimited(BufferStream stream, ItemFilter instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemDef = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.itemCategory = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.maxAmountInDestination = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.isBlueprint = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.bufferAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 48:
					instance.retainMinimum = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 56:
					instance.bufferTransferRemaining = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static ItemFilter DeserializeLength(BufferStream stream, int length, ItemFilter instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemDef = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.itemCategory = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.maxAmountInDestination = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.isBlueprint = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.bufferAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 48:
					instance.retainMinimum = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 56:
					instance.bufferTransferRemaining = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, ItemFilter instance, ItemFilter previous)
		{
			if (instance.itemDef != previous.itemDef)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemDef);
			}
			if (instance.itemCategory != previous.itemCategory)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemCategory);
			}
			if (instance.maxAmountInDestination != previous.maxAmountInDestination)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.maxAmountInDestination);
			}
			if (instance.isBlueprint != previous.isBlueprint)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.isBlueprint);
			}
			if (instance.bufferAmount != previous.bufferAmount)
			{
				stream.WriteByte(40);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.bufferAmount);
			}
			if (instance.retainMinimum != previous.retainMinimum)
			{
				stream.WriteByte(48);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.retainMinimum);
			}
			if (instance.bufferTransferRemaining != previous.bufferTransferRemaining)
			{
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.bufferTransferRemaining);
			}
		}

		public static void Serialize(BufferStream stream, ItemFilter instance)
		{
			if (instance.itemDef != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemDef);
			}
			if (instance.itemCategory != 0)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemCategory);
			}
			if (instance.maxAmountInDestination != 0)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.maxAmountInDestination);
			}
			if (instance.isBlueprint != 0)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.isBlueprint);
			}
			if (instance.bufferAmount != 0)
			{
				stream.WriteByte(40);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.bufferAmount);
			}
			if (instance.retainMinimum != 0)
			{
				stream.WriteByte(48);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.retainMinimum);
			}
			if (instance.bufferTransferRemaining != 0)
			{
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.bufferTransferRemaining);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	public class ItemFilterList : IDisposable, IPooled, IProto<ItemFilterList>, IProto
	{
		[NonSerialized]
		public List<ItemFilter> filters;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(ItemFilterList instance)
		{
			if (!instance.ShouldPool)
			{
				return;
			}
			if (instance.filters != null)
			{
				for (int i = 0; i < instance.filters.Count; i++)
				{
					if (instance.filters[i] != null)
					{
						instance.filters[i].ResetToPool();
						instance.filters[i] = null;
					}
				}
				List<ItemFilter> list = instance.filters;
				Pool.Free<ItemFilter>(ref list, false);
				instance.filters = list;
			}
			Pool.Free<ItemFilterList>(ref instance);
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose ItemFilterList with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(ItemFilterList instance)
		{
			if (filters != null)
			{
				instance.filters = Pool.Get<List<ItemFilter>>();
				for (int i = 0; i < filters.Count; i++)
				{
					ItemFilter item = filters[i].Copy();
					instance.filters.Add(item);
				}
			}
			else
			{
				instance.filters = null;
			}
		}

		public ItemFilterList Copy()
		{
			ItemFilterList itemFilterList = Pool.Get<ItemFilterList>();
			CopyTo(itemFilterList);
			return itemFilterList;
		}

		public static ItemFilterList Deserialize(BufferStream stream)
		{
			ItemFilterList itemFilterList = Pool.Get<ItemFilterList>();
			Deserialize(stream, itemFilterList, isDelta: false);
			return itemFilterList;
		}

		public static ItemFilterList DeserializeLengthDelimited(BufferStream stream)
		{
			ItemFilterList itemFilterList = Pool.Get<ItemFilterList>();
			DeserializeLengthDelimited(stream, itemFilterList, isDelta: false);
			return itemFilterList;
		}

		public static ItemFilterList DeserializeLength(BufferStream stream, int length)
		{
			ItemFilterList itemFilterList = Pool.Get<ItemFilterList>();
			DeserializeLength(stream, length, itemFilterList, isDelta: false);
			return itemFilterList;
		}

		public static ItemFilterList Deserialize(byte[] buffer)
		{
			ItemFilterList itemFilterList = Pool.Get<ItemFilterList>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, itemFilterList, isDelta: false);
			return itemFilterList;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, ItemFilterList previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static ItemFilterList Deserialize(BufferStream stream, ItemFilterList instance, bool isDelta)
		{
			if (!isDelta && instance.filters == null)
			{
				instance.filters = Pool.Get<List<ItemFilter>>();
			}
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 10:
					instance.filters.Add(ItemFilter.DeserializeLengthDelimited(stream));
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static ItemFilterList DeserializeLengthDelimited(BufferStream stream, ItemFilterList instance, bool isDelta)
		{
			if (!isDelta && instance.filters == null)
			{
				instance.filters = Pool.Get<List<ItemFilter>>();
			}
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.filters.Add(ItemFilter.DeserializeLengthDelimited(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static ItemFilterList DeserializeLength(BufferStream stream, int length, ItemFilterList instance, bool isDelta)
		{
			if (!isDelta && instance.filters == null)
			{
				instance.filters = Pool.Get<List<ItemFilter>>();
			}
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.filters.Add(ItemFilter.DeserializeLengthDelimited(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, ItemFilterList instance, ItemFilterList previous)
		{
			if (instance.filters == null)
			{
				return;
			}
			for (int i = 0; i < instance.filters.Count; i++)
			{
				ItemFilter itemFilter = instance.filters[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				ItemFilter.SerializeDelta(stream, itemFilter, itemFilter);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field filters (ProtoBuf.IndustrialConveyor.ItemFilter)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}

		public static void Serialize(BufferStream stream, ItemFilterList instance)
		{
			if (instance.filters == null)
			{
				return;
			}
			for (int i = 0; i < instance.filters.Count; i++)
			{
				ItemFilter instance2 = instance.filters[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				ItemFilter.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field filters (ProtoBuf.IndustrialConveyor.ItemFilter)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			if (filters != null)
			{
				for (int i = 0; i < filters.Count; i++)
				{
					filters[i]?.InspectUids(action);
				}
			}
		}
	}

	[NonSerialized]
	public List<ItemFilter> filters;

	[NonSerialized]
	public int conveyorMode;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(IndustrialConveyor instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.filters != null)
		{
			for (int i = 0; i < instance.filters.Count; i++)
			{
				if (instance.filters[i] != null)
				{
					instance.filters[i].ResetToPool();
					instance.filters[i] = null;
				}
			}
			List<ItemFilter> list = instance.filters;
			Pool.Free<ItemFilter>(ref list, false);
			instance.filters = list;
		}
		instance.conveyorMode = 0;
		Pool.Free<IndustrialConveyor>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose IndustrialConveyor with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(IndustrialConveyor instance)
	{
		if (filters != null)
		{
			instance.filters = Pool.Get<List<ItemFilter>>();
			for (int i = 0; i < filters.Count; i++)
			{
				ItemFilter item = filters[i].Copy();
				instance.filters.Add(item);
			}
		}
		else
		{
			instance.filters = null;
		}
		instance.conveyorMode = conveyorMode;
	}

	public IndustrialConveyor Copy()
	{
		IndustrialConveyor industrialConveyor = Pool.Get<IndustrialConveyor>();
		CopyTo(industrialConveyor);
		return industrialConveyor;
	}

	public static IndustrialConveyor Deserialize(BufferStream stream)
	{
		IndustrialConveyor industrialConveyor = Pool.Get<IndustrialConveyor>();
		Deserialize(stream, industrialConveyor, isDelta: false);
		return industrialConveyor;
	}

	public static IndustrialConveyor DeserializeLengthDelimited(BufferStream stream)
	{
		IndustrialConveyor industrialConveyor = Pool.Get<IndustrialConveyor>();
		DeserializeLengthDelimited(stream, industrialConveyor, isDelta: false);
		return industrialConveyor;
	}

	public static IndustrialConveyor DeserializeLength(BufferStream stream, int length)
	{
		IndustrialConveyor industrialConveyor = Pool.Get<IndustrialConveyor>();
		DeserializeLength(stream, length, industrialConveyor, isDelta: false);
		return industrialConveyor;
	}

	public static IndustrialConveyor Deserialize(byte[] buffer)
	{
		IndustrialConveyor industrialConveyor = Pool.Get<IndustrialConveyor>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, industrialConveyor, isDelta: false);
		return industrialConveyor;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, IndustrialConveyor previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static IndustrialConveyor Deserialize(BufferStream stream, IndustrialConveyor instance, bool isDelta)
	{
		if (!isDelta && instance.filters == null)
		{
			instance.filters = Pool.Get<List<ItemFilter>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.filters.Add(ItemFilter.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.conveyorMode = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static IndustrialConveyor DeserializeLengthDelimited(BufferStream stream, IndustrialConveyor instance, bool isDelta)
	{
		if (!isDelta && instance.filters == null)
		{
			instance.filters = Pool.Get<List<ItemFilter>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.filters.Add(ItemFilter.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.conveyorMode = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static IndustrialConveyor DeserializeLength(BufferStream stream, int length, IndustrialConveyor instance, bool isDelta)
	{
		if (!isDelta && instance.filters == null)
		{
			instance.filters = Pool.Get<List<ItemFilter>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.filters.Add(ItemFilter.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.conveyorMode = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, IndustrialConveyor instance, IndustrialConveyor previous)
	{
		if (instance.filters != null)
		{
			for (int i = 0; i < instance.filters.Count; i++)
			{
				ItemFilter itemFilter = instance.filters[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				ItemFilter.SerializeDelta(stream, itemFilter, itemFilter);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field filters (ProtoBuf.IndustrialConveyor.ItemFilter)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.conveyorMode != previous.conveyorMode)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.conveyorMode);
		}
	}

	public static void Serialize(BufferStream stream, IndustrialConveyor instance)
	{
		if (instance.filters != null)
		{
			for (int i = 0; i < instance.filters.Count; i++)
			{
				ItemFilter instance2 = instance.filters[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				ItemFilter.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field filters (ProtoBuf.IndustrialConveyor.ItemFilter)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.conveyorMode != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.conveyorMode);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (filters != null)
		{
			for (int i = 0; i < filters.Count; i++)
			{
				filters[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class IndustrialConveyorTransfer : IDisposable, IPooled, IProto<IndustrialConveyorTransfer>, IProto
{
	public struct ItemTransfer : IProto<ItemTransfer>, IProto
	{
		[NonSerialized]
		public int itemId;

		[NonSerialized]
		public int amount;

		public static void ResetToPool(ItemTransfer instance)
		{
			instance.itemId = 0;
			instance.amount = 0;
		}

		public void CopyTo(ItemTransfer instance)
		{
			instance.itemId = itemId;
			instance.amount = amount;
		}

		public ItemTransfer Copy()
		{
			ItemTransfer itemTransfer = default(ItemTransfer);
			CopyTo(itemTransfer);
			return itemTransfer;
		}

		public static ItemTransfer Deserialize(BufferStream stream)
		{
			ItemTransfer instance = default(ItemTransfer);
			Deserialize(stream, ref instance, isDelta: false);
			return instance;
		}

		public static ItemTransfer DeserializeLengthDelimited(BufferStream stream)
		{
			ItemTransfer instance = default(ItemTransfer);
			DeserializeLengthDelimited(stream, ref instance, isDelta: false);
			return instance;
		}

		public static ItemTransfer DeserializeLength(BufferStream stream, int length)
		{
			ItemTransfer instance = default(ItemTransfer);
			DeserializeLength(stream, length, ref instance, isDelta: false);
			return instance;
		}

		public static ItemTransfer Deserialize(byte[] buffer)
		{
			ItemTransfer instance = default(ItemTransfer);
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, ref instance, isDelta: false);
			return instance;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, ref this, isDelta);
		}

		public void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void WriteToStreamDelta(BufferStream stream, ItemTransfer previous)
		{
			SerializeDelta(stream, this, previous);
		}

		public void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, ref this, isDelta);
		}

		public void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, ref this, isDelta);
		}

		public static ItemTransfer Deserialize(BufferStream stream, ref ItemTransfer instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.itemId = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.amount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static ItemTransfer DeserializeLengthDelimited(BufferStream stream, ref ItemTransfer instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemId = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.amount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static ItemTransfer DeserializeLength(BufferStream stream, int length, ref ItemTransfer instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemId = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.amount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, ItemTransfer instance, ItemTransfer previous)
		{
			if (instance.itemId != previous.itemId)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemId);
			}
			if (instance.amount != previous.amount)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.amount);
			}
		}

		public static void Serialize(BufferStream stream, ItemTransfer instance)
		{
			if (instance.itemId != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemId);
			}
			if (instance.amount != 0)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.amount);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	[NonSerialized]
	public List<ItemTransfer> ItemTransfers;

	[NonSerialized]
	public List<NetworkableId> inputEntities;

	[NonSerialized]
	public List<NetworkableId> outputEntities;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(IndustrialConveyorTransfer instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.ItemTransfers != null)
			{
				List<ItemTransfer> itemTransfers = instance.ItemTransfers;
				Pool.FreeUnmanaged<ItemTransfer>(ref itemTransfers);
				instance.ItemTransfers = itemTransfers;
			}
			if (instance.inputEntities != null)
			{
				List<NetworkableId> list = instance.inputEntities;
				Pool.FreeUnmanaged<NetworkableId>(ref list);
				instance.inputEntities = list;
			}
			if (instance.outputEntities != null)
			{
				List<NetworkableId> list2 = instance.outputEntities;
				Pool.FreeUnmanaged<NetworkableId>(ref list2);
				instance.outputEntities = list2;
			}
			Pool.Free<IndustrialConveyorTransfer>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose IndustrialConveyorTransfer with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(IndustrialConveyorTransfer instance)
	{
		if (ItemTransfers != null)
		{
			instance.ItemTransfers = Pool.Get<List<ItemTransfer>>();
			for (int i = 0; i < ItemTransfers.Count; i++)
			{
				ItemTransfer item = ItemTransfers[i];
				instance.ItemTransfers.Add(item);
			}
		}
		else
		{
			instance.ItemTransfers = null;
		}
		if (inputEntities != null)
		{
			instance.inputEntities = Pool.Get<List<NetworkableId>>();
			for (int j = 0; j < inputEntities.Count; j++)
			{
				NetworkableId item2 = inputEntities[j];
				instance.inputEntities.Add(item2);
			}
		}
		else
		{
			instance.inputEntities = null;
		}
		if (outputEntities != null)
		{
			instance.outputEntities = Pool.Get<List<NetworkableId>>();
			for (int k = 0; k < outputEntities.Count; k++)
			{
				NetworkableId item3 = outputEntities[k];
				instance.outputEntities.Add(item3);
			}
		}
		else
		{
			instance.outputEntities = null;
		}
	}

	public IndustrialConveyorTransfer Copy()
	{
		IndustrialConveyorTransfer industrialConveyorTransfer = Pool.Get<IndustrialConveyorTransfer>();
		CopyTo(industrialConveyorTransfer);
		return industrialConveyorTransfer;
	}

	public static IndustrialConveyorTransfer Deserialize(BufferStream stream)
	{
		IndustrialConveyorTransfer industrialConveyorTransfer = Pool.Get<IndustrialConveyorTransfer>();
		Deserialize(stream, industrialConveyorTransfer, isDelta: false);
		return industrialConveyorTransfer;
	}

	public static IndustrialConveyorTransfer DeserializeLengthDelimited(BufferStream stream)
	{
		IndustrialConveyorTransfer industrialConveyorTransfer = Pool.Get<IndustrialConveyorTransfer>();
		DeserializeLengthDelimited(stream, industrialConveyorTransfer, isDelta: false);
		return industrialConveyorTransfer;
	}

	public static IndustrialConveyorTransfer DeserializeLength(BufferStream stream, int length)
	{
		IndustrialConveyorTransfer industrialConveyorTransfer = Pool.Get<IndustrialConveyorTransfer>();
		DeserializeLength(stream, length, industrialConveyorTransfer, isDelta: false);
		return industrialConveyorTransfer;
	}

	public static IndustrialConveyorTransfer Deserialize(byte[] buffer)
	{
		IndustrialConveyorTransfer industrialConveyorTransfer = Pool.Get<IndustrialConveyorTransfer>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, industrialConveyorTransfer, isDelta: false);
		return industrialConveyorTransfer;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, IndustrialConveyorTransfer previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static IndustrialConveyorTransfer Deserialize(BufferStream stream, IndustrialConveyorTransfer instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.ItemTransfers == null)
			{
				instance.ItemTransfers = Pool.Get<List<ItemTransfer>>();
			}
			if (instance.inputEntities == null)
			{
				instance.inputEntities = Pool.Get<List<NetworkableId>>();
			}
			if (instance.outputEntities == null)
			{
				instance.outputEntities = Pool.Get<List<NetworkableId>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
			{
				ItemTransfer instance2 = default(ItemTransfer);
				ItemTransfer.DeserializeLengthDelimited(stream, ref instance2, isDelta);
				instance.ItemTransfers.Add(instance2);
				break;
			}
			case 16:
				instance.inputEntities.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				break;
			case 24:
				instance.outputEntities.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static IndustrialConveyorTransfer DeserializeLengthDelimited(BufferStream stream, IndustrialConveyorTransfer instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.ItemTransfers == null)
			{
				instance.ItemTransfers = Pool.Get<List<ItemTransfer>>();
			}
			if (instance.inputEntities == null)
			{
				instance.inputEntities = Pool.Get<List<NetworkableId>>();
			}
			if (instance.outputEntities == null)
			{
				instance.outputEntities = Pool.Get<List<NetworkableId>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
			{
				ItemTransfer instance2 = default(ItemTransfer);
				ItemTransfer.DeserializeLengthDelimited(stream, ref instance2, isDelta);
				instance.ItemTransfers.Add(instance2);
				break;
			}
			case 16:
				instance.inputEntities.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				break;
			case 24:
				instance.outputEntities.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static IndustrialConveyorTransfer DeserializeLength(BufferStream stream, int length, IndustrialConveyorTransfer instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.ItemTransfers == null)
			{
				instance.ItemTransfers = Pool.Get<List<ItemTransfer>>();
			}
			if (instance.inputEntities == null)
			{
				instance.inputEntities = Pool.Get<List<NetworkableId>>();
			}
			if (instance.outputEntities == null)
			{
				instance.outputEntities = Pool.Get<List<NetworkableId>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
			{
				ItemTransfer instance2 = default(ItemTransfer);
				ItemTransfer.DeserializeLengthDelimited(stream, ref instance2, isDelta);
				instance.ItemTransfers.Add(instance2);
				break;
			}
			case 16:
				instance.inputEntities.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				break;
			case 24:
				instance.outputEntities.Add(new NetworkableId(ProtocolParser.ReadUInt64(stream)));
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, IndustrialConveyorTransfer instance, IndustrialConveyorTransfer previous)
	{
		if (instance.ItemTransfers != null)
		{
			for (int i = 0; i < instance.ItemTransfers.Count; i++)
			{
				ItemTransfer itemTransfer = instance.ItemTransfers[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				ItemTransfer.SerializeDelta(stream, itemTransfer, itemTransfer);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ItemTransfers (ProtoBuf.IndustrialConveyorTransfer.ItemTransfer)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.inputEntities != null)
		{
			for (int j = 0; j < instance.inputEntities.Count; j++)
			{
				NetworkableId networkableId = instance.inputEntities[j];
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, networkableId.Value);
			}
		}
		if (instance.outputEntities != null)
		{
			for (int k = 0; k < instance.outputEntities.Count; k++)
			{
				NetworkableId networkableId2 = instance.outputEntities[k];
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, networkableId2.Value);
			}
		}
	}

	public static void Serialize(BufferStream stream, IndustrialConveyorTransfer instance)
	{
		if (instance.ItemTransfers != null)
		{
			for (int i = 0; i < instance.ItemTransfers.Count; i++)
			{
				ItemTransfer instance2 = instance.ItemTransfers[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				ItemTransfer.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ItemTransfers (ProtoBuf.IndustrialConveyorTransfer.ItemTransfer)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.inputEntities != null)
		{
			for (int j = 0; j < instance.inputEntities.Count; j++)
			{
				NetworkableId networkableId = instance.inputEntities[j];
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, networkableId.Value);
			}
		}
		if (instance.outputEntities != null)
		{
			for (int k = 0; k < instance.outputEntities.Count; k++)
			{
				NetworkableId networkableId2 = instance.outputEntities[k];
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, networkableId2.Value);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (ItemTransfers != null)
		{
			for (int i = 0; i < ItemTransfers.Count; i++)
			{
				ItemTransfers[i].InspectUids(action);
			}
		}
		for (int j = 0; j < inputEntities.Count; j++)
		{
			NetworkableId value = inputEntities[j];
			action(UidType.NetworkableId, ref value.Value);
			inputEntities[j] = value;
		}
		for (int k = 0; k < outputEntities.Count; k++)
		{
			NetworkableId value2 = outputEntities[k];
			action(UidType.NetworkableId, ref value2.Value);
			outputEntities[k] = value2;
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class IndustrialCrafter : IDisposable, IPooled, IProto<IndustrialCrafter>, IProto
{
	[NonSerialized]
	public int currentlyCrafting;

	[NonSerialized]
	public int currentlyCraftingAmount;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(IndustrialCrafter instance)
	{
		if (instance.ShouldPool)
		{
			instance.currentlyCrafting = 0;
			instance.currentlyCraftingAmount = 0;
			Pool.Free<IndustrialCrafter>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose IndustrialCrafter with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(IndustrialCrafter instance)
	{
		instance.currentlyCrafting = currentlyCrafting;
		instance.currentlyCraftingAmount = currentlyCraftingAmount;
	}

	public IndustrialCrafter Copy()
	{
		IndustrialCrafter industrialCrafter = Pool.Get<IndustrialCrafter>();
		CopyTo(industrialCrafter);
		return industrialCrafter;
	}

	public static IndustrialCrafter Deserialize(BufferStream stream)
	{
		IndustrialCrafter industrialCrafter = Pool.Get<IndustrialCrafter>();
		Deserialize(stream, industrialCrafter, isDelta: false);
		return industrialCrafter;
	}

	public static IndustrialCrafter DeserializeLengthDelimited(BufferStream stream)
	{
		IndustrialCrafter industrialCrafter = Pool.Get<IndustrialCrafter>();
		DeserializeLengthDelimited(stream, industrialCrafter, isDelta: false);
		return industrialCrafter;
	}

	public static IndustrialCrafter DeserializeLength(BufferStream stream, int length)
	{
		IndustrialCrafter industrialCrafter = Pool.Get<IndustrialCrafter>();
		DeserializeLength(stream, length, industrialCrafter, isDelta: false);
		return industrialCrafter;
	}

	public static IndustrialCrafter Deserialize(byte[] buffer)
	{
		IndustrialCrafter industrialCrafter = Pool.Get<IndustrialCrafter>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, industrialCrafter, isDelta: false);
		return industrialCrafter;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, IndustrialCrafter previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static IndustrialCrafter Deserialize(BufferStream stream, IndustrialCrafter instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.currentlyCrafting = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.currentlyCraftingAmount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static IndustrialCrafter DeserializeLengthDelimited(BufferStream stream, IndustrialCrafter instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.currentlyCrafting = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.currentlyCraftingAmount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static IndustrialCrafter DeserializeLength(BufferStream stream, int length, IndustrialCrafter instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.currentlyCrafting = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.currentlyCraftingAmount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, IndustrialCrafter instance, IndustrialCrafter previous)
	{
		if (instance.currentlyCrafting != previous.currentlyCrafting)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.currentlyCrafting);
		}
		if (instance.currentlyCraftingAmount != previous.currentlyCraftingAmount)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.currentlyCraftingAmount);
		}
	}

	public static void Serialize(BufferStream stream, IndustrialCrafter instance)
	{
		if (instance.currentlyCrafting != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.currentlyCrafting);
		}
		if (instance.currentlyCraftingAmount != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.currentlyCraftingAmount);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class InRangeAIEventData : IDisposable, IPooled, IProto<InRangeAIEventData>, IProto
{
	[NonSerialized]
	public float range;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(InRangeAIEventData instance)
	{
		if (instance.ShouldPool)
		{
			instance.range = 0f;
			Pool.Free<InRangeAIEventData>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose InRangeAIEventData with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(InRangeAIEventData instance)
	{
		instance.range = range;
	}

	public InRangeAIEventData Copy()
	{
		InRangeAIEventData inRangeAIEventData = Pool.Get<InRangeAIEventData>();
		CopyTo(inRangeAIEventData);
		return inRangeAIEventData;
	}

	public static InRangeAIEventData Deserialize(BufferStream stream)
	{
		InRangeAIEventData inRangeAIEventData = Pool.Get<InRangeAIEventData>();
		Deserialize(stream, inRangeAIEventData, isDelta: false);
		return inRangeAIEventData;
	}

	public static InRangeAIEventData DeserializeLengthDelimited(BufferStream stream)
	{
		InRangeAIEventData inRangeAIEventData = Pool.Get<InRangeAIEventData>();
		DeserializeLengthDelimited(stream, inRangeAIEventData, isDelta: false);
		return inRangeAIEventData;
	}

	public static InRangeAIEventData DeserializeLength(BufferStream stream, int length)
	{
		InRangeAIEventData inRangeAIEventData = Pool.Get<InRangeAIEventData>();
		DeserializeLength(stream, length, inRangeAIEventData, isDelta: false);
		return inRangeAIEventData;
	}

	public static InRangeAIEventData Deserialize(byte[] buffer)
	{
		InRangeAIEventData inRangeAIEventData = Pool.Get<InRangeAIEventData>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, inRangeAIEventData, isDelta: false);
		return inRangeAIEventData;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, InRangeAIEventData previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static InRangeAIEventData Deserialize(BufferStream stream, InRangeAIEventData instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.range = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static InRangeAIEventData DeserializeLengthDelimited(BufferStream stream, InRangeAIEventData instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.range = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static InRangeAIEventData DeserializeLength(BufferStream stream, int length, InRangeAIEventData instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.range = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, InRangeAIEventData instance, InRangeAIEventData previous)
	{
		if (instance.range != previous.range)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.range);
		}
	}

	public static void Serialize(BufferStream stream, InRangeAIEventData instance)
	{
		if (instance.range != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.range);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class InRangeOfHomeAIEventData : IDisposable, IPooled, IProto<InRangeOfHomeAIEventData>, IProto
{
	[NonSerialized]
	public float range;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(InRangeOfHomeAIEventData instance)
	{
		if (instance.ShouldPool)
		{
			instance.range = 0f;
			Pool.Free<InRangeOfHomeAIEventData>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose InRangeOfHomeAIEventData with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(InRangeOfHomeAIEventData instance)
	{
		instance.range = range;
	}

	public InRangeOfHomeAIEventData Copy()
	{
		InRangeOfHomeAIEventData inRangeOfHomeAIEventData = Pool.Get<InRangeOfHomeAIEventData>();
		CopyTo(inRangeOfHomeAIEventData);
		return inRangeOfHomeAIEventData;
	}

	public static InRangeOfHomeAIEventData Deserialize(BufferStream stream)
	{
		InRangeOfHomeAIEventData inRangeOfHomeAIEventData = Pool.Get<InRangeOfHomeAIEventData>();
		Deserialize(stream, inRangeOfHomeAIEventData, isDelta: false);
		return inRangeOfHomeAIEventData;
	}

	public static InRangeOfHomeAIEventData DeserializeLengthDelimited(BufferStream stream)
	{
		InRangeOfHomeAIEventData inRangeOfHomeAIEventData = Pool.Get<InRangeOfHomeAIEventData>();
		DeserializeLengthDelimited(stream, inRangeOfHomeAIEventData, isDelta: false);
		return inRangeOfHomeAIEventData;
	}

	public static InRangeOfHomeAIEventData DeserializeLength(BufferStream stream, int length)
	{
		InRangeOfHomeAIEventData inRangeOfHomeAIEventData = Pool.Get<InRangeOfHomeAIEventData>();
		DeserializeLength(stream, length, inRangeOfHomeAIEventData, isDelta: false);
		return inRangeOfHomeAIEventData;
	}

	public static InRangeOfHomeAIEventData Deserialize(byte[] buffer)
	{
		InRangeOfHomeAIEventData inRangeOfHomeAIEventData = Pool.Get<InRangeOfHomeAIEventData>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, inRangeOfHomeAIEventData, isDelta: false);
		return inRangeOfHomeAIEventData;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, InRangeOfHomeAIEventData previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static InRangeOfHomeAIEventData Deserialize(BufferStream stream, InRangeOfHomeAIEventData instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.range = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static InRangeOfHomeAIEventData DeserializeLengthDelimited(BufferStream stream, InRangeOfHomeAIEventData instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.range = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static InRangeOfHomeAIEventData DeserializeLength(BufferStream stream, int length, InRangeOfHomeAIEventData instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.range = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, InRangeOfHomeAIEventData instance, InRangeOfHomeAIEventData previous)
	{
		if (instance.range != previous.range)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.range);
		}
	}

	public static void Serialize(BufferStream stream, InRangeOfHomeAIEventData instance)
	{
		if (instance.range != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.range);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class InstrumentMidiBinding : IDisposable, IPooled, IProto<InstrumentMidiBinding>, IProto
{
	[NonSerialized]
	public int noteFrom;

	[NonSerialized]
	public int note;

	[NonSerialized]
	public int noteOctave;

	[NonSerialized]
	public int noteType;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(InstrumentMidiBinding instance)
	{
		if (instance.ShouldPool)
		{
			instance.noteFrom = 0;
			instance.note = 0;
			instance.noteOctave = 0;
			instance.noteType = 0;
			Pool.Free<InstrumentMidiBinding>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose InstrumentMidiBinding with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(InstrumentMidiBinding instance)
	{
		instance.noteFrom = noteFrom;
		instance.note = note;
		instance.noteOctave = noteOctave;
		instance.noteType = noteType;
	}

	public InstrumentMidiBinding Copy()
	{
		InstrumentMidiBinding instrumentMidiBinding = Pool.Get<InstrumentMidiBinding>();
		CopyTo(instrumentMidiBinding);
		return instrumentMidiBinding;
	}

	public static InstrumentMidiBinding Deserialize(BufferStream stream)
	{
		InstrumentMidiBinding instrumentMidiBinding = Pool.Get<InstrumentMidiBinding>();
		Deserialize(stream, instrumentMidiBinding, isDelta: false);
		return instrumentMidiBinding;
	}

	public static InstrumentMidiBinding DeserializeLengthDelimited(BufferStream stream)
	{
		InstrumentMidiBinding instrumentMidiBinding = Pool.Get<InstrumentMidiBinding>();
		DeserializeLengthDelimited(stream, instrumentMidiBinding, isDelta: false);
		return instrumentMidiBinding;
	}

	public static InstrumentMidiBinding DeserializeLength(BufferStream stream, int length)
	{
		InstrumentMidiBinding instrumentMidiBinding = Pool.Get<InstrumentMidiBinding>();
		DeserializeLength(stream, length, instrumentMidiBinding, isDelta: false);
		return instrumentMidiBinding;
	}

	public static InstrumentMidiBinding Deserialize(byte[] buffer)
	{
		InstrumentMidiBinding instrumentMidiBinding = Pool.Get<InstrumentMidiBinding>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, instrumentMidiBinding, isDelta: false);
		return instrumentMidiBinding;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, InstrumentMidiBinding previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static InstrumentMidiBinding Deserialize(BufferStream stream, InstrumentMidiBinding instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.noteFrom = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.note = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.noteOctave = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.noteType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static InstrumentMidiBinding DeserializeLengthDelimited(BufferStream stream, InstrumentMidiBinding instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.noteFrom = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.note = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.noteOctave = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.noteType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static InstrumentMidiBinding DeserializeLength(BufferStream stream, int length, InstrumentMidiBinding instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.noteFrom = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.note = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.noteOctave = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.noteType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, InstrumentMidiBinding instance, InstrumentMidiBinding previous)
	{
		if (instance.noteFrom != previous.noteFrom)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteFrom);
		}
		if (instance.note != previous.note)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.note);
		}
		if (instance.noteOctave != previous.noteOctave)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteOctave);
		}
		if (instance.noteType != previous.noteType)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteType);
		}
	}

	public static void Serialize(BufferStream stream, InstrumentMidiBinding instance)
	{
		if (instance.noteFrom != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteFrom);
		}
		if (instance.note != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.note);
		}
		if (instance.noteOctave != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteOctave);
		}
		if (instance.noteType != 0)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteType);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class InstrumentMidiBindings : IDisposable, IPooled, IProto<InstrumentMidiBindings>, IProto
{
	[NonSerialized]
	public List<InstrumentMidiBinding> bindings;

	[NonSerialized]
	public uint forInstrument;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(InstrumentMidiBindings instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.bindings != null)
		{
			for (int i = 0; i < instance.bindings.Count; i++)
			{
				if (instance.bindings[i] != null)
				{
					instance.bindings[i].ResetToPool();
					instance.bindings[i] = null;
				}
			}
			List<InstrumentMidiBinding> list = instance.bindings;
			Pool.Free<InstrumentMidiBinding>(ref list, false);
			instance.bindings = list;
		}
		instance.forInstrument = 0u;
		Pool.Free<InstrumentMidiBindings>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose InstrumentMidiBindings with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(InstrumentMidiBindings instance)
	{
		if (bindings != null)
		{
			instance.bindings = Pool.Get<List<InstrumentMidiBinding>>();
			for (int i = 0; i < bindings.Count; i++)
			{
				InstrumentMidiBinding item = bindings[i].Copy();
				instance.bindings.Add(item);
			}
		}
		else
		{
			instance.bindings = null;
		}
		instance.forInstrument = forInstrument;
	}

	public InstrumentMidiBindings Copy()
	{
		InstrumentMidiBindings instrumentMidiBindings = Pool.Get<InstrumentMidiBindings>();
		CopyTo(instrumentMidiBindings);
		return instrumentMidiBindings;
	}

	public static InstrumentMidiBindings Deserialize(BufferStream stream)
	{
		InstrumentMidiBindings instrumentMidiBindings = Pool.Get<InstrumentMidiBindings>();
		Deserialize(stream, instrumentMidiBindings, isDelta: false);
		return instrumentMidiBindings;
	}

	public static InstrumentMidiBindings DeserializeLengthDelimited(BufferStream stream)
	{
		InstrumentMidiBindings instrumentMidiBindings = Pool.Get<InstrumentMidiBindings>();
		DeserializeLengthDelimited(stream, instrumentMidiBindings, isDelta: false);
		return instrumentMidiBindings;
	}

	public static InstrumentMidiBindings DeserializeLength(BufferStream stream, int length)
	{
		InstrumentMidiBindings instrumentMidiBindings = Pool.Get<InstrumentMidiBindings>();
		DeserializeLength(stream, length, instrumentMidiBindings, isDelta: false);
		return instrumentMidiBindings;
	}

	public static InstrumentMidiBindings Deserialize(byte[] buffer)
	{
		InstrumentMidiBindings instrumentMidiBindings = Pool.Get<InstrumentMidiBindings>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, instrumentMidiBindings, isDelta: false);
		return instrumentMidiBindings;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, InstrumentMidiBindings previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static InstrumentMidiBindings Deserialize(BufferStream stream, InstrumentMidiBindings instance, bool isDelta)
	{
		if (!isDelta && instance.bindings == null)
		{
			instance.bindings = Pool.Get<List<InstrumentMidiBinding>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.bindings.Add(InstrumentMidiBinding.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.forInstrument = ProtocolParser.ReadUInt32(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static InstrumentMidiBindings DeserializeLengthDelimited(BufferStream stream, InstrumentMidiBindings instance, bool isDelta)
	{
		if (!isDelta && instance.bindings == null)
		{
			instance.bindings = Pool.Get<List<InstrumentMidiBinding>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.bindings.Add(InstrumentMidiBinding.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.forInstrument = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static InstrumentMidiBindings DeserializeLength(BufferStream stream, int length, InstrumentMidiBindings instance, bool isDelta)
	{
		if (!isDelta && instance.bindings == null)
		{
			instance.bindings = Pool.Get<List<InstrumentMidiBinding>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.bindings.Add(InstrumentMidiBinding.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.forInstrument = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, InstrumentMidiBindings instance, InstrumentMidiBindings previous)
	{
		if (instance.bindings != null)
		{
			for (int i = 0; i < instance.bindings.Count; i++)
			{
				InstrumentMidiBinding instrumentMidiBinding = instance.bindings[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				InstrumentMidiBinding.SerializeDelta(stream, instrumentMidiBinding, instrumentMidiBinding);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bindings (ProtoBuf.InstrumentMidiBinding)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.forInstrument != previous.forInstrument)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.forInstrument);
		}
	}

	public static void Serialize(BufferStream stream, InstrumentMidiBindings instance)
	{
		if (instance.bindings != null)
		{
			for (int i = 0; i < instance.bindings.Count; i++)
			{
				InstrumentMidiBinding instance2 = instance.bindings[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				InstrumentMidiBinding.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bindings (ProtoBuf.InstrumentMidiBinding)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.forInstrument != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.forInstrument);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (bindings != null)
		{
			for (int i = 0; i < bindings.Count; i++)
			{
				bindings[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class InstrumentRecording : IDisposable, IPooled, IProto<InstrumentRecording>, IProto
{
	[NonSerialized]
	public List<InstrumentRecordingNote> notes;

	[NonSerialized]
	public int forInstrument;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(InstrumentRecording instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.notes != null)
		{
			for (int i = 0; i < instance.notes.Count; i++)
			{
				if (instance.notes[i] != null)
				{
					instance.notes[i].ResetToPool();
					instance.notes[i] = null;
				}
			}
			List<InstrumentRecordingNote> list = instance.notes;
			Pool.Free<InstrumentRecordingNote>(ref list, false);
			instance.notes = list;
		}
		instance.forInstrument = 0;
		Pool.Free<InstrumentRecording>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose InstrumentRecording with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(InstrumentRecording instance)
	{
		if (notes != null)
		{
			instance.notes = Pool.Get<List<InstrumentRecordingNote>>();
			for (int i = 0; i < notes.Count; i++)
			{
				InstrumentRecordingNote item = notes[i].Copy();
				instance.notes.Add(item);
			}
		}
		else
		{
			instance.notes = null;
		}
		instance.forInstrument = forInstrument;
	}

	public InstrumentRecording Copy()
	{
		InstrumentRecording instrumentRecording = Pool.Get<InstrumentRecording>();
		CopyTo(instrumentRecording);
		return instrumentRecording;
	}

	public static InstrumentRecording Deserialize(BufferStream stream)
	{
		InstrumentRecording instrumentRecording = Pool.Get<InstrumentRecording>();
		Deserialize(stream, instrumentRecording, isDelta: false);
		return instrumentRecording;
	}

	public static InstrumentRecording DeserializeLengthDelimited(BufferStream stream)
	{
		InstrumentRecording instrumentRecording = Pool.Get<InstrumentRecording>();
		DeserializeLengthDelimited(stream, instrumentRecording, isDelta: false);
		return instrumentRecording;
	}

	public static InstrumentRecording DeserializeLength(BufferStream stream, int length)
	{
		InstrumentRecording instrumentRecording = Pool.Get<InstrumentRecording>();
		DeserializeLength(stream, length, instrumentRecording, isDelta: false);
		return instrumentRecording;
	}

	public static InstrumentRecording Deserialize(byte[] buffer)
	{
		InstrumentRecording instrumentRecording = Pool.Get<InstrumentRecording>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, instrumentRecording, isDelta: false);
		return instrumentRecording;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, InstrumentRecording previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static InstrumentRecording Deserialize(BufferStream stream, InstrumentRecording instance, bool isDelta)
	{
		if (!isDelta && instance.notes == null)
		{
			instance.notes = Pool.Get<List<InstrumentRecordingNote>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.notes.Add(InstrumentRecordingNote.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.forInstrument = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static InstrumentRecording DeserializeLengthDelimited(BufferStream stream, InstrumentRecording instance, bool isDelta)
	{
		if (!isDelta && instance.notes == null)
		{
			instance.notes = Pool.Get<List<InstrumentRecordingNote>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.notes.Add(InstrumentRecordingNote.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.forInstrument = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static InstrumentRecording DeserializeLength(BufferStream stream, int length, InstrumentRecording instance, bool isDelta)
	{
		if (!isDelta && instance.notes == null)
		{
			instance.notes = Pool.Get<List<InstrumentRecordingNote>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.notes.Add(InstrumentRecordingNote.DeserializeLengthDelimited(stream));
				continue;
			case 16:
				instance.forInstrument = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, InstrumentRecording instance, InstrumentRecording previous)
	{
		if (instance.notes != null)
		{
			for (int i = 0; i < instance.notes.Count; i++)
			{
				InstrumentRecordingNote instrumentRecordingNote = instance.notes[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				InstrumentRecordingNote.SerializeDelta(stream, instrumentRecordingNote, instrumentRecordingNote);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field notes (ProtoBuf.InstrumentRecordingNote)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.forInstrument != previous.forInstrument)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.forInstrument);
		}
	}

	public static void Serialize(BufferStream stream, InstrumentRecording instance)
	{
		if (instance.notes != null)
		{
			for (int i = 0; i < instance.notes.Count; i++)
			{
				InstrumentRecordingNote instance2 = instance.notes[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				InstrumentRecordingNote.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field notes (ProtoBuf.InstrumentRecordingNote)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.forInstrument != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.forInstrument);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (notes != null)
		{
			for (int i = 0; i < notes.Count; i++)
			{
				notes[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class InstrumentRecordingNote : IDisposable, IPooled, IProto<InstrumentRecordingNote>, IProto
{
	[NonSerialized]
	public float startTime;

	[NonSerialized]
	public float duration;

	[NonSerialized]
	public int note;

	[NonSerialized]
	public int octave;

	[NonSerialized]
	public float velocity;

	[NonSerialized]
	public int noteType;

	[NonSerialized]
	public bool shouldPlay;

	[NonSerialized]
	public bool hasPlayed;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(InstrumentRecordingNote instance)
	{
		if (instance.ShouldPool)
		{
			instance.startTime = 0f;
			instance.duration = 0f;
			instance.note = 0;
			instance.octave = 0;
			instance.velocity = 0f;
			instance.noteType = 0;
			instance.shouldPlay = false;
			instance.hasPlayed = false;
			Pool.Free<InstrumentRecordingNote>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose InstrumentRecordingNote with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(InstrumentRecordingNote instance)
	{
		instance.startTime = startTime;
		instance.duration = duration;
		instance.note = note;
		instance.octave = octave;
		instance.velocity = velocity;
		instance.noteType = noteType;
		instance.shouldPlay = shouldPlay;
		instance.hasPlayed = hasPlayed;
	}

	public InstrumentRecordingNote Copy()
	{
		InstrumentRecordingNote instrumentRecordingNote = Pool.Get<InstrumentRecordingNote>();
		CopyTo(instrumentRecordingNote);
		return instrumentRecordingNote;
	}

	public static InstrumentRecordingNote Deserialize(BufferStream stream)
	{
		InstrumentRecordingNote instrumentRecordingNote = Pool.Get<InstrumentRecordingNote>();
		Deserialize(stream, instrumentRecordingNote, isDelta: false);
		return instrumentRecordingNote;
	}

	public static InstrumentRecordingNote DeserializeLengthDelimited(BufferStream stream)
	{
		InstrumentRecordingNote instrumentRecordingNote = Pool.Get<InstrumentRecordingNote>();
		DeserializeLengthDelimited(stream, instrumentRecordingNote, isDelta: false);
		return instrumentRecordingNote;
	}

	public static InstrumentRecordingNote DeserializeLength(BufferStream stream, int length)
	{
		InstrumentRecordingNote instrumentRecordingNote = Pool.Get<InstrumentRecordingNote>();
		DeserializeLength(stream, length, instrumentRecordingNote, isDelta: false);
		return instrumentRecordingNote;
	}

	public static InstrumentRecordingNote Deserialize(byte[] buffer)
	{
		InstrumentRecordingNote instrumentRecordingNote = Pool.Get<InstrumentRecordingNote>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, instrumentRecordingNote, isDelta: false);
		return instrumentRecordingNote;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, InstrumentRecordingNote previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static InstrumentRecordingNote Deserialize(BufferStream stream, InstrumentRecordingNote instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.startTime = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.duration = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.note = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.octave = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 45:
				instance.velocity = ProtocolParser.ReadSingle(stream);
				continue;
			case 48:
				instance.noteType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.shouldPlay = ProtocolParser.ReadBool(stream);
				continue;
			case 64:
				instance.hasPlayed = ProtocolParser.ReadBool(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static InstrumentRecordingNote DeserializeLengthDelimited(BufferStream stream, InstrumentRecordingNote instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.startTime = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.duration = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.note = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.octave = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 45:
				instance.velocity = ProtocolParser.ReadSingle(stream);
				continue;
			case 48:
				instance.noteType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.shouldPlay = ProtocolParser.ReadBool(stream);
				continue;
			case 64:
				instance.hasPlayed = ProtocolParser.ReadBool(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static InstrumentRecordingNote DeserializeLength(BufferStream stream, int length, InstrumentRecordingNote instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.startTime = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.duration = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.note = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.octave = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 45:
				instance.velocity = ProtocolParser.ReadSingle(stream);
				continue;
			case 48:
				instance.noteType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.shouldPlay = ProtocolParser.ReadBool(stream);
				continue;
			case 64:
				instance.hasPlayed = ProtocolParser.ReadBool(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, InstrumentRecordingNote instance, InstrumentRecordingNote previous)
	{
		if (instance.startTime != previous.startTime)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.startTime);
		}
		if (instance.duration != previous.duration)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.duration);
		}
		if (instance.note != previous.note)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.note);
		}
		if (instance.octave != previous.octave)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.octave);
		}
		if (instance.velocity != previous.velocity)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.velocity);
		}
		if (instance.noteType != previous.noteType)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteType);
		}
		stream.WriteByte(56);
		ProtocolParser.WriteBool(stream, instance.shouldPlay);
		stream.WriteByte(64);
		ProtocolParser.WriteBool(stream, instance.hasPlayed);
	}

	public static void Serialize(BufferStream stream, InstrumentRecordingNote instance)
	{
		if (instance.startTime != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.startTime);
		}
		if (instance.duration != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.duration);
		}
		if (instance.note != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.note);
		}
		if (instance.octave != 0)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.octave);
		}
		if (instance.velocity != 0f)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.velocity);
		}
		if (instance.noteType != 0)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.noteType);
		}
		if (instance.shouldPlay)
		{
			stream.WriteByte(56);
			ProtocolParser.WriteBool(stream, instance.shouldPlay);
		}
		if (instance.hasPlayed)
		{
			stream.WriteByte(64);
			ProtocolParser.WriteBool(stream, instance.hasPlayed);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class IOEntity : IDisposable, IPooled, IProto<IOEntity>, IProto
{
	public class IOConnection : IDisposable, IPooled, IProto<IOConnection>, IProto
	{
		public class LinePointList : IDisposable, IPooled, IProto<LinePointList>, IProto
		{
			[NonSerialized]
			public Vector4 a;

			[NonSerialized]
			public Vector4 b;

			[NonSerialized]
			public Vector4 c;

			[NonSerialized]
			public Vector4 d;

			[NonSerialized]
			public Vector4 e;

			[NonSerialized]
			public Vector4 f;

			[NonSerialized]
			public Vector4 g;

			[NonSerialized]
			public Vector4 h;

			public bool ShouldPool = true;

			private bool _disposed;

			public static void ResetToPool(LinePointList instance)
			{
				//IL_000f: Unknown result type (might be due to invalid IL or missing references)
				//IL_001b: Unknown result type (might be due to invalid IL or missing references)
				//IL_0027: Unknown result type (might be due to invalid IL or missing references)
				//IL_0033: Unknown result type (might be due to invalid IL or missing references)
				//IL_003f: Unknown result type (might be due to invalid IL or missing references)
				//IL_004b: Unknown result type (might be due to invalid IL or missing references)
				//IL_0057: Unknown result type (might be due to invalid IL or missing references)
				//IL_0063: Unknown result type (might be due to invalid IL or missing references)
				if (instance.ShouldPool)
				{
					instance.a = default(Vector4);
					instance.b = default(Vector4);
					instance.c = default(Vector4);
					instance.d = default(Vector4);
					instance.e = default(Vector4);
					instance.f = default(Vector4);
					instance.g = default(Vector4);
					instance.h = default(Vector4);
					Pool.Free<LinePointList>(ref instance);
				}
			}

			public void ResetToPool()
			{
				ResetToPool(this);
			}

			public virtual void Dispose()
			{
				if (!ShouldPool)
				{
					throw new Exception("Trying to dispose LinePointList with ShouldPool set to false!");
				}
				if (!_disposed)
				{
					ResetToPool();
					_disposed = true;
				}
			}

			public virtual void EnterPool()
			{
				_disposed = true;
			}

			public virtual void LeavePool()
			{
				_disposed = false;
			}

			public void CopyTo(LinePointList instance)
			{
				//IL_0002: Unknown result type (might be due to invalid IL or missing references)
				//IL_0007: Unknown result type (might be due to invalid IL or missing references)
				//IL_000e: Unknown result type (might be due to invalid IL or missing references)
				//IL_0013: Unknown result type (might be due to invalid IL or missing references)
				//IL_001a: Unknown result type (might be due to invalid IL or missing references)
				//IL_001f: Unknown result type (might be due to invalid IL or missing references)
				//IL_0026: Unknown result type (might be due to invalid IL or missing references)
				//IL_002b: Unknown result type (might be due to invalid IL or missing references)
				//IL_0032: Unknown result type (might be due to invalid IL or missing references)
				//IL_0037: Unknown result type (might be due to invalid IL or missing references)
				//IL_003e: Unknown result type (might be due to invalid IL or missing references)
				//IL_0043: Unknown result type (might be due to invalid IL or missing references)
				//IL_004a: Unknown result type (might be due to invalid IL or missing references)
				//IL_004f: Unknown result type (might be due to invalid IL or missing references)
				//IL_0056: Unknown result type (might be due to invalid IL or missing references)
				//IL_005b: Unknown result type (might be due to invalid IL or missing references)
				instance.a = a;
				instance.b = b;
				instance.c = c;
				instance.d = d;
				instance.e = e;
				instance.f = f;
				instance.g = g;
				instance.h = h;
			}

			public LinePointList Copy()
			{
				LinePointList linePointList = Pool.Get<LinePointList>();
				CopyTo(linePointList);
				return linePointList;
			}

			public static LinePointList Deserialize(BufferStream stream)
			{
				LinePointList linePointList = Pool.Get<LinePointList>();
				Deserialize(stream, linePointList, isDelta: false);
				return linePointList;
			}

			public static LinePointList DeserializeLengthDelimited(BufferStream stream)
			{
				LinePointList linePointList = Pool.Get<LinePointList>();
				DeserializeLengthDelimited(stream, linePointList, isDelta: false);
				return linePointList;
			}

			public static LinePointList DeserializeLength(BufferStream stream, int length)
			{
				LinePointList linePointList = Pool.Get<LinePointList>();
				DeserializeLength(stream, length, linePointList, isDelta: false);
				return linePointList;
			}

			public static LinePointList Deserialize(byte[] buffer)
			{
				LinePointList linePointList = Pool.Get<LinePointList>();
				using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
				Deserialize(stream, linePointList, isDelta: false);
				return linePointList;
			}

			public void FromProto(BufferStream stream, bool isDelta = false)
			{
				Deserialize(stream, this, isDelta);
			}

			public virtual void WriteToStream(BufferStream stream)
			{
				Serialize(stream, this);
			}

			public virtual void WriteToStreamDelta(BufferStream stream, LinePointList previous)
			{
				if (previous == null)
				{
					Serialize(stream, this);
				}
				else
				{
					SerializeDelta(stream, this, previous);
				}
			}

			public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
			{
				Deserialize(stream, this, isDelta);
			}

			public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
			{
				DeserializeLength(stream, size, this, isDelta);
			}

			public static LinePointList Deserialize(BufferStream stream, LinePointList instance, bool isDelta)
			{
				//IL_00db: Unknown result type (might be due to invalid IL or missing references)
				//IL_00b5: Unknown result type (might be due to invalid IL or missing references)
				//IL_008f: Unknown result type (might be due to invalid IL or missing references)
				//IL_006c: Unknown result type (might be due to invalid IL or missing references)
				//IL_00ee: Unknown result type (might be due to invalid IL or missing references)
				//IL_00c8: Unknown result type (might be due to invalid IL or missing references)
				//IL_00a2: Unknown result type (might be due to invalid IL or missing references)
				//IL_007c: Unknown result type (might be due to invalid IL or missing references)
				while (true)
				{
					int num = stream.ReadByte();
					switch (num)
					{
					case 10:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.a, isDelta);
						continue;
					case 18:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.b, isDelta);
						continue;
					case 26:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.c, isDelta);
						continue;
					case 34:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.d, isDelta);
						continue;
					case 42:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.e, isDelta);
						continue;
					case 50:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.f, isDelta);
						continue;
					case 58:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.g, isDelta);
						continue;
					case 66:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.h, isDelta);
						continue;
					case -1:
					case 0:
						return instance;
					}
					Key key = ProtocolParser.ReadKey((byte)num, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
				}
			}

			public static LinePointList DeserializeLengthDelimited(BufferStream stream, LinePointList instance, bool isDelta)
			{
				//IL_010f: Unknown result type (might be due to invalid IL or missing references)
				//IL_00e9: Unknown result type (might be due to invalid IL or missing references)
				//IL_00c3: Unknown result type (might be due to invalid IL or missing references)
				//IL_009d: Unknown result type (might be due to invalid IL or missing references)
				//IL_0122: Unknown result type (might be due to invalid IL or missing references)
				//IL_00fc: Unknown result type (might be due to invalid IL or missing references)
				//IL_00d6: Unknown result type (might be due to invalid IL or missing references)
				//IL_00b0: Unknown result type (might be due to invalid IL or missing references)
				long num = ProtocolParser.ReadUInt32(stream);
				num += stream.Position;
				while (stream.Position < num)
				{
					int num2 = stream.ReadByte();
					switch (num2)
					{
					case -1:
						throw new EndOfStreamException();
					case 10:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.a, isDelta);
						continue;
					case 18:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.b, isDelta);
						continue;
					case 26:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.c, isDelta);
						continue;
					case 34:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.d, isDelta);
						continue;
					case 42:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.e, isDelta);
						continue;
					case 50:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.f, isDelta);
						continue;
					case 58:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.g, isDelta);
						continue;
					case 66:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.h, isDelta);
						continue;
					}
					Key key = ProtocolParser.ReadKey((byte)num2, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
				}
				if (stream.Position != num)
				{
					throw new ProtocolBufferException("Read past max limit");
				}
				return instance;
			}

			public static LinePointList DeserializeLength(BufferStream stream, int length, LinePointList instance, bool isDelta)
			{
				//IL_0107: Unknown result type (might be due to invalid IL or missing references)
				//IL_00e1: Unknown result type (might be due to invalid IL or missing references)
				//IL_00bb: Unknown result type (might be due to invalid IL or missing references)
				//IL_0095: Unknown result type (might be due to invalid IL or missing references)
				//IL_011a: Unknown result type (might be due to invalid IL or missing references)
				//IL_00f4: Unknown result type (might be due to invalid IL or missing references)
				//IL_00ce: Unknown result type (might be due to invalid IL or missing references)
				//IL_00a8: Unknown result type (might be due to invalid IL or missing references)
				long num = stream.Position + length;
				while (stream.Position < num)
				{
					int num2 = stream.ReadByte();
					switch (num2)
					{
					case -1:
						throw new EndOfStreamException();
					case 10:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.a, isDelta);
						continue;
					case 18:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.b, isDelta);
						continue;
					case 26:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.c, isDelta);
						continue;
					case 34:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.d, isDelta);
						continue;
					case 42:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.e, isDelta);
						continue;
					case 50:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.f, isDelta);
						continue;
					case 58:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.g, isDelta);
						continue;
					case 66:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.h, isDelta);
						continue;
					}
					Key key = ProtocolParser.ReadKey((byte)num2, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
				}
				if (stream.Position != num)
				{
					throw new ProtocolBufferException("Read past max limit");
				}
				return instance;
			}

			public static void SerializeDelta(BufferStream stream, LinePointList instance, LinePointList previous)
			{
				//IL_0001: Unknown result type (might be due to invalid IL or missing references)
				//IL_0007: Unknown result type (might be due to invalid IL or missing references)
				//IL_0065: Unknown result type (might be due to invalid IL or missing references)
				//IL_006b: Unknown result type (might be due to invalid IL or missing references)
				//IL_002c: Unknown result type (might be due to invalid IL or missing references)
				//IL_0032: Unknown result type (might be due to invalid IL or missing references)
				//IL_00cd: Unknown result type (might be due to invalid IL or missing references)
				//IL_00d3: Unknown result type (might be due to invalid IL or missing references)
				//IL_0091: Unknown result type (might be due to invalid IL or missing references)
				//IL_0097: Unknown result type (might be due to invalid IL or missing references)
				//IL_0136: Unknown result type (might be due to invalid IL or missing references)
				//IL_013c: Unknown result type (might be due to invalid IL or missing references)
				//IL_00fa: Unknown result type (might be due to invalid IL or missing references)
				//IL_0100: Unknown result type (might be due to invalid IL or missing references)
				//IL_019f: Unknown result type (might be due to invalid IL or missing references)
				//IL_01a5: Unknown result type (might be due to invalid IL or missing references)
				//IL_0163: Unknown result type (might be due to invalid IL or missing references)
				//IL_0169: Unknown result type (might be due to invalid IL or missing references)
				//IL_0208: Unknown result type (might be due to invalid IL or missing references)
				//IL_020e: Unknown result type (might be due to invalid IL or missing references)
				//IL_01cc: Unknown result type (might be due to invalid IL or missing references)
				//IL_01d2: Unknown result type (might be due to invalid IL or missing references)
				//IL_0271: Unknown result type (might be due to invalid IL or missing references)
				//IL_0277: Unknown result type (might be due to invalid IL or missing references)
				//IL_0235: Unknown result type (might be due to invalid IL or missing references)
				//IL_023b: Unknown result type (might be due to invalid IL or missing references)
				//IL_02da: Unknown result type (might be due to invalid IL or missing references)
				//IL_02e0: Unknown result type (might be due to invalid IL or missing references)
				//IL_029e: Unknown result type (might be due to invalid IL or missing references)
				//IL_02a4: Unknown result type (might be due to invalid IL or missing references)
				//IL_0307: Unknown result type (might be due to invalid IL or missing references)
				//IL_030d: Unknown result type (might be due to invalid IL or missing references)
				if (instance.a != previous.a)
				{
					stream.WriteByte(10);
					BufferStream.RangeHandle range = stream.GetRange(1);
					int position = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.a, previous.a);
					int num = stream.Position - position;
					if (num > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field a (UnityEngine.Vector4)");
					}
					Span<byte> span = range.GetSpan();
					ProtocolParser.WriteUInt32((uint)num, span, 0);
				}
				if (instance.b != previous.b)
				{
					stream.WriteByte(18);
					BufferStream.RangeHandle range2 = stream.GetRange(1);
					int position2 = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.b, previous.b);
					int num2 = stream.Position - position2;
					if (num2 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field b (UnityEngine.Vector4)");
					}
					Span<byte> span2 = range2.GetSpan();
					ProtocolParser.WriteUInt32((uint)num2, span2, 0);
				}
				if (instance.c != previous.c)
				{
					stream.WriteByte(26);
					BufferStream.RangeHandle range3 = stream.GetRange(1);
					int position3 = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.c, previous.c);
					int num3 = stream.Position - position3;
					if (num3 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field c (UnityEngine.Vector4)");
					}
					Span<byte> span3 = range3.GetSpan();
					ProtocolParser.WriteUInt32((uint)num3, span3, 0);
				}
				if (instance.d != previous.d)
				{
					stream.WriteByte(34);
					BufferStream.RangeHandle range4 = stream.GetRange(1);
					int position4 = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.d, previous.d);
					int num4 = stream.Position - position4;
					if (num4 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field d (UnityEngine.Vector4)");
					}
					Span<byte> span4 = range4.GetSpan();
					ProtocolParser.WriteUInt32((uint)num4, span4, 0);
				}
				if (instance.e != previous.e)
				{
					stream.WriteByte(42);
					BufferStream.RangeHandle range5 = stream.GetRange(1);
					int position5 = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.e, previous.e);
					int num5 = stream.Position - position5;
					if (num5 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field e (UnityEngine.Vector4)");
					}
					Span<byte> span5 = range5.GetSpan();
					ProtocolParser.WriteUInt32((uint)num5, span5, 0);
				}
				if (instance.f != previous.f)
				{
					stream.WriteByte(50);
					BufferStream.RangeHandle range6 = stream.GetRange(1);
					int position6 = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.f, previous.f);
					int num6 = stream.Position - position6;
					if (num6 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field f (UnityEngine.Vector4)");
					}
					Span<byte> span6 = range6.GetSpan();
					ProtocolParser.WriteUInt32((uint)num6, span6, 0);
				}
				if (instance.g != previous.g)
				{
					stream.WriteByte(58);
					BufferStream.RangeHandle range7 = stream.GetRange(1);
					int position7 = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.g, previous.g);
					int num7 = stream.Position - position7;
					if (num7 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field g (UnityEngine.Vector4)");
					}
					Span<byte> span7 = range7.GetSpan();
					ProtocolParser.WriteUInt32((uint)num7, span7, 0);
				}
				if (instance.h != previous.h)
				{
					stream.WriteByte(66);
					BufferStream.RangeHandle range8 = stream.GetRange(1);
					int position8 = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.h, previous.h);
					int num8 = stream.Position - position8;
					if (num8 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field h (UnityEngine.Vector4)");
					}
					Span<byte> span8 = range8.GetSpan();
					ProtocolParser.WriteUInt32((uint)num8, span8, 0);
				}
			}

			public static void Serialize(BufferStream stream, LinePointList instance)
			{
				//IL_0001: Unknown result type (might be due to invalid IL or missing references)
				//IL_0008: Unknown result type (might be due to invalid IL or missing references)
				//IL_000e: Unknown result type (might be due to invalid IL or missing references)
				//IL_0062: Unknown result type (might be due to invalid IL or missing references)
				//IL_0069: Unknown result type (might be due to invalid IL or missing references)
				//IL_006f: Unknown result type (might be due to invalid IL or missing references)
				//IL_002f: Unknown result type (might be due to invalid IL or missing references)
				//IL_00c8: Unknown result type (might be due to invalid IL or missing references)
				//IL_00cf: Unknown result type (might be due to invalid IL or missing references)
				//IL_00d5: Unknown result type (might be due to invalid IL or missing references)
				//IL_0092: Unknown result type (might be due to invalid IL or missing references)
				//IL_012e: Unknown result type (might be due to invalid IL or missing references)
				//IL_0135: Unknown result type (might be due to invalid IL or missing references)
				//IL_013b: Unknown result type (might be due to invalid IL or missing references)
				//IL_00f8: Unknown result type (might be due to invalid IL or missing references)
				//IL_0194: Unknown result type (might be due to invalid IL or missing references)
				//IL_019b: Unknown result type (might be due to invalid IL or missing references)
				//IL_01a1: Unknown result type (might be due to invalid IL or missing references)
				//IL_015e: Unknown result type (might be due to invalid IL or missing references)
				//IL_01fa: Unknown result type (might be due to invalid IL or missing references)
				//IL_0201: Unknown result type (might be due to invalid IL or missing references)
				//IL_0207: Unknown result type (might be due to invalid IL or missing references)
				//IL_01c4: Unknown result type (might be due to invalid IL or missing references)
				//IL_0260: Unknown result type (might be due to invalid IL or missing references)
				//IL_0267: Unknown result type (might be due to invalid IL or missing references)
				//IL_026d: Unknown result type (might be due to invalid IL or missing references)
				//IL_022a: Unknown result type (might be due to invalid IL or missing references)
				//IL_02c6: Unknown result type (might be due to invalid IL or missing references)
				//IL_02cd: Unknown result type (might be due to invalid IL or missing references)
				//IL_02d3: Unknown result type (might be due to invalid IL or missing references)
				//IL_0290: Unknown result type (might be due to invalid IL or missing references)
				//IL_02f6: Unknown result type (might be due to invalid IL or missing references)
				if (instance.a != default(Vector4))
				{
					stream.WriteByte(10);
					BufferStream.RangeHandle range = stream.GetRange(1);
					int position = stream.Position;
					Vector4Serialized.Serialize(stream, instance.a);
					int num = stream.Position - position;
					if (num > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field a (UnityEngine.Vector4)");
					}
					Span<byte> span = range.GetSpan();
					ProtocolParser.WriteUInt32((uint)num, span, 0);
				}
				if (instance.b != default(Vector4))
				{
					stream.WriteByte(18);
					BufferStream.RangeHandle range2 = stream.GetRange(1);
					int position2 = stream.Position;
					Vector4Serialized.Serialize(stream, instance.b);
					int num2 = stream.Position - position2;
					if (num2 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field b (UnityEngine.Vector4)");
					}
					Span<byte> span2 = range2.GetSpan();
					ProtocolParser.WriteUInt32((uint)num2, span2, 0);
				}
				if (instance.c != default(Vector4))
				{
					stream.WriteByte(26);
					BufferStream.RangeHandle range3 = stream.GetRange(1);
					int position3 = stream.Position;
					Vector4Serialized.Serialize(stream, instance.c);
					int num3 = stream.Position - position3;
					if (num3 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field c (UnityEngine.Vector4)");
					}
					Span<byte> span3 = range3.GetSpan();
					ProtocolParser.WriteUInt32((uint)num3, span3, 0);
				}
				if (instance.d != default(Vector4))
				{
					stream.WriteByte(34);
					BufferStream.RangeHandle range4 = stream.GetRange(1);
					int position4 = stream.Position;
					Vector4Serialized.Serialize(stream, instance.d);
					int num4 = stream.Position - position4;
					if (num4 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field d (UnityEngine.Vector4)");
					}
					Span<byte> span4 = range4.GetSpan();
					ProtocolParser.WriteUInt32((uint)num4, span4, 0);
				}
				if (instance.e != default(Vector4))
				{
					stream.WriteByte(42);
					BufferStream.RangeHandle range5 = stream.GetRange(1);
					int position5 = stream.Position;
					Vector4Serialized.Serialize(stream, instance.e);
					int num5 = stream.Position - position5;
					if (num5 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field e (UnityEngine.Vector4)");
					}
					Span<byte> span5 = range5.GetSpan();
					ProtocolParser.WriteUInt32((uint)num5, span5, 0);
				}
				if (instance.f != default(Vector4))
				{
					stream.WriteByte(50);
					BufferStream.RangeHandle range6 = stream.GetRange(1);
					int position6 = stream.Position;
					Vector4Serialized.Serialize(stream, instance.f);
					int num6 = stream.Position - position6;
					if (num6 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field f (UnityEngine.Vector4)");
					}
					Span<byte> span6 = range6.GetSpan();
					ProtocolParser.WriteUInt32((uint)num6, span6, 0);
				}
				if (instance.g != default(Vector4))
				{
					stream.WriteByte(58);
					BufferStream.RangeHandle range7 = stream.GetRange(1);
					int position7 = stream.Position;
					Vector4Serialized.Serialize(stream, instance.g);
					int num7 = stream.Position - position7;
					if (num7 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field g (UnityEngine.Vector4)");
					}
					Span<byte> span7 = range7.GetSpan();
					ProtocolParser.WriteUInt32((uint)num7, span7, 0);
				}
				if (instance.h != default(Vector4))
				{
					stream.WriteByte(66);
					BufferStream.RangeHandle range8 = stream.GetRange(1);
					int position8 = stream.Position;
					Vector4Serialized.Serialize(stream, instance.h);
					int num8 = stream.Position - position8;
					if (num8 > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field h (UnityEngine.Vector4)");
					}
					Span<byte> span8 = range8.GetSpan();
					ProtocolParser.WriteUInt32((uint)num8, span8, 0);
				}
			}

			public void ToProto(BufferStream stream)
			{
				Serialize(stream, this);
			}

			public void InspectUids(UidInspector<ulong> action)
			{
			}
		}

		public class LineVec : IDisposable, IPooled, IProto<LineVec>, IProto
		{
			[NonSerialized]
			public Vector4 vec;

			public bool ShouldPool = true;

			private bool _disposed;

			public static void ResetToPool(LineVec instance)
			{
				//IL_000f: Unknown result type (might be due to invalid IL or missing references)
				if (instance.ShouldPool)
				{
					instance.vec = default(Vector4);
					Pool.Free<LineVec>(ref instance);
				}
			}

			public void ResetToPool()
			{
				ResetToPool(this);
			}

			public virtual void Dispose()
			{
				if (!ShouldPool)
				{
					throw new Exception("Trying to dispose LineVec with ShouldPool set to false!");
				}
				if (!_disposed)
				{
					ResetToPool();
					_disposed = true;
				}
			}

			public virtual void EnterPool()
			{
				_disposed = true;
			}

			public virtual void LeavePool()
			{
				_disposed = false;
			}

			public void CopyTo(LineVec instance)
			{
				//IL_0002: Unknown result type (might be due to invalid IL or missing references)
				//IL_0007: Unknown result type (might be due to invalid IL or missing references)
				instance.vec = vec;
			}

			public LineVec Copy()
			{
				LineVec lineVec = Pool.Get<LineVec>();
				CopyTo(lineVec);
				return lineVec;
			}

			public static LineVec Deserialize(BufferStream stream)
			{
				LineVec lineVec = Pool.Get<LineVec>();
				Deserialize(stream, lineVec, isDelta: false);
				return lineVec;
			}

			public static LineVec DeserializeLengthDelimited(BufferStream stream)
			{
				LineVec lineVec = Pool.Get<LineVec>();
				DeserializeLengthDelimited(stream, lineVec, isDelta: false);
				return lineVec;
			}

			public static LineVec DeserializeLength(BufferStream stream, int length)
			{
				LineVec lineVec = Pool.Get<LineVec>();
				DeserializeLength(stream, length, lineVec, isDelta: false);
				return lineVec;
			}

			public static LineVec Deserialize(byte[] buffer)
			{
				LineVec lineVec = Pool.Get<LineVec>();
				using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
				Deserialize(stream, lineVec, isDelta: false);
				return lineVec;
			}

			public void FromProto(BufferStream stream, bool isDelta = false)
			{
				Deserialize(stream, this, isDelta);
			}

			public virtual void WriteToStream(BufferStream stream)
			{
				Serialize(stream, this);
			}

			public virtual void WriteToStreamDelta(BufferStream stream, LineVec previous)
			{
				if (previous == null)
				{
					Serialize(stream, this);
				}
				else
				{
					SerializeDelta(stream, this, previous);
				}
			}

			public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
			{
				Deserialize(stream, this, isDelta);
			}

			public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
			{
				DeserializeLength(stream, size, this, isDelta);
			}

			public static LineVec Deserialize(BufferStream stream, LineVec instance, bool isDelta)
			{
				//IL_001d: Unknown result type (might be due to invalid IL or missing references)
				while (true)
				{
					int num = stream.ReadByte();
					switch (num)
					{
					case 10:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.vec, isDelta);
						continue;
					case -1:
					case 0:
						return instance;
					}
					Key key = ProtocolParser.ReadKey((byte)num, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
				}
			}

			public static LineVec DeserializeLengthDelimited(BufferStream stream, LineVec instance, bool isDelta)
			{
				//IL_0051: Unknown result type (might be due to invalid IL or missing references)
				long num = ProtocolParser.ReadUInt32(stream);
				num += stream.Position;
				while (stream.Position < num)
				{
					int num2 = stream.ReadByte();
					switch (num2)
					{
					case -1:
						throw new EndOfStreamException();
					case 10:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.vec, isDelta);
						continue;
					}
					Key key = ProtocolParser.ReadKey((byte)num2, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
				}
				if (stream.Position != num)
				{
					throw new ProtocolBufferException("Read past max limit");
				}
				return instance;
			}

			public static LineVec DeserializeLength(BufferStream stream, int length, LineVec instance, bool isDelta)
			{
				//IL_0049: Unknown result type (might be due to invalid IL or missing references)
				long num = stream.Position + length;
				while (stream.Position < num)
				{
					int num2 = stream.ReadByte();
					switch (num2)
					{
					case -1:
						throw new EndOfStreamException();
					case 10:
						Vector4Serialized.DeserializeLengthDelimited(stream, ref instance.vec, isDelta);
						continue;
					}
					Key key = ProtocolParser.ReadKey((byte)num2, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
				}
				if (stream.Position != num)
				{
					throw new ProtocolBufferException("Read past max limit");
				}
				return instance;
			}

			public static void SerializeDelta(BufferStream stream, LineVec instance, LineVec previous)
			{
				//IL_0001: Unknown result type (might be due to invalid IL or missing references)
				//IL_0007: Unknown result type (might be due to invalid IL or missing references)
				//IL_002c: Unknown result type (might be due to invalid IL or missing references)
				//IL_0032: Unknown result type (might be due to invalid IL or missing references)
				if (instance.vec != previous.vec)
				{
					stream.WriteByte(10);
					BufferStream.RangeHandle range = stream.GetRange(1);
					int position = stream.Position;
					Vector4Serialized.SerializeDelta(stream, instance.vec, previous.vec);
					int num = stream.Position - position;
					if (num > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vec (UnityEngine.Vector4)");
					}
					Span<byte> span = range.GetSpan();
					ProtocolParser.WriteUInt32((uint)num, span, 0);
				}
			}

			public static void Serialize(BufferStream stream, LineVec instance)
			{
				//IL_0001: Unknown result type (might be due to invalid IL or missing references)
				//IL_0008: Unknown result type (might be due to invalid IL or missing references)
				//IL_000e: Unknown result type (might be due to invalid IL or missing references)
				//IL_002f: Unknown result type (might be due to invalid IL or missing references)
				if (instance.vec != default(Vector4))
				{
					stream.WriteByte(10);
					BufferStream.RangeHandle range = stream.GetRange(1);
					int position = stream.Position;
					Vector4Serialized.Serialize(stream, instance.vec);
					int num = stream.Position - position;
					if (num > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vec (UnityEngine.Vector4)");
					}
					Span<byte> span = range.GetSpan();
					ProtocolParser.WriteUInt32((uint)num, span, 0);
				}
			}

			public void ToProto(BufferStream stream)
			{
				Serialize(stream, this);
			}

			public void InspectUids(UidInspector<ulong> action)
			{
			}
		}

		[NonSerialized]
		public string niceName;

		[NonSerialized]
		public int type;

		[NonSerialized]
		public NetworkableId connectedID;

		[NonSerialized]
		public int connectedToSlot;

		[NonSerialized]
		public bool inUse;

		[NonSerialized]
		public List<LineVec> linePointList;

		[NonSerialized]
		public int colour;

		[NonSerialized]
		public Vector3 worldSpaceRotation;

		[NonSerialized]
		public float lineThickness;

		[NonSerialized]
		public List<WireLineAnchorInfo> lineAnchorList;

		[NonSerialized]
		public Vector3 originPosition;

		[NonSerialized]
		public Vector3 originRotation;

		[NonSerialized]
		public List<float> slackLevels;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(IOConnection instance)
		{
			//IL_00a2: Unknown result type (might be due to invalid IL or missing references)
			//IL_0119: Unknown result type (might be due to invalid IL or missing references)
			//IL_0125: Unknown result type (might be due to invalid IL or missing references)
			if (!instance.ShouldPool)
			{
				return;
			}
			instance.niceName = string.Empty;
			instance.type = 0;
			instance.connectedID = default(NetworkableId);
			instance.connectedToSlot = 0;
			instance.inUse = false;
			if (instance.linePointList != null)
			{
				for (int i = 0; i < instance.linePointList.Count; i++)
				{
					if (instance.linePointList[i] != null)
					{
						instance.linePointList[i].ResetToPool();
						instance.linePointList[i] = null;
					}
				}
				List<LineVec> list = instance.linePointList;
				Pool.Free<LineVec>(ref list, false);
				instance.linePointList = list;
			}
			instance.colour = 0;
			instance.worldSpaceRotation = default(Vector3);
			instance.lineThickness = 0f;
			if (instance.lineAnchorList != null)
			{
				for (int j = 0; j < instance.lineAnchorList.Count; j++)
				{
					if (instance.lineAnchorList[j] != null)
					{
						instance.lineAnchorList[j].ResetToPool();
						instance.lineAnchorList[j] = null;
					}
				}
				List<WireLineAnchorInfo> list2 = instance.lineAnchorList;
				Pool.Free<WireLineAnchorInfo>(ref list2, false);
				instance.lineAnchorList = list2;
			}
			instance.originPosition = default(Vector3);
			instance.originRotation = default(Vector3);
			if (instance.slackLevels != null)
			{
				List<float> list3 = instance.slackLevels;
				Pool.FreeUnmanaged<float>(ref list3);
				instance.slackLevels = list3;
			}
			Pool.Free<IOConnection>(ref instance);
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose IOConnection with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(IOConnection instance)
		{
			//IL_009a: Unknown result type (might be due to invalid IL or missing references)
			//IL_009f: Unknown result type (might be due to invalid IL or missing references)
			//IL_0102: Unknown result type (might be due to invalid IL or missing references)
			//IL_0107: Unknown result type (might be due to invalid IL or missing references)
			//IL_010e: Unknown result type (might be due to invalid IL or missing references)
			//IL_0113: Unknown result type (might be due to invalid IL or missing references)
			instance.niceName = niceName;
			instance.type = type;
			instance.connectedID = connectedID;
			instance.connectedToSlot = connectedToSlot;
			instance.inUse = inUse;
			if (linePointList != null)
			{
				instance.linePointList = Pool.Get<List<LineVec>>();
				for (int i = 0; i < linePointList.Count; i++)
				{
					LineVec item = linePointList[i].Copy();
					instance.linePointList.Add(item);
				}
			}
			else
			{
				instance.linePointList = null;
			}
			instance.colour = colour;
			instance.worldSpaceRotation = worldSpaceRotation;
			instance.lineThickness = lineThickness;
			if (lineAnchorList != null)
			{
				instance.lineAnchorList = Pool.Get<List<WireLineAnchorInfo>>();
				for (int j = 0; j < lineAnchorList.Count; j++)
				{
					WireLineAnchorInfo item2 = lineAnchorList[j].Copy();
					instance.lineAnchorList.Add(item2);
				}
			}
			else
			{
				instance.lineAnchorList = null;
			}
			instance.originPosition = originPosition;
			instance.originRotation = originRotation;
			if (slackLevels != null)
			{
				instance.slackLevels = Pool.Get<List<float>>();
				for (int k = 0; k < slackLevels.Count; k++)
				{
					float item3 = slackLevels[k];
					instance.slackLevels.Add(item3);
				}
			}
			else
			{
				instance.slackLevels = null;
			}
		}

		public IOConnection Copy()
		{
			IOConnection iOConnection = Pool.Get<IOConnection>();
			CopyTo(iOConnection);
			return iOConnection;
		}

		public static IOConnection Deserialize(BufferStream stream)
		{
			IOConnection iOConnection = Pool.Get<IOConnection>();
			Deserialize(stream, iOConnection, isDelta: false);
			return iOConnection;
		}

		public static IOConnection DeserializeLengthDelimited(BufferStream stream)
		{
			IOConnection iOConnection = Pool.Get<IOConnection>();
			DeserializeLengthDelimited(stream, iOConnection, isDelta: false);
			return iOConnection;
		}

		public static IOConnection DeserializeLength(BufferStream stream, int length)
		{
			IOConnection iOConnection = Pool.Get<IOConnection>();
			DeserializeLength(stream, length, iOConnection, isDelta: false);
			return iOConnection;
		}

		public static IOConnection Deserialize(byte[] buffer)
		{
			IOConnection iOConnection = Pool.Get<IOConnection>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, iOConnection, isDelta: false);
			return iOConnection;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, IOConnection previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static IOConnection Deserialize(BufferStream stream, IOConnection instance, bool isDelta)
		{
			//IL_01be: Unknown result type (might be due to invalid IL or missing references)
			//IL_0171: Unknown result type (might be due to invalid IL or missing references)
			//IL_01ab: Unknown result type (might be due to invalid IL or missing references)
			if (!isDelta)
			{
				if (instance.linePointList == null)
				{
					instance.linePointList = Pool.Get<List<LineVec>>();
				}
				if (instance.lineAnchorList == null)
				{
					instance.lineAnchorList = Pool.Get<List<WireLineAnchorInfo>>();
				}
				if (instance.slackLevels == null)
				{
					instance.slackLevels = Pool.Get<List<float>>();
				}
			}
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 10:
					instance.niceName = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.type = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.connectedID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 32:
					instance.connectedToSlot = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.inUse = ProtocolParser.ReadBool(stream);
					continue;
				case 50:
					instance.linePointList.Add(LineVec.DeserializeLengthDelimited(stream));
					continue;
				case 56:
					instance.colour = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 66:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.worldSpaceRotation, isDelta);
					continue;
				case 77:
					instance.lineThickness = ProtocolParser.ReadSingle(stream);
					continue;
				case 82:
					instance.lineAnchorList.Add(WireLineAnchorInfo.DeserializeLengthDelimited(stream));
					continue;
				case 90:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.originPosition, isDelta);
					continue;
				case 98:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.originRotation, isDelta);
					continue;
				case 109:
					instance.slackLevels.Add(ProtocolParser.ReadSingle(stream));
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static IOConnection DeserializeLengthDelimited(BufferStream stream, IOConnection instance, bool isDelta)
		{
			//IL_01ef: Unknown result type (might be due to invalid IL or missing references)
			//IL_01a2: Unknown result type (might be due to invalid IL or missing references)
			//IL_01dc: Unknown result type (might be due to invalid IL or missing references)
			if (!isDelta)
			{
				if (instance.linePointList == null)
				{
					instance.linePointList = Pool.Get<List<LineVec>>();
				}
				if (instance.lineAnchorList == null)
				{
					instance.lineAnchorList = Pool.Get<List<WireLineAnchorInfo>>();
				}
				if (instance.slackLevels == null)
				{
					instance.slackLevels = Pool.Get<List<float>>();
				}
			}
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.niceName = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.type = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.connectedID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 32:
					instance.connectedToSlot = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.inUse = ProtocolParser.ReadBool(stream);
					continue;
				case 50:
					instance.linePointList.Add(LineVec.DeserializeLengthDelimited(stream));
					continue;
				case 56:
					instance.colour = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 66:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.worldSpaceRotation, isDelta);
					continue;
				case 77:
					instance.lineThickness = ProtocolParser.ReadSingle(stream);
					continue;
				case 82:
					instance.lineAnchorList.Add(WireLineAnchorInfo.DeserializeLengthDelimited(stream));
					continue;
				case 90:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.originPosition, isDelta);
					continue;
				case 98:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.originRotation, isDelta);
					continue;
				case 109:
					instance.slackLevels.Add(ProtocolParser.ReadSingle(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static IOConnection DeserializeLength(BufferStream stream, int length, IOConnection instance, bool isDelta)
		{
			//IL_01e7: Unknown result type (might be due to invalid IL or missing references)
			//IL_019a: Unknown result type (might be due to invalid IL or missing references)
			//IL_01d4: Unknown result type (might be due to invalid IL or missing references)
			if (!isDelta)
			{
				if (instance.linePointList == null)
				{
					instance.linePointList = Pool.Get<List<LineVec>>();
				}
				if (instance.lineAnchorList == null)
				{
					instance.lineAnchorList = Pool.Get<List<WireLineAnchorInfo>>();
				}
				if (instance.slackLevels == null)
				{
					instance.slackLevels = Pool.Get<List<float>>();
				}
			}
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.niceName = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.type = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.connectedID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 32:
					instance.connectedToSlot = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.inUse = ProtocolParser.ReadBool(stream);
					continue;
				case 50:
					instance.linePointList.Add(LineVec.DeserializeLengthDelimited(stream));
					continue;
				case 56:
					instance.colour = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 66:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.worldSpaceRotation, isDelta);
					continue;
				case 77:
					instance.lineThickness = ProtocolParser.ReadSingle(stream);
					continue;
				case 82:
					instance.lineAnchorList.Add(WireLineAnchorInfo.DeserializeLengthDelimited(stream));
					continue;
				case 90:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.originPosition, isDelta);
					continue;
				case 98:
					Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.originRotation, isDelta);
					continue;
				case 109:
					instance.slackLevels.Add(ProtocolParser.ReadSingle(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, IOConnection instance, IOConnection previous)
		{
			//IL_013a: Unknown result type (might be due to invalid IL or missing references)
			//IL_0140: Unknown result type (might be due to invalid IL or missing references)
			//IL_0167: Unknown result type (might be due to invalid IL or missing references)
			//IL_016d: Unknown result type (might be due to invalid IL or missing references)
			//IL_027d: Unknown result type (might be due to invalid IL or missing references)
			//IL_0283: Unknown result type (might be due to invalid IL or missing references)
			//IL_02e6: Unknown result type (might be due to invalid IL or missing references)
			//IL_02ec: Unknown result type (might be due to invalid IL or missing references)
			//IL_02aa: Unknown result type (might be due to invalid IL or missing references)
			//IL_02b0: Unknown result type (might be due to invalid IL or missing references)
			//IL_0313: Unknown result type (might be due to invalid IL or missing references)
			//IL_0319: Unknown result type (might be due to invalid IL or missing references)
			if (instance.niceName != null && instance.niceName != previous.niceName)
			{
				stream.WriteByte(10);
				ProtocolParser.WriteString(stream, instance.niceName);
			}
			if (instance.type != previous.type)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.type);
			}
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.connectedID.Value);
			if (instance.connectedToSlot != previous.connectedToSlot)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.connectedToSlot);
			}
			stream.WriteByte(40);
			ProtocolParser.WriteBool(stream, instance.inUse);
			if (instance.linePointList != null)
			{
				for (int i = 0; i < instance.linePointList.Count; i++)
				{
					LineVec lineVec = instance.linePointList[i];
					stream.WriteByte(50);
					BufferStream.RangeHandle range = stream.GetRange(1);
					int position = stream.Position;
					LineVec.SerializeDelta(stream, lineVec, lineVec);
					int num = stream.Position - position;
					if (num > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field linePointList (ProtoBuf.IOEntity.IOConnection.LineVec)");
					}
					Span<byte> span = range.GetSpan();
					ProtocolParser.WriteUInt32((uint)num, span, 0);
				}
			}
			if (instance.colour != previous.colour)
			{
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.colour);
			}
			if (instance.worldSpaceRotation != previous.worldSpaceRotation)
			{
				stream.WriteByte(66);
				BufferStream.RangeHandle range2 = stream.GetRange(1);
				int position2 = stream.Position;
				Vector3Serialized.SerializeDelta(stream, instance.worldSpaceRotation, previous.worldSpaceRotation);
				int num2 = stream.Position - position2;
				if (num2 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field worldSpaceRotation (UnityEngine.Vector3)");
				}
				Span<byte> span2 = range2.GetSpan();
				ProtocolParser.WriteUInt32((uint)num2, span2, 0);
			}
			if (instance.lineThickness != previous.lineThickness)
			{
				stream.WriteByte(77);
				ProtocolParser.WriteSingle(stream, instance.lineThickness);
			}
			if (instance.lineAnchorList != null)
			{
				for (int j = 0; j < instance.lineAnchorList.Count; j++)
				{
					WireLineAnchorInfo wireLineAnchorInfo = instance.lineAnchorList[j];
					stream.WriteByte(82);
					BufferStream.RangeHandle range3 = stream.GetRange(5);
					int position3 = stream.Position;
					WireLineAnchorInfo.SerializeDelta(stream, wireLineAnchorInfo, wireLineAnchorInfo);
					int val = stream.Position - position3;
					Span<byte> span3 = range3.GetSpan();
					int num3 = ProtocolParser.WriteUInt32((uint)val, span3, 0);
					if (num3 < 5)
					{
						span3[num3 - 1] |= 128;
						while (num3 < 4)
						{
							span3[num3++] = 128;
						}
						span3[4] = 0;
					}
				}
			}
			if (instance.originPosition != previous.originPosition)
			{
				stream.WriteByte(90);
				BufferStream.RangeHandle range4 = stream.GetRange(1);
				int position4 = stream.Position;
				Vector3Serialized.SerializeDelta(stream, instance.originPosition, previous.originPosition);
				int num4 = stream.Position - position4;
				if (num4 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field originPosition (UnityEngine.Vector3)");
				}
				Span<byte> span4 = range4.GetSpan();
				ProtocolParser.WriteUInt32((uint)num4, span4, 0);
			}
			if (instance.originRotation != previous.originRotation)
			{
				stream.WriteByte(98);
				BufferStream.RangeHandle range5 = stream.GetRange(1);
				int position5 = stream.Position;
				Vector3Serialized.SerializeDelta(stream, instance.originRotation, previous.originRotation);
				int num5 = stream.Position - position5;
				if (num5 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field originRotation (UnityEngine.Vector3)");
				}
				Span<byte> span5 = range5.GetSpan();
				ProtocolParser.WriteUInt32((uint)num5, span5, 0);
			}
			if (instance.slackLevels != null)
			{
				for (int k = 0; k < instance.slackLevels.Count; k++)
				{
					float f = instance.slackLevels[k];
					stream.WriteByte(109);
					ProtocolParser.WriteSingle(stream, f);
				}
			}
		}

		public static void Serialize(BufferStream stream, IOConnection instance)
		{
			//IL_0134: Unknown result type (might be due to invalid IL or missing references)
			//IL_013b: Unknown result type (might be due to invalid IL or missing references)
			//IL_0141: Unknown result type (might be due to invalid IL or missing references)
			//IL_0165: Unknown result type (might be due to invalid IL or missing references)
			//IL_0272: Unknown result type (might be due to invalid IL or missing references)
			//IL_0279: Unknown result type (might be due to invalid IL or missing references)
			//IL_027f: Unknown result type (might be due to invalid IL or missing references)
			//IL_02d9: Unknown result type (might be due to invalid IL or missing references)
			//IL_02e0: Unknown result type (might be due to invalid IL or missing references)
			//IL_02e6: Unknown result type (might be due to invalid IL or missing references)
			//IL_02a3: Unknown result type (might be due to invalid IL or missing references)
			//IL_030a: Unknown result type (might be due to invalid IL or missing references)
			if (instance.niceName != null)
			{
				stream.WriteByte(10);
				ProtocolParser.WriteString(stream, instance.niceName);
			}
			if (instance.type != 0)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.type);
			}
			if (instance.connectedID != default(NetworkableId))
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, instance.connectedID.Value);
			}
			if (instance.connectedToSlot != 0)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.connectedToSlot);
			}
			if (instance.inUse)
			{
				stream.WriteByte(40);
				ProtocolParser.WriteBool(stream, instance.inUse);
			}
			if (instance.linePointList != null)
			{
				for (int i = 0; i < instance.linePointList.Count; i++)
				{
					LineVec instance2 = instance.linePointList[i];
					stream.WriteByte(50);
					BufferStream.RangeHandle range = stream.GetRange(1);
					int position = stream.Position;
					LineVec.Serialize(stream, instance2);
					int num = stream.Position - position;
					if (num > 127)
					{
						throw new InvalidOperationException("Not enough space was reserved for the length prefix of field linePointList (ProtoBuf.IOEntity.IOConnection.LineVec)");
					}
					Span<byte> span = range.GetSpan();
					ProtocolParser.WriteUInt32((uint)num, span, 0);
				}
			}
			if (instance.colour != 0)
			{
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.colour);
			}
			if (instance.worldSpaceRotation != default(Vector3))
			{
				stream.WriteByte(66);
				BufferStream.RangeHandle range2 = stream.GetRange(1);
				int position2 = stream.Position;
				Vector3Serialized.Serialize(stream, instance.worldSpaceRotation);
				int num2 = stream.Position - position2;
				if (num2 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field worldSpaceRotation (UnityEngine.Vector3)");
				}
				Span<byte> span2 = range2.GetSpan();
				ProtocolParser.WriteUInt32((uint)num2, span2, 0);
			}
			if (instance.lineThickness != 0f)
			{
				stream.WriteByte(77);
				ProtocolParser.WriteSingle(stream, instance.lineThickness);
			}
			if (instance.lineAnchorList != null)
			{
				for (int j = 0; j < instance.lineAnchorList.Count; j++)
				{
					WireLineAnchorInfo instance3 = instance.lineAnchorList[j];
					stream.WriteByte(82);
					BufferStream.RangeHandle range3 = stream.GetRange(5);
					int position3 = stream.Position;
					WireLineAnchorInfo.Serialize(stream, instance3);
					int val = stream.Position - position3;
					Span<byte> span3 = range3.GetSpan();
					int num3 = ProtocolParser.WriteUInt32((uint)val, span3, 0);
					if (num3 < 5)
					{
						span3[num3 - 1] |= 128;
						while (num3 < 4)
						{
							span3[num3++] = 128;
						}
						span3[4] = 0;
					}
				}
			}
			if (instance.originPosition != default(Vector3))
			{
				stream.WriteByte(90);
				BufferStream.RangeHandle range4 = stream.GetRange(1);
				int position4 = stream.Position;
				Vector3Serialized.Serialize(stream, instance.originPosition);
				int num4 = stream.Position - position4;
				if (num4 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field originPosition (UnityEngine.Vector3)");
				}
				Span<byte> span4 = range4.GetSpan();
				ProtocolParser.WriteUInt32((uint)num4, span4, 0);
			}
			if (instance.originRotation != default(Vector3))
			{
				stream.WriteByte(98);
				BufferStream.RangeHandle range5 = stream.GetRange(1);
				int position5 = stream.Position;
				Vector3Serialized.Serialize(stream, instance.originRotation);
				int num5 = stream.Position - position5;
				if (num5 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field originRotation (UnityEngine.Vector3)");
				}
				Span<byte> span5 = range5.GetSpan();
				ProtocolParser.WriteUInt32((uint)num5, span5, 0);
			}
			if (instance.slackLevels != null)
			{
				for (int k = 0; k < instance.slackLevels.Count; k++)
				{
					float f = instance.slackLevels[k];
					stream.WriteByte(109);
					ProtocolParser.WriteSingle(stream, f);
				}
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			action(UidType.NetworkableId, ref connectedID.Value);
			if (linePointList != null)
			{
				for (int i = 0; i < linePointList.Count; i++)
				{
					linePointList[i]?.InspectUids(action);
				}
			}
			if (lineAnchorList != null)
			{
				for (int j = 0; j < lineAnchorList.Count; j++)
				{
					lineAnchorList[j]?.InspectUids(action);
				}
			}
		}
	}

	[NonSerialized]
	public List<IOConnection> inputs;

	[NonSerialized]
	public List<IOConnection> outputs;

	[NonSerialized]
	public NetworkableId genericEntRef1;

	[NonSerialized]
	public NetworkableId genericEntRef2;

	[NonSerialized]
	public NetworkableId genericEntRef3;

	[NonSerialized]
	public int genericInt1;

	[NonSerialized]
	public int genericInt2;

	[NonSerialized]
	public float genericFloat1;

	[NonSerialized]
	public float genericFloat2;

	[NonSerialized]
	public int genericInt3;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(IOEntity instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.inputs != null)
		{
			for (int i = 0; i < instance.inputs.Count; i++)
			{
				if (instance.inputs[i] != null)
				{
					instance.inputs[i].ResetToPool();
					instance.inputs[i] = null;
				}
			}
			List<IOConnection> list = instance.inputs;
			Pool.Free<IOConnection>(ref list, false);
			instance.inputs = list;
		}
		if (instance.outputs != null)
		{
			for (int j = 0; j < instance.outputs.Count; j++)
			{
				if (instance.outputs[j] != null)
				{
					instance.outputs[j].ResetToPool();
					instance.outputs[j] = null;
				}
			}
			List<IOConnection> list2 = instance.outputs;
			Pool.Free<IOConnection>(ref list2, false);
			instance.outputs = list2;
		}
		instance.genericEntRef1 = default(NetworkableId);
		instance.genericEntRef2 = default(NetworkableId);
		instance.genericEntRef3 = default(NetworkableId);
		instance.genericInt1 = 0;
		instance.genericInt2 = 0;
		instance.genericFloat1 = 0f;
		instance.genericFloat2 = 0f;
		instance.genericInt3 = 0;
		Pool.Free<IOEntity>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose IOEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(IOEntity instance)
	{
		if (inputs != null)
		{
			instance.inputs = Pool.Get<List<IOConnection>>();
			for (int i = 0; i < inputs.Count; i++)
			{
				IOConnection item = inputs[i].Copy();
				instance.inputs.Add(item);
			}
		}
		else
		{
			instance.inputs = null;
		}
		if (outputs != null)
		{
			instance.outputs = Pool.Get<List<IOConnection>>();
			for (int j = 0; j < outputs.Count; j++)
			{
				IOConnection item2 = outputs[j].Copy();
				instance.outputs.Add(item2);
			}
		}
		else
		{
			instance.outputs = null;
		}
		instance.genericEntRef1 = genericEntRef1;
		instance.genericEntRef2 = genericEntRef2;
		instance.genericEntRef3 = genericEntRef3;
		instance.genericInt1 = genericInt1;
		instance.genericInt2 = genericInt2;
		instance.genericFloat1 = genericFloat1;
		instance.genericFloat2 = genericFloat2;
		instance.genericInt3 = genericInt3;
	}

	public IOEntity Copy()
	{
		IOEntity iOEntity = Pool.Get<IOEntity>();
		CopyTo(iOEntity);
		return iOEntity;
	}

	public static IOEntity Deserialize(BufferStream stream)
	{
		IOEntity iOEntity = Pool.Get<IOEntity>();
		Deserialize(stream, iOEntity, isDelta: false);
		return iOEntity;
	}

	public static IOEntity DeserializeLengthDelimited(BufferStream stream)
	{
		IOEntity iOEntity = Pool.Get<IOEntity>();
		DeserializeLengthDelimited(stream, iOEntity, isDelta: false);
		return iOEntity;
	}

	public static IOEntity DeserializeLength(BufferStream stream, int length)
	{
		IOEntity iOEntity = Pool.Get<IOEntity>();
		DeserializeLength(stream, length, iOEntity, isDelta: false);
		return iOEntity;
	}

	public static IOEntity Deserialize(byte[] buffer)
	{
		IOEntity iOEntity = Pool.Get<IOEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, iOEntity, isDelta: false);
		return iOEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, IOEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static IOEntity Deserialize(BufferStream stream, IOEntity instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.inputs == null)
			{
				instance.inputs = Pool.Get<List<IOConnection>>();
			}
			if (instance.outputs == null)
			{
				instance.outputs = Pool.Get<List<IOConnection>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.inputs.Add(IOConnection.DeserializeLengthDelimited(stream));
				continue;
			case 18:
				instance.outputs.Add(IOConnection.DeserializeLengthDelimited(stream));
				continue;
			case 24:
				instance.genericEntRef1 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.genericEntRef2 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.genericEntRef3 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.genericInt1 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.genericInt2 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 69:
				instance.genericFloat1 = ProtocolParser.ReadSingle(stream);
				continue;
			case 77:
				instance.genericFloat2 = ProtocolParser.ReadSingle(stream);
				continue;
			case 80:
				instance.genericInt3 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static IOEntity DeserializeLengthDelimited(BufferStream stream, IOEntity instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.inputs == null)
			{
				instance.inputs = Pool.Get<List<IOConnection>>();
			}
			if (instance.outputs == null)
			{
				instance.outputs = Pool.Get<List<IOConnection>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.inputs.Add(IOConnection.DeserializeLengthDelimited(stream));
				continue;
			case 18:
				instance.outputs.Add(IOConnection.DeserializeLengthDelimited(stream));
				continue;
			case 24:
				instance.genericEntRef1 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.genericEntRef2 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.genericEntRef3 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.genericInt1 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.genericInt2 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 69:
				instance.genericFloat1 = ProtocolParser.ReadSingle(stream);
				continue;
			case 77:
				instance.genericFloat2 = ProtocolParser.ReadSingle(stream);
				continue;
			case 80:
				instance.genericInt3 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static IOEntity DeserializeLength(BufferStream stream, int length, IOEntity instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.inputs == null)
			{
				instance.inputs = Pool.Get<List<IOConnection>>();
			}
			if (instance.outputs == null)
			{
				instance.outputs = Pool.Get<List<IOConnection>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.inputs.Add(IOConnection.DeserializeLengthDelimited(stream));
				continue;
			case 18:
				instance.outputs.Add(IOConnection.DeserializeLengthDelimited(stream));
				continue;
			case 24:
				instance.genericEntRef1 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.genericEntRef2 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.genericEntRef3 = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.genericInt1 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.genericInt2 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 69:
				instance.genericFloat1 = ProtocolParser.ReadSingle(stream);
				continue;
			case 77:
				instance.genericFloat2 = ProtocolParser.ReadSingle(stream);
				continue;
			case 80:
				instance.genericInt3 = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, IOEntity instance, IOEntity previous)
	{
		if (instance.inputs != null)
		{
			for (int i = 0; i < instance.inputs.Count; i++)
			{
				IOConnection iOConnection = instance.inputs[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				IOConnection.SerializeDelta(stream, iOConnection, iOConnection);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
		}
		if (instance.outputs != null)
		{
			for (int j = 0; j < instance.outputs.Count; j++)
			{
				IOConnection iOConnection2 = instance.outputs[j];
				stream.WriteByte(18);
				BufferStream.RangeHandle range2 = stream.GetRange(5);
				int position2 = stream.Position;
				IOConnection.SerializeDelta(stream, iOConnection2, iOConnection2);
				int val2 = stream.Position - position2;
				Span<byte> span2 = range2.GetSpan();
				int num2 = ProtocolParser.WriteUInt32((uint)val2, span2, 0);
				if (num2 < 5)
				{
					span2[num2 - 1] |= 128;
					while (num2 < 4)
					{
						span2[num2++] = 128;
					}
					span2[4] = 0;
				}
			}
		}
		stream.WriteByte(24);
		ProtocolParser.WriteUInt64(stream, instance.genericEntRef1.Value);
		stream.WriteByte(32);
		ProtocolParser.WriteUInt64(stream, instance.genericEntRef2.Value);
		stream.WriteByte(40);
		ProtocolParser.WriteUInt64(stream, instance.genericEntRef3.Value);
		if (instance.genericInt1 != previous.genericInt1)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genericInt1);
		}
		if (instance.genericInt2 != previous.genericInt2)
		{
			stream.WriteByte(56);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genericInt2);
		}
		if (instance.genericFloat1 != previous.genericFloat1)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.genericFloat1);
		}
		if (instance.genericFloat2 != previous.genericFloat2)
		{
			stream.WriteByte(77);
			ProtocolParser.WriteSingle(stream, instance.genericFloat2);
		}
		if (instance.genericInt3 != previous.genericInt3)
		{
			stream.WriteByte(80);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genericInt3);
		}
	}

	public static void Serialize(BufferStream stream, IOEntity instance)
	{
		if (instance.inputs != null)
		{
			for (int i = 0; i < instance.inputs.Count; i++)
			{
				IOConnection instance2 = instance.inputs[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				IOConnection.Serialize(stream, instance2);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
		}
		if (instance.outputs != null)
		{
			for (int j = 0; j < instance.outputs.Count; j++)
			{
				IOConnection instance3 = instance.outputs[j];
				stream.WriteByte(18);
				BufferStream.RangeHandle range2 = stream.GetRange(5);
				int position2 = stream.Position;
				IOConnection.Serialize(stream, instance3);
				int val2 = stream.Position - position2;
				Span<byte> span2 = range2.GetSpan();
				int num2 = ProtocolParser.WriteUInt32((uint)val2, span2, 0);
				if (num2 < 5)
				{
					span2[num2 - 1] |= 128;
					while (num2 < 4)
					{
						span2[num2++] = 128;
					}
					span2[4] = 0;
				}
			}
		}
		if (instance.genericEntRef1 != default(NetworkableId))
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.genericEntRef1.Value);
		}
		if (instance.genericEntRef2 != default(NetworkableId))
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, instance.genericEntRef2.Value);
		}
		if (instance.genericEntRef3 != default(NetworkableId))
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, instance.genericEntRef3.Value);
		}
		if (instance.genericInt1 != 0)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genericInt1);
		}
		if (instance.genericInt2 != 0)
		{
			stream.WriteByte(56);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genericInt2);
		}
		if (instance.genericFloat1 != 0f)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.genericFloat1);
		}
		if (instance.genericFloat2 != 0f)
		{
			stream.WriteByte(77);
			ProtocolParser.WriteSingle(stream, instance.genericFloat2);
		}
		if (instance.genericInt3 != 0)
		{
			stream.WriteByte(80);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genericInt3);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (inputs != null)
		{
			for (int i = 0; i < inputs.Count; i++)
			{
				inputs[i]?.InspectUids(action);
			}
		}
		if (outputs != null)
		{
			for (int j = 0; j < outputs.Count; j++)
			{
				outputs[j]?.InspectUids(action);
			}
		}
		action(UidType.NetworkableId, ref genericEntRef1.Value);
		action(UidType.NetworkableId, ref genericEntRef2.Value);
		action(UidType.NetworkableId, ref genericEntRef3.Value);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Item : IDisposable, IPooled, IProto<Item>, IProto
{
	public class ConditionData : IDisposable, IPooled, IProto<ConditionData>, IProto
	{
		[NonSerialized]
		public float condition;

		[NonSerialized]
		public float maxCondition;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(ConditionData instance)
		{
			if (instance.ShouldPool)
			{
				instance.condition = 0f;
				instance.maxCondition = 0f;
				Pool.Free<ConditionData>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose ConditionData with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(ConditionData instance)
		{
			instance.condition = condition;
			instance.maxCondition = maxCondition;
		}

		public ConditionData Copy()
		{
			ConditionData conditionData = Pool.Get<ConditionData>();
			CopyTo(conditionData);
			return conditionData;
		}

		public static ConditionData Deserialize(BufferStream stream)
		{
			ConditionData conditionData = Pool.Get<ConditionData>();
			Deserialize(stream, conditionData, isDelta: false);
			return conditionData;
		}

		public static ConditionData DeserializeLengthDelimited(BufferStream stream)
		{
			ConditionData conditionData = Pool.Get<ConditionData>();
			DeserializeLengthDelimited(stream, conditionData, isDelta: false);
			return conditionData;
		}

		public static ConditionData DeserializeLength(BufferStream stream, int length)
		{
			ConditionData conditionData = Pool.Get<ConditionData>();
			DeserializeLength(stream, length, conditionData, isDelta: false);
			return conditionData;
		}

		public static ConditionData Deserialize(byte[] buffer)
		{
			ConditionData conditionData = Pool.Get<ConditionData>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, conditionData, isDelta: false);
			return conditionData;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, ConditionData previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static ConditionData Deserialize(BufferStream stream, ConditionData instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 13:
					instance.condition = ProtocolParser.ReadSingle(stream);
					continue;
				case 21:
					instance.maxCondition = ProtocolParser.ReadSingle(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static ConditionData DeserializeLengthDelimited(BufferStream stream, ConditionData instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 13:
					instance.condition = ProtocolParser.ReadSingle(stream);
					continue;
				case 21:
					instance.maxCondition = ProtocolParser.ReadSingle(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static ConditionData DeserializeLength(BufferStream stream, int length, ConditionData instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 13:
					instance.condition = ProtocolParser.ReadSingle(stream);
					continue;
				case 21:
					instance.maxCondition = ProtocolParser.ReadSingle(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, ConditionData instance, ConditionData previous)
		{
			if (instance.condition != previous.condition)
			{
				stream.WriteByte(13);
				ProtocolParser.WriteSingle(stream, instance.condition);
			}
			if (instance.maxCondition != previous.maxCondition)
			{
				stream.WriteByte(21);
				ProtocolParser.WriteSingle(stream, instance.maxCondition);
			}
		}

		public static void Serialize(BufferStream stream, ConditionData instance)
		{
			if (instance.condition != 0f)
			{
				stream.WriteByte(13);
				ProtocolParser.WriteSingle(stream, instance.condition);
			}
			if (instance.maxCondition != 0f)
			{
				stream.WriteByte(21);
				ProtocolParser.WriteSingle(stream, instance.maxCondition);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	public class InstanceData : IDisposable, IPooled, IProto<InstanceData>, IProto
	{
		[NonSerialized]
		public int dataInt;

		[NonSerialized]
		public int blueprintTarget;

		[NonSerialized]
		public int blueprintAmount;

		[NonSerialized]
		public NetworkableId subEntity;

		[NonSerialized]
		public float dataFloat;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(InstanceData instance)
		{
			if (instance.ShouldPool)
			{
				instance.dataInt = 0;
				instance.blueprintTarget = 0;
				instance.blueprintAmount = 0;
				instance.subEntity = default(NetworkableId);
				instance.dataFloat = 0f;
				Pool.Free<InstanceData>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose InstanceData with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(InstanceData instance)
		{
			instance.dataInt = dataInt;
			instance.blueprintTarget = blueprintTarget;
			instance.blueprintAmount = blueprintAmount;
			instance.subEntity = subEntity;
			instance.dataFloat = dataFloat;
		}

		public InstanceData Copy()
		{
			InstanceData instanceData = Pool.Get<InstanceData>();
			CopyTo(instanceData);
			return instanceData;
		}

		public static InstanceData Deserialize(BufferStream stream)
		{
			InstanceData instanceData = Pool.Get<InstanceData>();
			Deserialize(stream, instanceData, isDelta: false);
			return instanceData;
		}

		public static InstanceData DeserializeLengthDelimited(BufferStream stream)
		{
			InstanceData instanceData = Pool.Get<InstanceData>();
			DeserializeLengthDelimited(stream, instanceData, isDelta: false);
			return instanceData;
		}

		public static InstanceData DeserializeLength(BufferStream stream, int length)
		{
			InstanceData instanceData = Pool.Get<InstanceData>();
			DeserializeLength(stream, length, instanceData, isDelta: false);
			return instanceData;
		}

		public static InstanceData Deserialize(byte[] buffer)
		{
			InstanceData instanceData = Pool.Get<InstanceData>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, instanceData, isDelta: false);
			return instanceData;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, InstanceData previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static InstanceData Deserialize(BufferStream stream, InstanceData instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.dataInt = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.blueprintTarget = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.blueprintAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.subEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 45:
					instance.dataFloat = ProtocolParser.ReadSingle(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static InstanceData DeserializeLengthDelimited(BufferStream stream, InstanceData instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.dataInt = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.blueprintTarget = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.blueprintAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.subEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 45:
					instance.dataFloat = ProtocolParser.ReadSingle(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static InstanceData DeserializeLength(BufferStream stream, int length, InstanceData instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.dataInt = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.blueprintTarget = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.blueprintAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.subEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case 45:
					instance.dataFloat = ProtocolParser.ReadSingle(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, InstanceData instance, InstanceData previous)
		{
			if (instance.dataInt != previous.dataInt)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.dataInt);
			}
			if (instance.blueprintTarget != previous.blueprintTarget)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.blueprintTarget);
			}
			if (instance.blueprintAmount != previous.blueprintAmount)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.blueprintAmount);
			}
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, instance.subEntity.Value);
			if (instance.dataFloat != previous.dataFloat)
			{
				stream.WriteByte(45);
				ProtocolParser.WriteSingle(stream, instance.dataFloat);
			}
		}

		public static void Serialize(BufferStream stream, InstanceData instance)
		{
			if (instance.dataInt != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.dataInt);
			}
			if (instance.blueprintTarget != 0)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.blueprintTarget);
			}
			if (instance.blueprintAmount != 0)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.blueprintAmount);
			}
			if (instance.subEntity != default(NetworkableId))
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, instance.subEntity.Value);
			}
			if (instance.dataFloat != 0f)
			{
				stream.WriteByte(45);
				ProtocolParser.WriteSingle(stream, instance.dataFloat);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			action(UidType.NetworkableId, ref subEntity.Value);
		}
	}

	[NonSerialized]
	public ItemId UID;

	[NonSerialized]
	public int itemid;

	[NonSerialized]
	public int slot;

	[NonSerialized]
	public int amount;

	[NonSerialized]
	public int flags;

	[NonSerialized]
	public float removetime;

	[NonSerialized]
	public float locktime;

	[NonSerialized]
	public NetworkableId worldEntity;

	[NonSerialized]
	public InstanceData instanceData;

	[NonSerialized]
	public NetworkableId heldEntity;

	[NonSerialized]
	public ConditionData conditionData;

	[NonSerialized]
	public string name;

	[NonSerialized]
	public string text;

	[NonSerialized]
	public ulong skinid;

	[NonSerialized]
	public float cooktime;

	[NonSerialized]
	public string streamerName;

	[NonSerialized]
	public int ammoCount;

	[NonSerialized]
	public List<ItemOwnershipAmount> ownership;

	[NonSerialized]
	public uint iconImageId;

	[NonSerialized]
	public ItemContainer contents;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Item instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		instance.UID = default(ItemId);
		instance.itemid = 0;
		instance.slot = 0;
		instance.amount = 0;
		instance.flags = 0;
		instance.removetime = 0f;
		instance.locktime = 0f;
		instance.worldEntity = default(NetworkableId);
		if (instance.instanceData != null)
		{
			instance.instanceData.ResetToPool();
			instance.instanceData = null;
		}
		instance.heldEntity = default(NetworkableId);
		if (instance.conditionData != null)
		{
			instance.conditionData.ResetToPool();
			instance.conditionData = null;
		}
		instance.name = string.Empty;
		instance.text = string.Empty;
		instance.skinid = 0uL;
		instance.cooktime = 0f;
		instance.streamerName = string.Empty;
		instance.ammoCount = 0;
		if (instance.ownership != null)
		{
			for (int i = 0; i < instance.ownership.Count; i++)
			{
				if (instance.ownership[i] != null)
				{
					instance.ownership[i].ResetToPool();
					instance.ownership[i] = null;
				}
			}
			List<ItemOwnershipAmount> list = instance.ownership;
			Pool.Free<ItemOwnershipAmount>(ref list, false);
			instance.ownership = list;
		}
		instance.iconImageId = 0u;
		if (instance.contents != null)
		{
			instance.contents.ResetToPool();
			instance.contents = null;
		}
		Pool.Free<Item>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Item with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Item instance)
	{
		instance.UID = UID;
		instance.itemid = itemid;
		instance.slot = slot;
		instance.amount = amount;
		instance.flags = flags;
		instance.removetime = removetime;
		instance.locktime = locktime;
		instance.worldEntity = worldEntity;
		if (instanceData != null)
		{
			if (instance.instanceData == null)
			{
				instance.instanceData = instanceData.Copy();
			}
			else
			{
				instanceData.CopyTo(instance.instanceData);
			}
		}
		else
		{
			instance.instanceData = null;
		}
		instance.heldEntity = heldEntity;
		if (conditionData != null)
		{
			if (instance.conditionData == null)
			{
				instance.conditionData = conditionData.Copy();
			}
			else
			{
				conditionData.CopyTo(instance.conditionData);
			}
		}
		else
		{
			instance.conditionData = null;
		}
		instance.name = name;
		instance.text = text;
		instance.skinid = skinid;
		instance.cooktime = cooktime;
		instance.streamerName = streamerName;
		instance.ammoCount = ammoCount;
		if (ownership != null)
		{
			instance.ownership = Pool.Get<List<ItemOwnershipAmount>>();
			for (int i = 0; i < ownership.Count; i++)
			{
				ItemOwnershipAmount item = ownership[i].Copy();
				instance.ownership.Add(item);
			}
		}
		else
		{
			instance.ownership = null;
		}
		instance.iconImageId = iconImageId;
		if (contents != null)
		{
			if (instance.contents == null)
			{
				instance.contents = contents.Copy();
			}
			else
			{
				contents.CopyTo(instance.contents);
			}
		}
		else
		{
			instance.contents = null;
		}
	}

	public Item Copy()
	{
		Item item = Pool.Get<Item>();
		CopyTo(item);
		return item;
	}

	public static Item Deserialize(BufferStream stream)
	{
		Item item = Pool.Get<Item>();
		Deserialize(stream, item, isDelta: false);
		return item;
	}

	public static Item DeserializeLengthDelimited(BufferStream stream)
	{
		Item item = Pool.Get<Item>();
		DeserializeLengthDelimited(stream, item, isDelta: false);
		return item;
	}

	public static Item DeserializeLength(BufferStream stream, int length)
	{
		Item item = Pool.Get<Item>();
		DeserializeLength(stream, length, item, isDelta: false);
		return item;
	}

	public static Item Deserialize(byte[] buffer)
	{
		Item item = Pool.Get<Item>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, item, isDelta: false);
		return item;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Item previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Item Deserialize(BufferStream stream, Item instance, bool isDelta)
	{
		if (!isDelta && instance.ownership == null)
		{
			instance.ownership = Pool.Get<List<ItemOwnershipAmount>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.UID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.itemid = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.slot = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.amount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 53:
				instance.removetime = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.locktime = ProtocolParser.ReadSingle(stream);
				continue;
			case 64:
				instance.worldEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 74:
				if (instance.instanceData == null)
				{
					instance.instanceData = InstanceData.DeserializeLengthDelimited(stream);
				}
				else
				{
					InstanceData.DeserializeLengthDelimited(stream, instance.instanceData, isDelta);
				}
				continue;
			case 80:
				instance.heldEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 90:
				if (instance.conditionData == null)
				{
					instance.conditionData = ConditionData.DeserializeLengthDelimited(stream);
				}
				else
				{
					ConditionData.DeserializeLengthDelimited(stream, instance.conditionData, isDelta);
				}
				continue;
			case 114:
				instance.name = ProtocolParser.ReadString(stream);
				continue;
			case 122:
				instance.text = ProtocolParser.ReadString(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Varint)
				{
					instance.skinid = ProtocolParser.ReadUInt64(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.cooktime = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.streamerName = ProtocolParser.ReadString(stream);
				}
				break;
			case 19u:
				if (key.WireType == Wire.Varint)
				{
					instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.ownership.Add(ItemOwnershipAmount.DeserializeLengthDelimited(stream));
				}
				break;
			case 21u:
				if (key.WireType == Wire.Varint)
				{
					instance.iconImageId = ProtocolParser.ReadUInt32(stream);
				}
				break;
			case 100u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.contents == null)
					{
						instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
	}

	public static Item DeserializeLengthDelimited(BufferStream stream, Item instance, bool isDelta)
	{
		if (!isDelta && instance.ownership == null)
		{
			instance.ownership = Pool.Get<List<ItemOwnershipAmount>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.UID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.itemid = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.slot = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.amount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 53:
				instance.removetime = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.locktime = ProtocolParser.ReadSingle(stream);
				continue;
			case 64:
				instance.worldEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 74:
				if (instance.instanceData == null)
				{
					instance.instanceData = InstanceData.DeserializeLengthDelimited(stream);
				}
				else
				{
					InstanceData.DeserializeLengthDelimited(stream, instance.instanceData, isDelta);
				}
				continue;
			case 80:
				instance.heldEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 90:
				if (instance.conditionData == null)
				{
					instance.conditionData = ConditionData.DeserializeLengthDelimited(stream);
				}
				else
				{
					ConditionData.DeserializeLengthDelimited(stream, instance.conditionData, isDelta);
				}
				continue;
			case 114:
				instance.name = ProtocolParser.ReadString(stream);
				continue;
			case 122:
				instance.text = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Varint)
				{
					instance.skinid = ProtocolParser.ReadUInt64(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.cooktime = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.streamerName = ProtocolParser.ReadString(stream);
				}
				break;
			case 19u:
				if (key.WireType == Wire.Varint)
				{
					instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.ownership.Add(ItemOwnershipAmount.DeserializeLengthDelimited(stream));
				}
				break;
			case 21u:
				if (key.WireType == Wire.Varint)
				{
					instance.iconImageId = ProtocolParser.ReadUInt32(stream);
				}
				break;
			case 100u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.contents == null)
					{
						instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Item DeserializeLength(BufferStream stream, int length, Item instance, bool isDelta)
	{
		if (!isDelta && instance.ownership == null)
		{
			instance.ownership = Pool.Get<List<ItemOwnershipAmount>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.UID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.itemid = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.slot = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.amount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 53:
				instance.removetime = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.locktime = ProtocolParser.ReadSingle(stream);
				continue;
			case 64:
				instance.worldEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 74:
				if (instance.instanceData == null)
				{
					instance.instanceData = InstanceData.DeserializeLengthDelimited(stream);
				}
				else
				{
					InstanceData.DeserializeLengthDelimited(stream, instance.instanceData, isDelta);
				}
				continue;
			case 80:
				instance.heldEntity = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 90:
				if (instance.conditionData == null)
				{
					instance.conditionData = ConditionData.DeserializeLengthDelimited(stream);
				}
				else
				{
					ConditionData.DeserializeLengthDelimited(stream, instance.conditionData, isDelta);
				}
				continue;
			case 114:
				instance.name = ProtocolParser.ReadString(stream);
				continue;
			case 122:
				instance.text = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Varint)
				{
					instance.skinid = ProtocolParser.ReadUInt64(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.cooktime = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.streamerName = ProtocolParser.ReadString(stream);
				}
				break;
			case 19u:
				if (key.WireType == Wire.Varint)
				{
					instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.ownership.Add(ItemOwnershipAmount.DeserializeLengthDelimited(stream));
				}
				break;
			case 21u:
				if (key.WireType == Wire.Varint)
				{
					instance.iconImageId = ProtocolParser.ReadUInt32(stream);
				}
				break;
			case 100u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.contents == null)
					{
						instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Item instance, Item previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.UID.Value);
		if (instance.itemid != previous.itemid)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.itemid);
		}
		if (instance.slot != previous.slot)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.slot);
		}
		if (instance.amount != previous.amount)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.amount);
		}
		if (instance.flags != previous.flags)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.removetime != previous.removetime)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.removetime);
		}
		if (instance.locktime != previous.locktime)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.locktime);
		}
		stream.WriteByte(64);
		ProtocolParser.WriteUInt64(stream, instance.worldEntity.Value);
		if (instance.instanceData != null)
		{
			stream.WriteByte(74);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			InstanceData.SerializeDelta(stream, instance.instanceData, previous.instanceData);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field instanceData (ProtoBuf.Item.InstanceData)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		stream.WriteByte(80);
		ProtocolParser.WriteUInt64(stream, instance.heldEntity.Value);
		if (instance.conditionData != null)
		{
			stream.WriteByte(90);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			ConditionData.SerializeDelta(stream, instance.conditionData, previous.conditionData);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field conditionData (ProtoBuf.Item.ConditionData)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.name != null && instance.name != previous.name)
		{
			stream.WriteByte(114);
			ProtocolParser.WriteString(stream, instance.name);
		}
		if (instance.text != null && instance.text != previous.text)
		{
			stream.WriteByte(122);
			ProtocolParser.WriteString(stream, instance.text);
		}
		if (instance.skinid != previous.skinid)
		{
			stream.WriteByte(128);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
		if (instance.cooktime != previous.cooktime)
		{
			stream.WriteByte(141);
			stream.WriteByte(1);
			ProtocolParser.WriteSingle(stream, instance.cooktime);
		}
		if (instance.streamerName != null && instance.streamerName != previous.streamerName)
		{
			stream.WriteByte(146);
			stream.WriteByte(1);
			ProtocolParser.WriteString(stream, instance.streamerName);
		}
		if (instance.ammoCount != previous.ammoCount)
		{
			stream.WriteByte(152);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoCount);
		}
		if (instance.ownership != null)
		{
			for (int i = 0; i < instance.ownership.Count; i++)
			{
				ItemOwnershipAmount itemOwnershipAmount = instance.ownership[i];
				stream.WriteByte(162);
				stream.WriteByte(1);
				BufferStream.RangeHandle range3 = stream.GetRange(5);
				int position3 = stream.Position;
				ItemOwnershipAmount.SerializeDelta(stream, itemOwnershipAmount, itemOwnershipAmount);
				int val = stream.Position - position3;
				Span<byte> span3 = range3.GetSpan();
				int num3 = ProtocolParser.WriteUInt32((uint)val, span3, 0);
				if (num3 < 5)
				{
					span3[num3 - 1] |= 128;
					while (num3 < 4)
					{
						span3[num3++] = 128;
					}
					span3[4] = 0;
				}
			}
		}
		if (instance.iconImageId != previous.iconImageId)
		{
			stream.WriteByte(168);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt32(stream, instance.iconImageId);
		}
		if (instance.contents == null)
		{
			return;
		}
		stream.WriteByte(162);
		stream.WriteByte(6);
		BufferStream.RangeHandle range4 = stream.GetRange(5);
		int position4 = stream.Position;
		ItemContainer.SerializeDelta(stream, instance.contents, previous.contents);
		int val2 = stream.Position - position4;
		Span<byte> span4 = range4.GetSpan();
		int num4 = ProtocolParser.WriteUInt32((uint)val2, span4, 0);
		if (num4 < 5)
		{
			span4[num4 - 1] |= 128;
			while (num4 < 4)
			{
				span4[num4++] = 128;
			}
			span4[4] = 0;
		}
	}

	public static void Serialize(BufferStream stream, Item instance)
	{
		if (instance.UID != default(ItemId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.UID.Value);
		}
		if (instance.itemid != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.itemid);
		}
		if (instance.slot != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.slot);
		}
		if (instance.amount != 0)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.amount);
		}
		if (instance.flags != 0)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.removetime != 0f)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.removetime);
		}
		if (instance.locktime != 0f)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.locktime);
		}
		if (instance.worldEntity != default(NetworkableId))
		{
			stream.WriteByte(64);
			ProtocolParser.WriteUInt64(stream, instance.worldEntity.Value);
		}
		if (instance.instanceData != null)
		{
			stream.WriteByte(74);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			InstanceData.Serialize(stream, instance.instanceData);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field instanceData (ProtoBuf.Item.InstanceData)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.heldEntity != default(NetworkableId))
		{
			stream.WriteByte(80);
			ProtocolParser.WriteUInt64(stream, instance.heldEntity.Value);
		}
		if (instance.conditionData != null)
		{
			stream.WriteByte(90);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			ConditionData.Serialize(stream, instance.conditionData);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field conditionData (ProtoBuf.Item.ConditionData)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.name != null)
		{
			stream.WriteByte(114);
			ProtocolParser.WriteString(stream, instance.name);
		}
		if (instance.text != null)
		{
			stream.WriteByte(122);
			ProtocolParser.WriteString(stream, instance.text);
		}
		if (instance.skinid != 0L)
		{
			stream.WriteByte(128);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
		if (instance.cooktime != 0f)
		{
			stream.WriteByte(141);
			stream.WriteByte(1);
			ProtocolParser.WriteSingle(stream, instance.cooktime);
		}
		if (instance.streamerName != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(1);
			ProtocolParser.WriteString(stream, instance.streamerName);
		}
		if (instance.ammoCount != 0)
		{
			stream.WriteByte(152);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoCount);
		}
		if (instance.ownership != null)
		{
			for (int i = 0; i < instance.ownership.Count; i++)
			{
				ItemOwnershipAmount instance2 = instance.ownership[i];
				stream.WriteByte(162);
				stream.WriteByte(1);
				BufferStream.RangeHandle range3 = stream.GetRange(5);
				int position3 = stream.Position;
				ItemOwnershipAmount.Serialize(stream, instance2);
				int val = stream.Position - position3;
				Span<byte> span3 = range3.GetSpan();
				int num3 = ProtocolParser.WriteUInt32((uint)val, span3, 0);
				if (num3 < 5)
				{
					span3[num3 - 1] |= 128;
					while (num3 < 4)
					{
						span3[num3++] = 128;
					}
					span3[4] = 0;
				}
			}
		}
		if (instance.iconImageId != 0)
		{
			stream.WriteByte(168);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt32(stream, instance.iconImageId);
		}
		if (instance.contents == null)
		{
			return;
		}
		stream.WriteByte(162);
		stream.WriteByte(6);
		BufferStream.RangeHandle range4 = stream.GetRange(5);
		int position4 = stream.Position;
		ItemContainer.Serialize(stream, instance.contents);
		int val2 = stream.Position - position4;
		Span<byte> span4 = range4.GetSpan();
		int num4 = ProtocolParser.WriteUInt32((uint)val2, span4, 0);
		if (num4 < 5)
		{
			span4[num4 - 1] |= 128;
			while (num4 < 4)
			{
				span4[num4++] = 128;
			}
			span4[4] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.ItemId, ref UID.Value);
		action(UidType.NetworkableId, ref worldEntity.Value);
		instanceData?.InspectUids(action);
		action(UidType.NetworkableId, ref heldEntity.Value);
		conditionData?.InspectUids(action);
		if (ownership != null)
		{
			for (int i = 0; i < ownership.Count; i++)
			{
				ownership[i]?.InspectUids(action);
			}
		}
		contents?.InspectUids(action);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class ItemAmountList : IDisposable, IPooled, IProto<ItemAmountList>, IProto
{
	[NonSerialized]
	public List<int> itemID;

	[NonSerialized]
	public List<float> amount;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ItemAmountList instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.itemID != null)
			{
				List<int> list = instance.itemID;
				Pool.FreeUnmanaged<int>(ref list);
				instance.itemID = list;
			}
			if (instance.amount != null)
			{
				List<float> list2 = instance.amount;
				Pool.FreeUnmanaged<float>(ref list2);
				instance.amount = list2;
			}
			Pool.Free<ItemAmountList>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose ItemAmountList with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ItemAmountList instance)
	{
		if (itemID != null)
		{
			instance.itemID = Pool.Get<List<int>>();
			for (int i = 0; i < itemID.Count; i++)
			{
				int item = itemID[i];
				instance.itemID.Add(item);
			}
		}
		else
		{
			instance.itemID = null;
		}
		if (amount != null)
		{
			instance.amount = Pool.Get<List<float>>();
			for (int j = 0; j < amount.Count; j++)
			{
				float item2 = amount[j];
				instance.amount.Add(item2);
			}
		}
		else
		{
			instance.amount = null;
		}
	}

	public ItemAmountList Copy()
	{
		ItemAmountList itemAmountList = Pool.Get<ItemAmountList>();
		CopyTo(itemAmountList);
		return itemAmountList;
	}

	public static ItemAmountList Deserialize(BufferStream stream)
	{
		ItemAmountList itemAmountList = Pool.Get<ItemAmountList>();
		Deserialize(stream, itemAmountList, isDelta: false);
		return itemAmountList;
	}

	public static ItemAmountList DeserializeLengthDelimited(BufferStream stream)
	{
		ItemAmountList itemAmountList = Pool.Get<ItemAmountList>();
		DeserializeLengthDelimited(stream, itemAmountList, isDelta: false);
		return itemAmountList;
	}

	public static ItemAmountList DeserializeLength(BufferStream stream, int length)
	{
		ItemAmountList itemAmountList = Pool.Get<ItemAmountList>();
		DeserializeLength(stream, length, itemAmountList, isDelta: false);
		return itemAmountList;
	}

	public static ItemAmountList Deserialize(byte[] buffer)
	{
		ItemAmountList itemAmountList = Pool.Get<ItemAmountList>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, itemAmountList, isDelta: false);
		return itemAmountList;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ItemAmountList previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ItemAmountList Deserialize(BufferStream stream, ItemAmountList instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.itemID == null)
			{
				instance.itemID = Pool.Get<List<int>>();
			}
			if (instance.amount == null)
			{
				instance.amount = Pool.Get<List<float>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.itemID.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 21:
				instance.amount.Add(ProtocolParser.ReadSingle(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static ItemAmountList DeserializeLengthDelimited(BufferStream stream, ItemAmountList instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.itemID == null)
			{
				instance.itemID = Pool.Get<List<int>>();
			}
			if (instance.amount == null)
			{
				instance.amount = Pool.Get<List<float>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemID.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 21:
				instance.amount.Add(ProtocolParser.ReadSingle(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ItemAmountList DeserializeLength(BufferStream stream, int length, ItemAmountList instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.itemID == null)
			{
				instance.itemID = Pool.Get<List<int>>();
			}
			if (instance.amount == null)
			{
				instance.amount = Pool.Get<List<float>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemID.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 21:
				instance.amount.Add(ProtocolParser.ReadSingle(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ItemAmountList instance, ItemAmountList previous)
	{
		if (instance.itemID != null)
		{
			for (int i = 0; i < instance.itemID.Count; i++)
			{
				int num = instance.itemID[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
		if (instance.amount != null)
		{
			for (int j = 0; j < instance.amount.Count; j++)
			{
				float f = instance.amount[j];
				stream.WriteByte(21);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
	}

	public static void Serialize(BufferStream stream, ItemAmountList instance)
	{
		if (instance.itemID != null)
		{
			for (int i = 0; i < instance.itemID.Count; i++)
			{
				int num = instance.itemID[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
		if (instance.amount != null)
		{
			for (int j = 0; j < instance.amount.Count; j++)
			{
				float f = instance.amount[j];
				stream.WriteByte(21);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class ItemContainer : IDisposable, IPooled, IProto<ItemContainer>, IProto
{
	[NonSerialized]
	public ItemContainerId UID;

	[NonSerialized]
	public int slots;

	[NonSerialized]
	public float temperature;

	[NonSerialized]
	public int flags;

	[NonSerialized]
	public int allowedContents;

	[NonSerialized]
	public int maxStackSize;

	[NonSerialized]
	public List<int> allowedItems;

	[NonSerialized]
	public List<int> availableSlots;

	[NonSerialized]
	public int volume;

	[NonSerialized]
	public List<Item> contents;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ItemContainer instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		instance.UID = default(ItemContainerId);
		instance.slots = 0;
		instance.temperature = 0f;
		instance.flags = 0;
		instance.allowedContents = 0;
		instance.maxStackSize = 0;
		if (instance.allowedItems != null)
		{
			List<int> list = instance.allowedItems;
			Pool.FreeUnmanaged<int>(ref list);
			instance.allowedItems = list;
		}
		if (instance.availableSlots != null)
		{
			List<int> list2 = instance.availableSlots;
			Pool.FreeUnmanaged<int>(ref list2);
			instance.availableSlots = list2;
		}
		instance.volume = 0;
		if (instance.contents != null)
		{
			for (int i = 0; i < instance.contents.Count; i++)
			{
				if (instance.contents[i] != null)
				{
					instance.contents[i].ResetToPool();
					instance.contents[i] = null;
				}
			}
			List<Item> list3 = instance.contents;
			Pool.Free<Item>(ref list3, false);
			instance.contents = list3;
		}
		Pool.Free<ItemContainer>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose ItemContainer with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ItemContainer instance)
	{
		instance.UID = UID;
		instance.slots = slots;
		instance.temperature = temperature;
		instance.flags = flags;
		instance.allowedContents = allowedContents;
		instance.maxStackSize = maxStackSize;
		if (allowedItems != null)
		{
			instance.allowedItems = Pool.Get<List<int>>();
			for (int i = 0; i < allowedItems.Count; i++)
			{
				int item = allowedItems[i];
				instance.allowedItems.Add(item);
			}
		}
		else
		{
			instance.allowedItems = null;
		}
		if (availableSlots != null)
		{
			instance.availableSlots = Pool.Get<List<int>>();
			for (int j = 0; j < availableSlots.Count; j++)
			{
				int item2 = availableSlots[j];
				instance.availableSlots.Add(item2);
			}
		}
		else
		{
			instance.availableSlots = null;
		}
		instance.volume = volume;
		if (contents != null)
		{
			instance.contents = Pool.Get<List<Item>>();
			for (int k = 0; k < contents.Count; k++)
			{
				Item item3 = contents[k].Copy();
				instance.contents.Add(item3);
			}
		}
		else
		{
			instance.contents = null;
		}
	}

	public ItemContainer Copy()
	{
		ItemContainer itemContainer = Pool.Get<ItemContainer>();
		CopyTo(itemContainer);
		return itemContainer;
	}

	public static ItemContainer Deserialize(BufferStream stream)
	{
		ItemContainer itemContainer = Pool.Get<ItemContainer>();
		Deserialize(stream, itemContainer, isDelta: false);
		return itemContainer;
	}

	public static ItemContainer DeserializeLengthDelimited(BufferStream stream)
	{
		ItemContainer itemContainer = Pool.Get<ItemContainer>();
		DeserializeLengthDelimited(stream, itemContainer, isDelta: false);
		return itemContainer;
	}

	public static ItemContainer DeserializeLength(BufferStream stream, int length)
	{
		ItemContainer itemContainer = Pool.Get<ItemContainer>();
		DeserializeLength(stream, length, itemContainer, isDelta: false);
		return itemContainer;
	}

	public static ItemContainer Deserialize(byte[] buffer)
	{
		ItemContainer itemContainer = Pool.Get<ItemContainer>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, itemContainer, isDelta: false);
		return itemContainer;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ItemContainer previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ItemContainer Deserialize(BufferStream stream, ItemContainer instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.allowedItems == null)
			{
				instance.allowedItems = Pool.Get<List<int>>();
			}
			if (instance.availableSlots == null)
			{
				instance.availableSlots = Pool.Get<List<int>>();
			}
			if (instance.contents == null)
			{
				instance.contents = Pool.Get<List<Item>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.UID = new ItemContainerId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slots = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 29:
				instance.temperature = ProtocolParser.ReadSingle(stream);
				continue;
			case 32:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.allowedContents = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.maxStackSize = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.allowedItems.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 64:
				instance.availableSlots.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 72:
				instance.volume = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			if (key.Field == 100)
			{
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.contents.Add(Item.DeserializeLengthDelimited(stream));
				}
			}
			else
			{
				ProtocolParser.SkipKey(stream, key);
			}
		}
	}

	public static ItemContainer DeserializeLengthDelimited(BufferStream stream, ItemContainer instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.allowedItems == null)
			{
				instance.allowedItems = Pool.Get<List<int>>();
			}
			if (instance.availableSlots == null)
			{
				instance.availableSlots = Pool.Get<List<int>>();
			}
			if (instance.contents == null)
			{
				instance.contents = Pool.Get<List<Item>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.UID = new ItemContainerId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slots = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 29:
				instance.temperature = ProtocolParser.ReadSingle(stream);
				continue;
			case 32:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.allowedContents = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.maxStackSize = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.allowedItems.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 64:
				instance.availableSlots.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 72:
				instance.volume = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			if (key.Field == 100)
			{
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.contents.Add(Item.DeserializeLengthDelimited(stream));
				}
			}
			else
			{
				ProtocolParser.SkipKey(stream, key);
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ItemContainer DeserializeLength(BufferStream stream, int length, ItemContainer instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.allowedItems == null)
			{
				instance.allowedItems = Pool.Get<List<int>>();
			}
			if (instance.availableSlots == null)
			{
				instance.availableSlots = Pool.Get<List<int>>();
			}
			if (instance.contents == null)
			{
				instance.contents = Pool.Get<List<Item>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.UID = new ItemContainerId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slots = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 29:
				instance.temperature = ProtocolParser.ReadSingle(stream);
				continue;
			case 32:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.allowedContents = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.maxStackSize = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.allowedItems.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 64:
				instance.availableSlots.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case 72:
				instance.volume = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			if (key.Field == 100)
			{
				if (key.WireType == Wire.LengthDelimited)
				{
					instance.contents.Add(Item.DeserializeLengthDelimited(stream));
				}
			}
			else
			{
				ProtocolParser.SkipKey(stream, key);
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ItemContainer instance, ItemContainer previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.UID.Value);
		if (instance.slots != previous.slots)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.slots);
		}
		if (instance.temperature != previous.temperature)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.temperature);
		}
		if (instance.flags != previous.flags)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.allowedContents != previous.allowedContents)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.allowedContents);
		}
		if (instance.maxStackSize != previous.maxStackSize)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.maxStackSize);
		}
		if (instance.allowedItems != null)
		{
			for (int i = 0; i < instance.allowedItems.Count; i++)
			{
				int num = instance.allowedItems[i];
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
		if (instance.availableSlots != null)
		{
			for (int j = 0; j < instance.availableSlots.Count; j++)
			{
				int num2 = instance.availableSlots[j];
				stream.WriteByte(64);
				ProtocolParser.WriteUInt64(stream, (ulong)num2);
			}
		}
		if (instance.volume != previous.volume)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.volume);
		}
		if (instance.contents == null)
		{
			return;
		}
		for (int k = 0; k < instance.contents.Count; k++)
		{
			Item item = instance.contents[k];
			stream.WriteByte(162);
			stream.WriteByte(6);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Item.SerializeDelta(stream, item, item);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num3 < 5)
			{
				span[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span[num3++] = 128;
				}
				span[4] = 0;
			}
		}
	}

	public static void Serialize(BufferStream stream, ItemContainer instance)
	{
		if (instance.UID != default(ItemContainerId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.UID.Value);
		}
		if (instance.slots != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.slots);
		}
		if (instance.temperature != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.temperature);
		}
		if (instance.flags != 0)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.allowedContents != 0)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.allowedContents);
		}
		if (instance.maxStackSize != 0)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.maxStackSize);
		}
		if (instance.allowedItems != null)
		{
			for (int i = 0; i < instance.allowedItems.Count; i++)
			{
				int num = instance.allowedItems[i];
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
		if (instance.availableSlots != null)
		{
			for (int j = 0; j < instance.availableSlots.Count; j++)
			{
				int num2 = instance.availableSlots[j];
				stream.WriteByte(64);
				ProtocolParser.WriteUInt64(stream, (ulong)num2);
			}
		}
		if (instance.volume != 0)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.volume);
		}
		if (instance.contents == null)
		{
			return;
		}
		for (int k = 0; k < instance.contents.Count; k++)
		{
			Item instance2 = instance.contents[k];
			stream.WriteByte(162);
			stream.WriteByte(6);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Item.Serialize(stream, instance2);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num3 < 5)
			{
				span[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span[num3++] = 128;
				}
				span[4] = 0;
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.ItemContainerId, ref UID.Value);
		if (contents != null)
		{
			for (int i = 0; i < contents.Count; i++)
			{
				contents[i]?.InspectUids(action);
			}
		}
	}
}


